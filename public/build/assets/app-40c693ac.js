function Em(i,l){for(var a=0;a<l.length;a++){const h=l[a];if(typeof h!="string"&&!Array.isArray(h)){for(const x in h)if(x!=="default"&&!(x in i)){const p=Object.getOwnPropertyDescriptor(h,x);p&&Object.defineProperty(i,x,p.get?p:{enumerable:!0,get:()=>h[x]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}function Mh(i,l){return function(){return i.apply(l,arguments)}}const{toString:_m}=Object.prototype,{getPrototypeOf:vc}=Object,Ma=(i=>l=>{const a=_m.call(l);return i[a]||(i[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Zr=i=>(i=i.toLowerCase(),l=>Ma(l)===i),Ra=i=>l=>typeof l===i,{isArray:Os}=Array,go=Ra("undefined");function Am(i){return i!==null&&!go(i)&&i.constructor!==null&&!go(i.constructor)&&br(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Rh=Zr("ArrayBuffer");function Cm(i){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(i):l=i&&i.buffer&&Rh(i.buffer),l}const ym=Ra("string"),br=Ra("function"),Dh=Ra("number"),Da=i=>i!==null&&typeof i=="object",Im=i=>i===!0||i===!1,_a=i=>{if(Ma(i)!=="object")return!1;const l=vc(i);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},bm=Zr("Date"),Sm=Zr("File"),vm=Zr("Blob"),Tm=Zr("FileList"),Om=i=>Da(i)&&br(i.pipe),Nm=i=>{let l;return i&&(typeof FormData=="function"&&i instanceof FormData||br(i.append)&&((l=Ma(i))==="formdata"||l==="object"&&br(i.toString)&&i.toString()==="[object FormData]"))},Mm=Zr("URLSearchParams"),Rm=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xo(i,l,{allOwnKeys:a=!1}={}){if(i===null||typeof i>"u")return;let h,x;if(typeof i!="object"&&(i=[i]),Os(i))for(h=0,x=i.length;h<x;h++)l.call(null,i[h],h,i);else{const p=a?Object.getOwnPropertyNames(i):Object.keys(i),w=p.length;let E;for(h=0;h<w;h++)E=p[h],l.call(null,i[E],E,i)}}function Lh(i,l){l=l.toLowerCase();const a=Object.keys(i);let h=a.length,x;for(;h-- >0;)if(x=a[h],l===x.toLowerCase())return x;return null}const Bh=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ph=i=>!go(i)&&i!==Bh;function tc(){const{caseless:i}=Ph(this)&&this||{},l={},a=(h,x)=>{const p=i&&Lh(l,x)||x;_a(l[p])&&_a(h)?l[p]=tc(l[p],h):_a(h)?l[p]=tc({},h):Os(h)?l[p]=h.slice():l[p]=h};for(let h=0,x=arguments.length;h<x;h++)arguments[h]&&xo(arguments[h],a);return l}const Dm=(i,l,a,{allOwnKeys:h}={})=>(xo(l,(x,p)=>{a&&br(x)?i[p]=Mh(x,a):i[p]=x},{allOwnKeys:h}),i),Lm=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Bm=(i,l,a,h)=>{i.prototype=Object.create(l.prototype,h),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:l.prototype}),a&&Object.assign(i.prototype,a)},Pm=(i,l,a,h)=>{let x,p,w;const E={};if(l=l||{},i==null)return l;do{for(x=Object.getOwnPropertyNames(i),p=x.length;p-- >0;)w=x[p],(!h||h(w,i,l))&&!E[w]&&(l[w]=i[w],E[w]=!0);i=a!==!1&&vc(i)}while(i&&(!a||a(i,l))&&i!==Object.prototype);return l},Fm=(i,l,a)=>{i=String(i),(a===void 0||a>i.length)&&(a=i.length),a-=l.length;const h=i.indexOf(l,a);return h!==-1&&h===a},km=i=>{if(!i)return null;if(Os(i))return i;let l=i.length;if(!Dh(l))return null;const a=new Array(l);for(;l-- >0;)a[l]=i[l];return a},Um=(i=>l=>i&&l instanceof i)(typeof Uint8Array<"u"&&vc(Uint8Array)),Hm=(i,l)=>{const h=(i&&i[Symbol.iterator]).call(i);let x;for(;(x=h.next())&&!x.done;){const p=x.value;l.call(i,p[0],p[1])}},Wm=(i,l)=>{let a;const h=[];for(;(a=i.exec(l))!==null;)h.push(a);return h},jm=Zr("HTMLFormElement"),Vm=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,h,x){return h.toUpperCase()+x}),Yf=(({hasOwnProperty:i})=>(l,a)=>i.call(l,a))(Object.prototype),zm=Zr("RegExp"),Fh=(i,l)=>{const a=Object.getOwnPropertyDescriptors(i),h={};xo(a,(x,p)=>{let w;(w=l(x,p,i))!==!1&&(h[p]=w||x)}),Object.defineProperties(i,h)},Gm=i=>{Fh(i,(l,a)=>{if(br(i)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const h=i[a];if(br(h)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Ym=(i,l)=>{const a={},h=x=>{x.forEach(p=>{a[p]=!0})};return Os(i)?h(i):h(String(i).split(l)),a},Xm=()=>{},Km=(i,l)=>(i=+i,Number.isFinite(i)?i:l),Yl="abcdefghijklmnopqrstuvwxyz",Xf="0123456789",kh={DIGIT:Xf,ALPHA:Yl,ALPHA_DIGIT:Yl+Yl.toUpperCase()+Xf},Zm=(i=16,l=kh.ALPHA_DIGIT)=>{let a="";const{length:h}=l;for(;i--;)a+=l[Math.random()*h|0];return a};function Qm(i){return!!(i&&br(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const qm=i=>{const l=new Array(10),a=(h,x)=>{if(Da(h)){if(l.indexOf(h)>=0)return;if(!("toJSON"in h)){l[x]=h;const p=Os(h)?[]:{};return xo(h,(w,E)=>{const O=a(w,x+1);!go(O)&&(p[E]=O)}),l[x]=void 0,p}}return h};return a(i,0)},Jm=Zr("AsyncFunction"),$m=i=>i&&(Da(i)||br(i))&&br(i.then)&&br(i.catch),xe={isArray:Os,isArrayBuffer:Rh,isBuffer:Am,isFormData:Nm,isArrayBufferView:Cm,isString:ym,isNumber:Dh,isBoolean:Im,isObject:Da,isPlainObject:_a,isUndefined:go,isDate:bm,isFile:Sm,isBlob:vm,isRegExp:zm,isFunction:br,isStream:Om,isURLSearchParams:Mm,isTypedArray:Um,isFileList:Tm,forEach:xo,merge:tc,extend:Dm,trim:Rm,stripBOM:Lm,inherits:Bm,toFlatObject:Pm,kindOf:Ma,kindOfTest:Zr,endsWith:Fm,toArray:km,forEachEntry:Hm,matchAll:Wm,isHTMLForm:jm,hasOwnProperty:Yf,hasOwnProp:Yf,reduceDescriptors:Fh,freezeMethods:Gm,toObjectSet:Ym,toCamelCase:Vm,noop:Xm,toFiniteNumber:Km,findKey:Lh,global:Bh,isContextDefined:Ph,ALPHABET:kh,generateString:Zm,isSpecCompliantForm:Qm,toJSONObject:qm,isAsyncFn:Jm,isThenable:$m};function At(i,l,a,h,x){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",l&&(this.code=l),a&&(this.config=a),h&&(this.request=h),x&&(this.response=x)}xe.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Uh=At.prototype,Hh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Hh[i]={value:i}});Object.defineProperties(At,Hh);Object.defineProperty(Uh,"isAxiosError",{value:!0});At.from=(i,l,a,h,x,p)=>{const w=Object.create(Uh);return xe.toFlatObject(i,w,function(O){return O!==Error.prototype},E=>E!=="isAxiosError"),At.call(w,i.message,l,a,h,x),w.cause=i,w.name=i.name,p&&Object.assign(w,p),w};const ew=null;function nc(i){return xe.isPlainObject(i)||xe.isArray(i)}function Wh(i){return xe.endsWith(i,"[]")?i.slice(0,-2):i}function Kf(i,l,a){return i?i.concat(l).map(function(x,p){return x=Wh(x),!a&&p?"["+x+"]":x}).join(a?".":""):l}function tw(i){return xe.isArray(i)&&!i.some(nc)}const nw=xe.toFlatObject(xe,{},null,function(l){return/^is[A-Z]/.test(l)});function La(i,l,a){if(!xe.isObject(i))throw new TypeError("target must be an object");l=l||new FormData,a=xe.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(W,Z){return!xe.isUndefined(Z[W])});const h=a.metaTokens,x=a.visitor||I,p=a.dots,w=a.indexes,O=(a.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(l);if(!xe.isFunction(x))throw new TypeError("visitor must be a function");function A(z){if(z===null)return"";if(xe.isDate(z))return z.toISOString();if(!O&&xe.isBlob(z))throw new At("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(z)||xe.isTypedArray(z)?O&&typeof Blob=="function"?new Blob([z]):Buffer.from(z):z}function I(z,W,Z){let ie=z;if(z&&!Z&&typeof z=="object"){if(xe.endsWith(W,"{}"))W=h?W:W.slice(0,-2),z=JSON.stringify(z);else if(xe.isArray(z)&&tw(z)||(xe.isFileList(z)||xe.endsWith(W,"[]"))&&(ie=xe.toArray(z)))return W=Wh(W),ie.forEach(function(te,Ae){!(xe.isUndefined(te)||te===null)&&l.append(w===!0?Kf([W],Ae,p):w===null?W:W+"[]",A(te))}),!1}return nc(z)?!0:(l.append(Kf(Z,W,p),A(z)),!1)}const M=[],j=Object.assign(nw,{defaultVisitor:I,convertValue:A,isVisitable:nc});function H(z,W){if(!xe.isUndefined(z)){if(M.indexOf(z)!==-1)throw Error("Circular reference detected in "+W.join("."));M.push(z),xe.forEach(z,function(ie,q){(!(xe.isUndefined(ie)||ie===null)&&x.call(l,ie,xe.isString(q)?q.trim():q,W,j))===!0&&H(ie,W?W.concat(q):[q])}),M.pop()}}if(!xe.isObject(i))throw new TypeError("data must be an object");return H(i),l}function Zf(i){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(h){return l[h]})}function Tc(i,l){this._pairs=[],i&&La(i,this,l)}const jh=Tc.prototype;jh.append=function(l,a){this._pairs.push([l,a])};jh.toString=function(l){const a=l?function(h){return l.call(this,h,Zf)}:Zf;return this._pairs.map(function(x){return a(x[0])+"="+a(x[1])},"").join("&")};function rw(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vh(i,l,a){if(!l)return i;const h=a&&a.encode||rw,x=a&&a.serialize;let p;if(x?p=x(l,a):p=xe.isURLSearchParams(l)?l.toString():new Tc(l,a).toString(h),p){const w=i.indexOf("#");w!==-1&&(i=i.slice(0,w)),i+=(i.indexOf("?")===-1?"?":"&")+p}return i}class iw{constructor(){this.handlers=[]}use(l,a,h){return this.handlers.push({fulfilled:l,rejected:a,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){xe.forEach(this.handlers,function(h){h!==null&&l(h)})}}const Qf=iw,zh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sw=typeof URLSearchParams<"u"?URLSearchParams:Tc,ow=typeof FormData<"u"?FormData:null,aw=typeof Blob<"u"?Blob:null,lw=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),cw=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Kr={isBrowser:!0,classes:{URLSearchParams:sw,FormData:ow,Blob:aw},isStandardBrowserEnv:lw,isStandardBrowserWebWorkerEnv:cw,protocols:["http","https","file","blob","url","data"]};function uw(i,l){return La(i,new Kr.classes.URLSearchParams,Object.assign({visitor:function(a,h,x,p){return Kr.isNode&&xe.isBuffer(a)?(this.append(h,a.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},l))}function fw(i){return xe.matchAll(/\w+|\[(\w*)]/g,i).map(l=>l[0]==="[]"?"":l[1]||l[0])}function hw(i){const l={},a=Object.keys(i);let h;const x=a.length;let p;for(h=0;h<x;h++)p=a[h],l[p]=i[p];return l}function Gh(i){function l(a,h,x,p){let w=a[p++];const E=Number.isFinite(+w),O=p>=a.length;return w=!w&&xe.isArray(x)?x.length:w,O?(xe.hasOwnProp(x,w)?x[w]=[x[w],h]:x[w]=h,!E):((!x[w]||!xe.isObject(x[w]))&&(x[w]=[]),l(a,h,x[w],p)&&xe.isArray(x[w])&&(x[w]=hw(x[w])),!E)}if(xe.isFormData(i)&&xe.isFunction(i.entries)){const a={};return xe.forEachEntry(i,(h,x)=>{l(fw(h),x,a,0)}),a}return null}function dw(i,l,a){if(xe.isString(i))try{return(l||JSON.parse)(i),xe.trim(i)}catch(h){if(h.name!=="SyntaxError")throw h}return(a||JSON.stringify)(i)}const Oc={transitional:zh,adapter:["xhr","http"],transformRequest:[function(l,a){const h=a.getContentType()||"",x=h.indexOf("application/json")>-1,p=xe.isObject(l);if(p&&xe.isHTMLForm(l)&&(l=new FormData(l)),xe.isFormData(l))return x&&x?JSON.stringify(Gh(l)):l;if(xe.isArrayBuffer(l)||xe.isBuffer(l)||xe.isStream(l)||xe.isFile(l)||xe.isBlob(l))return l;if(xe.isArrayBufferView(l))return l.buffer;if(xe.isURLSearchParams(l))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let E;if(p){if(h.indexOf("application/x-www-form-urlencoded")>-1)return uw(l,this.formSerializer).toString();if((E=xe.isFileList(l))||h.indexOf("multipart/form-data")>-1){const O=this.env&&this.env.FormData;return La(E?{"files[]":l}:l,O&&new O,this.formSerializer)}}return p||x?(a.setContentType("application/json",!1),dw(l)):l}],transformResponse:[function(l){const a=this.transitional||Oc.transitional,h=a&&a.forcedJSONParsing,x=this.responseType==="json";if(l&&xe.isString(l)&&(h&&!this.responseType||x)){const w=!(a&&a.silentJSONParsing)&&x;try{return JSON.parse(l)}catch(E){if(w)throw E.name==="SyntaxError"?At.from(E,At.ERR_BAD_RESPONSE,this,null,this.response):E}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kr.classes.FormData,Blob:Kr.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],i=>{Oc.headers[i]={}});const Nc=Oc,gw=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pw=i=>{const l={};let a,h,x;return i&&i.split(`
`).forEach(function(w){x=w.indexOf(":"),a=w.substring(0,x).trim().toLowerCase(),h=w.substring(x+1).trim(),!(!a||l[a]&&gw[a])&&(a==="set-cookie"?l[a]?l[a].push(h):l[a]=[h]:l[a]=l[a]?l[a]+", "+h:h)}),l},qf=Symbol("internals");function oo(i){return i&&String(i).trim().toLowerCase()}function Aa(i){return i===!1||i==null?i:xe.isArray(i)?i.map(Aa):String(i)}function xw(i){const l=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let h;for(;h=a.exec(i);)l[h[1]]=h[2];return l}const mw=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Xl(i,l,a,h,x){if(xe.isFunction(h))return h.call(this,l,a);if(x&&(l=a),!!xe.isString(l)){if(xe.isString(h))return l.indexOf(h)!==-1;if(xe.isRegExp(h))return h.test(l)}}function ww(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,a,h)=>a.toUpperCase()+h)}function Ew(i,l){const a=xe.toCamelCase(" "+l);["get","set","has"].forEach(h=>{Object.defineProperty(i,h+a,{value:function(x,p,w){return this[h].call(this,l,x,p,w)},configurable:!0})})}class Ba{constructor(l){l&&this.set(l)}set(l,a,h){const x=this;function p(E,O,A){const I=oo(O);if(!I)throw new Error("header name must be a non-empty string");const M=xe.findKey(x,I);(!M||x[M]===void 0||A===!0||A===void 0&&x[M]!==!1)&&(x[M||O]=Aa(E))}const w=(E,O)=>xe.forEach(E,(A,I)=>p(A,I,O));return xe.isPlainObject(l)||l instanceof this.constructor?w(l,a):xe.isString(l)&&(l=l.trim())&&!mw(l)?w(pw(l),a):l!=null&&p(a,l,h),this}get(l,a){if(l=oo(l),l){const h=xe.findKey(this,l);if(h){const x=this[h];if(!a)return x;if(a===!0)return xw(x);if(xe.isFunction(a))return a.call(this,x,h);if(xe.isRegExp(a))return a.exec(x);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,a){if(l=oo(l),l){const h=xe.findKey(this,l);return!!(h&&this[h]!==void 0&&(!a||Xl(this,this[h],h,a)))}return!1}delete(l,a){const h=this;let x=!1;function p(w){if(w=oo(w),w){const E=xe.findKey(h,w);E&&(!a||Xl(h,h[E],E,a))&&(delete h[E],x=!0)}}return xe.isArray(l)?l.forEach(p):p(l),x}clear(l){const a=Object.keys(this);let h=a.length,x=!1;for(;h--;){const p=a[h];(!l||Xl(this,this[p],p,l,!0))&&(delete this[p],x=!0)}return x}normalize(l){const a=this,h={};return xe.forEach(this,(x,p)=>{const w=xe.findKey(h,p);if(w){a[w]=Aa(x),delete a[p];return}const E=l?ww(p):String(p).trim();E!==p&&delete a[p],a[E]=Aa(x),h[E]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const a=Object.create(null);return xe.forEach(this,(h,x)=>{h!=null&&h!==!1&&(a[x]=l&&xe.isArray(h)?h.join(", "):h)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,a])=>l+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...a){const h=new this(l);return a.forEach(x=>h.set(x)),h}static accessor(l){const h=(this[qf]=this[qf]={accessors:{}}).accessors,x=this.prototype;function p(w){const E=oo(w);h[E]||(Ew(x,w),h[E]=!0)}return xe.isArray(l)?l.forEach(p):p(l),this}}Ba.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(Ba.prototype,({value:i},l)=>{let a=l[0].toUpperCase()+l.slice(1);return{get:()=>i,set(h){this[a]=h}}});xe.freezeMethods(Ba);const fi=Ba;function Kl(i,l){const a=this||Nc,h=l||a,x=fi.from(h.headers);let p=h.data;return xe.forEach(i,function(E){p=E.call(a,p,x.normalize(),l?l.status:void 0)}),x.normalize(),p}function Yh(i){return!!(i&&i.__CANCEL__)}function mo(i,l,a){At.call(this,i??"canceled",At.ERR_CANCELED,l,a),this.name="CanceledError"}xe.inherits(mo,At,{__CANCEL__:!0});function _w(i,l,a){const h=a.config.validateStatus;!a.status||!h||h(a.status)?i(a):l(new At("Request failed with status code "+a.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}const Aw=Kr.isStandardBrowserEnv?function(){return{write:function(a,h,x,p,w,E){const O=[];O.push(a+"="+encodeURIComponent(h)),xe.isNumber(x)&&O.push("expires="+new Date(x).toGMTString()),xe.isString(p)&&O.push("path="+p),xe.isString(w)&&O.push("domain="+w),E===!0&&O.push("secure"),document.cookie=O.join("; ")},read:function(a){const h=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return h?decodeURIComponent(h[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Cw(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function yw(i,l){return l?i.replace(/\/+$/,"")+"/"+l.replace(/^\/+/,""):i}function Xh(i,l){return i&&!Cw(l)?yw(i,l):l}const Iw=Kr.isStandardBrowserEnv?function(){const l=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");let h;function x(p){let w=p;return l&&(a.setAttribute("href",w),w=a.href),a.setAttribute("href",w),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return h=x(window.location.href),function(w){const E=xe.isString(w)?x(w):w;return E.protocol===h.protocol&&E.host===h.host}}():function(){return function(){return!0}}();function bw(i){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return l&&l[1]||""}function Sw(i,l){i=i||10;const a=new Array(i),h=new Array(i);let x=0,p=0,w;return l=l!==void 0?l:1e3,function(O){const A=Date.now(),I=h[p];w||(w=A),a[x]=O,h[x]=A;let M=p,j=0;for(;M!==x;)j+=a[M++],M=M%i;if(x=(x+1)%i,x===p&&(p=(p+1)%i),A-w<l)return;const H=I&&A-I;return H?Math.round(j*1e3/H):void 0}}function Jf(i,l){let a=0;const h=Sw(50,250);return x=>{const p=x.loaded,w=x.lengthComputable?x.total:void 0,E=p-a,O=h(E),A=p<=w;a=p;const I={loaded:p,total:w,progress:w?p/w:void 0,bytes:E,rate:O||void 0,estimated:O&&w&&A?(w-p)/O:void 0,event:x};I[l?"download":"upload"]=!0,i(I)}}const vw=typeof XMLHttpRequest<"u",Tw=vw&&function(i){return new Promise(function(a,h){let x=i.data;const p=fi.from(i.headers).normalize(),w=i.responseType;let E;function O(){i.cancelToken&&i.cancelToken.unsubscribe(E),i.signal&&i.signal.removeEventListener("abort",E)}let A;xe.isFormData(x)&&(Kr.isStandardBrowserEnv||Kr.isStandardBrowserWebWorkerEnv?p.setContentType(!1):p.getContentType(/^\s*multipart\/form-data/)?xe.isString(A=p.getContentType())&&p.setContentType(A.replace(/^\s*(multipart\/form-data);+/,"$1")):p.setContentType("multipart/form-data"));let I=new XMLHttpRequest;if(i.auth){const z=i.auth.username||"",W=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";p.set("Authorization","Basic "+btoa(z+":"+W))}const M=Xh(i.baseURL,i.url);I.open(i.method.toUpperCase(),Vh(M,i.params,i.paramsSerializer),!0),I.timeout=i.timeout;function j(){if(!I)return;const z=fi.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),Z={data:!w||w==="text"||w==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:z,config:i,request:I};_w(function(q){a(q),O()},function(q){h(q),O()},Z),I=null}if("onloadend"in I?I.onloadend=j:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(j)},I.onabort=function(){I&&(h(new At("Request aborted",At.ECONNABORTED,i,I)),I=null)},I.onerror=function(){h(new At("Network Error",At.ERR_NETWORK,i,I)),I=null},I.ontimeout=function(){let W=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Z=i.transitional||zh;i.timeoutErrorMessage&&(W=i.timeoutErrorMessage),h(new At(W,Z.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,i,I)),I=null},Kr.isStandardBrowserEnv){const z=Iw(M)&&i.xsrfCookieName&&Aw.read(i.xsrfCookieName);z&&p.set(i.xsrfHeaderName,z)}x===void 0&&p.setContentType(null),"setRequestHeader"in I&&xe.forEach(p.toJSON(),function(W,Z){I.setRequestHeader(Z,W)}),xe.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),w&&w!=="json"&&(I.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&I.addEventListener("progress",Jf(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",Jf(i.onUploadProgress)),(i.cancelToken||i.signal)&&(E=z=>{I&&(h(!z||z.type?new mo(null,i,I):z),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(E),i.signal&&(i.signal.aborted?E():i.signal.addEventListener("abort",E)));const H=bw(M);if(H&&Kr.protocols.indexOf(H)===-1){h(new At("Unsupported protocol "+H+":",At.ERR_BAD_REQUEST,i));return}I.send(x||null)})},rc={http:ew,xhr:Tw};xe.forEach(rc,(i,l)=>{if(i){try{Object.defineProperty(i,"name",{value:l})}catch{}Object.defineProperty(i,"adapterName",{value:l})}});const $f=i=>`- ${i}`,Ow=i=>xe.isFunction(i)||i===null||i===!1,Kh={getAdapter:i=>{i=xe.isArray(i)?i:[i];const{length:l}=i;let a,h;const x={};for(let p=0;p<l;p++){a=i[p];let w;if(h=a,!Ow(a)&&(h=rc[(w=String(a)).toLowerCase()],h===void 0))throw new At(`Unknown adapter '${w}'`);if(h)break;x[w||"#"+p]=h}if(!h){const p=Object.entries(x).map(([E,O])=>`adapter ${E} `+(O===!1?"is not supported by the environment":"is not available in the build"));let w=l?p.length>1?`since :
`+p.map($f).join(`
`):" "+$f(p[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return h},adapters:rc};function Zl(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new mo(null,i)}function eh(i){return Zl(i),i.headers=fi.from(i.headers),i.data=Kl.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Kh.getAdapter(i.adapter||Nc.adapter)(i).then(function(h){return Zl(i),h.data=Kl.call(i,i.transformResponse,h),h.headers=fi.from(h.headers),h},function(h){return Yh(h)||(Zl(i),h&&h.response&&(h.response.data=Kl.call(i,i.transformResponse,h.response),h.response.headers=fi.from(h.response.headers))),Promise.reject(h)})}const th=i=>i instanceof fi?i.toJSON():i;function Ss(i,l){l=l||{};const a={};function h(A,I,M){return xe.isPlainObject(A)&&xe.isPlainObject(I)?xe.merge.call({caseless:M},A,I):xe.isPlainObject(I)?xe.merge({},I):xe.isArray(I)?I.slice():I}function x(A,I,M){if(xe.isUndefined(I)){if(!xe.isUndefined(A))return h(void 0,A,M)}else return h(A,I,M)}function p(A,I){if(!xe.isUndefined(I))return h(void 0,I)}function w(A,I){if(xe.isUndefined(I)){if(!xe.isUndefined(A))return h(void 0,A)}else return h(void 0,I)}function E(A,I,M){if(M in l)return h(A,I);if(M in i)return h(void 0,A)}const O={url:p,method:p,data:p,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,beforeRedirect:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:E,headers:(A,I)=>x(th(A),th(I),!0)};return xe.forEach(Object.keys(Object.assign({},i,l)),function(I){const M=O[I]||x,j=M(i[I],l[I],I);xe.isUndefined(j)&&M!==E||(a[I]=j)}),a}const Zh="1.6.0",Mc={};["object","boolean","number","function","string","symbol"].forEach((i,l)=>{Mc[i]=function(h){return typeof h===i||"a"+(l<1?"n ":" ")+i}});const nh={};Mc.transitional=function(l,a,h){function x(p,w){return"[Axios v"+Zh+"] Transitional option '"+p+"'"+w+(h?". "+h:"")}return(p,w,E)=>{if(l===!1)throw new At(x(w," has been removed"+(a?" in "+a:"")),At.ERR_DEPRECATED);return a&&!nh[w]&&(nh[w]=!0,console.warn(x(w," has been deprecated since v"+a+" and will be removed in the near future"))),l?l(p,w,E):!0}};function Nw(i,l,a){if(typeof i!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const h=Object.keys(i);let x=h.length;for(;x-- >0;){const p=h[x],w=l[p];if(w){const E=i[p],O=E===void 0||w(E,p,i);if(O!==!0)throw new At("option "+p+" must be "+O,At.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new At("Unknown option "+p,At.ERR_BAD_OPTION)}}const ic={assertOptions:Nw,validators:Mc},Si=ic.validators;class Ia{constructor(l){this.defaults=l,this.interceptors={request:new Qf,response:new Qf}}request(l,a){typeof l=="string"?(a=a||{},a.url=l):a=l||{},a=Ss(this.defaults,a);const{transitional:h,paramsSerializer:x,headers:p}=a;h!==void 0&&ic.assertOptions(h,{silentJSONParsing:Si.transitional(Si.boolean),forcedJSONParsing:Si.transitional(Si.boolean),clarifyTimeoutError:Si.transitional(Si.boolean)},!1),x!=null&&(xe.isFunction(x)?a.paramsSerializer={serialize:x}:ic.assertOptions(x,{encode:Si.function,serialize:Si.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let w=p&&xe.merge(p.common,p[a.method]);p&&xe.forEach(["delete","get","head","post","put","patch","common"],z=>{delete p[z]}),a.headers=fi.concat(w,p);const E=[];let O=!0;this.interceptors.request.forEach(function(W){typeof W.runWhen=="function"&&W.runWhen(a)===!1||(O=O&&W.synchronous,E.unshift(W.fulfilled,W.rejected))});const A=[];this.interceptors.response.forEach(function(W){A.push(W.fulfilled,W.rejected)});let I,M=0,j;if(!O){const z=[eh.bind(this),void 0];for(z.unshift.apply(z,E),z.push.apply(z,A),j=z.length,I=Promise.resolve(a);M<j;)I=I.then(z[M++],z[M++]);return I}j=E.length;let H=a;for(M=0;M<j;){const z=E[M++],W=E[M++];try{H=z(H)}catch(Z){W.call(this,Z);break}}try{I=eh.call(this,H)}catch(z){return Promise.reject(z)}for(M=0,j=A.length;M<j;)I=I.then(A[M++],A[M++]);return I}getUri(l){l=Ss(this.defaults,l);const a=Xh(l.baseURL,l.url);return Vh(a,l.params,l.paramsSerializer)}}xe.forEach(["delete","get","head","options"],function(l){Ia.prototype[l]=function(a,h){return this.request(Ss(h||{},{method:l,url:a,data:(h||{}).data}))}});xe.forEach(["post","put","patch"],function(l){function a(h){return function(p,w,E){return this.request(Ss(E||{},{method:l,headers:h?{"Content-Type":"multipart/form-data"}:{},url:p,data:w}))}}Ia.prototype[l]=a(),Ia.prototype[l+"Form"]=a(!0)});const Ca=Ia;class Rc{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(p){a=p});const h=this;this.promise.then(x=>{if(!h._listeners)return;let p=h._listeners.length;for(;p-- >0;)h._listeners[p](x);h._listeners=null}),this.promise.then=x=>{let p;const w=new Promise(E=>{h.subscribe(E),p=E}).then(x);return w.cancel=function(){h.unsubscribe(p)},w},l(function(p,w,E){h.reason||(h.reason=new mo(p,w,E),a(h.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const a=this._listeners.indexOf(l);a!==-1&&this._listeners.splice(a,1)}static source(){let l;return{token:new Rc(function(x){l=x}),cancel:l}}}const Mw=Rc;function Rw(i){return function(a){return i.apply(null,a)}}function Dw(i){return xe.isObject(i)&&i.isAxiosError===!0}const sc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sc).forEach(([i,l])=>{sc[l]=i});const Lw=sc;function Qh(i){const l=new Ca(i),a=Mh(Ca.prototype.request,l);return xe.extend(a,Ca.prototype,l,{allOwnKeys:!0}),xe.extend(a,l,null,{allOwnKeys:!0}),a.create=function(x){return Qh(Ss(i,x))},a}const pn=Qh(Nc);pn.Axios=Ca;pn.CanceledError=mo;pn.CancelToken=Mw;pn.isCancel=Yh;pn.VERSION=Zh;pn.toFormData=La;pn.AxiosError=At;pn.Cancel=pn.CanceledError;pn.all=function(l){return Promise.all(l)};pn.spread=Rw;pn.isAxiosError=Dw;pn.mergeConfig=Ss;pn.AxiosHeaders=fi;pn.formToJSON=i=>Gh(xe.isHTMLForm(i)?new FormData(i):i);pn.getAdapter=Kh.getAdapter;pn.HttpStatusCode=Lw;pn.default=pn;const Bw=pn;var Xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ba={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ba.exports;(function(i,l){(function(){var a,h="4.17.21",x=200,p="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",w="Expected a function",E="Invalid `variable` option passed into `_.template`",O="__lodash_hash_undefined__",A=500,I="__lodash_placeholder__",M=1,j=2,H=4,z=1,W=2,Z=1,ie=2,q=4,te=8,Ae=16,Xe=32,Fe=64,me=128,ne=256,J=512,Te=30,ae="...",T=800,D=16,V=1,B=2,ee=3,ce=1/0,Ce=9007199254740991,ve=17976931348623157e292,he=0/0,Le=4294967295,He=Le-1,lt=Le>>>1,Ye=[["ary",me],["bind",Z],["bindKey",ie],["curry",te],["curryRight",Ae],["flip",J],["partial",Xe],["partialRight",Fe],["rearg",ne]],xt="[object Arguments]",Oe="[object Array]",ut="[object AsyncFunction]",Ve="[object Boolean]",Ct="[object Date]",St="[object DOMException]",yt="[object Error]",fn="[object Function]",ft="[object GeneratorFunction]",hn="[object Map]",Cn="[object Number]",Qr="[object Null]",Dt="[object Object]",Nt="[object Promise]",ht="[object Proxy]",tr="[object RegExp]",Ne="[object Set]",Xn="[object String]",Fr="[object Symbol]",nr="[object Undefined]",Sr="[object WeakMap]",Un="[object WeakSet]",kr="[object ArrayBuffer]",On="[object DataView]",en="[object Float32Array]",gi="[object Float64Array]",dr="[object Int8Array]",Ur="[object Int16Array]",Ut="[object Int32Array]",Se="[object Uint8Array]",Gt="[object Uint8ClampedArray]",It="[object Uint16Array]",Lt="[object Uint32Array]",Hr=/\b__p \+= '';/g,Di=/\b(__p \+=) '' \+/g,as=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,gr=/[&<>"']/g,vr=RegExp(mt.source),se=RegExp(gr.source),K=/<%-([\s\S]+?)%>/g,oe=/<%([\s\S]+?)%>/g,ue=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ye=/^\w*$/,be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,De=RegExp(Re.source),Ue=/^\s+/,Be=/\s/,Je=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$e=/\{\n\/\* \[wrapped with (.+)\] \*/,Ie=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yn=/[()=,{}\[\]\/\s]/,Zt=/\\(\\)?/g,In=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kn=/\w*$/,Zn=/^[-+]0x[0-9a-f]+$/i,Nn=/^0b[01]+$/i,Ds=/^\[object .+?Constructor\]$/,Li=/^0o[0-7]+$/i,Yt=/^(?:0|[1-9]\d*)$/,Vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,Bi=/['\n\r\u2028\u2029\\]/g,Mn="\\ud800-\\udfff",pr="\\u0300-\\u036f",we="\\ufe20-\\ufe2f",Hn="\\u20d0-\\u20ff",Mt=pr+we+Hn,xr="\\u2700-\\u27bf",Co="a-z\\xdf-\\xf6\\xf8-\\xff",vt="\\xac\\xb1\\xd7\\xf7",bt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dt="\\u2000-\\u206f",Ls=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ls="A-Z\\xc0-\\xd6\\xd8-\\xde",cs="\\ufe0e\\ufe0f",nn=vt+bt+dt+Ls,mr="['’]",za="["+Mn+"]",Qt="["+nn+"]",rr="["+Mt+"]",yo="\\d+",pi="["+xr+"]",Bt="["+Co+"]",mn="[^"+Mn+nn+yo+xr+Co+ls+"]",$="\\ud83c[\\udffb-\\udfff]",k="(?:"+rr+"|"+$+")",je="[^"+Mn+"]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",Ln="[\\ud800-\\udbff][\\udc00-\\udfff]",xi="["+ls+"]",us="\\u200d",Wn="(?:"+Bt+"|"+mn+")",ze="(?:"+xi+"|"+mn+")",zt="(?:"+mr+"(?:d|ll|m|re|s|t|ve))?",Bs="(?:"+mr+"(?:D|LL|M|RE|S|T|VE))?",Io=k+"?",fs="["+cs+"]?",hs="(?:"+us+"(?:"+[je,rn,Ln].join("|")+")"+fs+Io+")*",Ps="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ga="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ln=fs+Io+hs,Pi="(?:"+[pi,rn,Ln].join("|")+")"+ln,Wr="(?:"+[je+rr+"?",rr,rn,Ln,za].join("|")+")",Ke=RegExp(mr,"g"),Ya=RegExp(rr,"g"),nt=RegExp($+"(?="+$+")|"+Wr+ln,"g"),wn=RegExp([xi+"?"+Bt+"+"+zt+"(?="+[Qt,xi,"$"].join("|")+")",ze+"+"+Bs+"(?="+[Qt,xi+Wn,"$"].join("|")+")",xi+"?"+Wn+"+"+zt,xi+"+"+Bs,Ga,Ps,yo,Pi].join("|"),"g"),Xa=RegExp("["+us+Mn+Mt+cs+"]"),Fs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qr=-1,Wt={};Wt[en]=Wt[gi]=Wt[dr]=Wt[Ur]=Wt[Ut]=Wt[Se]=Wt[Gt]=Wt[It]=Wt[Lt]=!0,Wt[xt]=Wt[Oe]=Wt[kr]=Wt[Ve]=Wt[On]=Wt[Ct]=Wt[yt]=Wt[fn]=Wt[hn]=Wt[Cn]=Wt[Dt]=Wt[tr]=Wt[Ne]=Wt[Xn]=Wt[Sr]=!1;var Tt={};Tt[xt]=Tt[Oe]=Tt[kr]=Tt[On]=Tt[Ve]=Tt[Ct]=Tt[en]=Tt[gi]=Tt[dr]=Tt[Ur]=Tt[Ut]=Tt[hn]=Tt[Cn]=Tt[Dt]=Tt[tr]=Tt[Ne]=Tt[Xn]=Tt[Fr]=Tt[Se]=Tt[Gt]=Tt[It]=Tt[Lt]=!0,Tt[yt]=Tt[fn]=Tt[Sr]=!1;var Fi={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ki={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},So={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ui={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hi=parseFloat,Bn=parseInt,ks=typeof Xr=="object"&&Xr&&Xr.Object===Object&&Xr,vo=typeof self=="object"&&self&&self.Object===Object&&self,dn=ks||vo||Function("return this")(),Us=l&&!l.nodeType&&l,Jr=Us&&!0&&i&&!i.nodeType&&i,To=Jr&&Jr.exports===Us,Ot=To&&ks.process,jn=function(){try{var v=Jr&&Jr.require&&Jr.require("util").types;return v||Ot&&Ot.binding&&Ot.binding("util")}catch{}}(),Wi=jn&&jn.isArrayBuffer,Tr=jn&&jn.isDate,Oo=jn&&jn.isMap,re=jn&&jn.isRegExp,it=jn&&jn.isSet,gn=jn&&jn.isTypedArray;function bn(v,L,F){switch(F.length){case 0:return v.call(L);case 1:return v.call(L,F[0]);case 2:return v.call(L,F[0],F[1]);case 3:return v.call(L,F[0],F[1],F[2])}return v.apply(L,F)}function No(v,L,F,Y){for(var le=-1,fe=v==null?0:v.length;++le<fe;){var de=v[le];L(Y,de,F(de),v)}return Y}function Qn(v,L){for(var F=-1,Y=v==null?0:v.length;++F<Y&&L(v[F],F,v)!==!1;);return v}function Ka(v,L){for(var F=v==null?0:v.length;F--&&L(v[F],F,v)!==!1;);return v}function Mo(v,L){for(var F=-1,Y=v==null?0:v.length;++F<Y;)if(!L(v[F],F,v))return!1;return!0}function wr(v,L){for(var F=-1,Y=v==null?0:v.length,le=0,fe=[];++F<Y;){var de=v[F];L(de,F,v)&&(fe[le++]=de)}return fe}function qt(v,L){var F=v==null?0:v.length;return!!F&&Rn(v,L,0)>-1}function ji(v,L,F){for(var Y=-1,le=v==null?0:v.length;++Y<le;)if(F(L,v[Y]))return!0;return!1}function et(v,L){for(var F=-1,Y=v==null?0:v.length,le=Array(Y);++F<Y;)le[F]=L(v[F],F,v);return le}function ir(v,L){for(var F=-1,Y=L.length,le=v.length;++F<Y;)v[le+F]=L[F];return v}function Or(v,L,F,Y){var le=-1,fe=v==null?0:v.length;for(Y&&fe&&(F=v[++le]);++le<fe;)F=L(F,v[le],le,v);return F}function Pt(v,L,F,Y){var le=v==null?0:v.length;for(Y&&le&&(F=v[--le]);le--;)F=L(F,v[le],le,v);return F}function Ge(v,L){for(var F=-1,Y=v==null?0:v.length;++F<Y;)if(L(v[F],F,v))return!0;return!1}var Za=ps("length");function jt(v){return v.split("")}function $r(v){return v.match(Ht)||[]}function ei(v,L,F){var Y;return F(v,function(le,fe,de){if(L(le,fe,de))return Y=fe,!1}),Y}function ds(v,L,F,Y){for(var le=v.length,fe=F+(Y?1:-1);Y?fe--:++fe<le;)if(L(v[fe],fe,v))return fe;return-1}function Rn(v,L,F){return L===L?n(v,L,F):ds(v,Ws,F)}function Hs(v,L,F,Y){for(var le=F-1,fe=v.length;++le<fe;)if(Y(v[le],L))return le;return-1}function Ws(v){return v!==v}function gs(v,L){var F=v==null?0:v.length;return F?Vi(v,L)/F:he}function ps(v){return function(L){return L==null?a:L[v]}}function xs(v){return function(L){return v==null?a:v[L]}}function Ro(v,L,F,Y,le){return le(v,function(fe,de,ke){F=Y?(Y=!1,fe):L(F,fe,de,ke)}),F}function mi(v,L){var F=v.length;for(v.sort(L);F--;)v[F]=v[F].value;return v}function Vi(v,L){for(var F,Y=-1,le=v.length;++Y<le;){var fe=L(v[Y]);fe!==a&&(F=F===a?fe:F+fe)}return F}function js(v,L){for(var F=-1,Y=Array(v);++F<v;)Y[F]=L(F);return Y}function zi(v,L){return et(L,function(F){return[F,v[F]]})}function Do(v){return v&&v.slice(0,f(v)+1).replace(Ue,"")}function sn(v){return function(L){return v(L)}}function wi(v,L){return et(L,function(F){return v[F]})}function Sn(v,L){return v.has(L)}function Vs(v,L){for(var F=-1,Y=v.length;++F<Y&&Rn(L,v[F],0)>-1;);return F}function sr(v,L){for(var F=v.length;F--&&Rn(L,v[F],0)>-1;);return F}function Qa(v,L){for(var F=v.length,Y=0;F--;)v[F]===L&&++Y;return Y}var zs=xs(Fi),qa=xs(ki);function Lo(v){return"\\"+Ui[v]}function Er(v,L){return v==null?a:v[L]}function Ei(v){return Xa.test(v)}function Gs(v){return Fs.test(v)}function Gi(v){for(var L,F=[];!(L=v.next()).done;)F.push(L.value);return F}function gt(v){var L=-1,F=Array(v.size);return v.forEach(function(Y,le){F[++L]=[le,Y]}),F}function Yi(v,L){return function(F){return v(L(F))}}function y(v,L){for(var F=-1,Y=v.length,le=0,fe=[];++F<Y;){var de=v[F];(de===L||de===I)&&(v[F]=I,fe[le++]=F)}return fe}function e(v){var L=-1,F=Array(v.size);return v.forEach(function(Y){F[++L]=Y}),F}function t(v){var L=-1,F=Array(v.size);return v.forEach(function(Y){F[++L]=[Y,Y]}),F}function n(v,L,F){for(var Y=F-1,le=v.length;++Y<le;)if(v[Y]===L)return Y;return-1}function s(v,L,F){for(var Y=F+1;Y--;)if(v[Y]===L)return Y;return Y}function o(v){return Ei(v)?m(v):Za(v)}function u(v){return Ei(v)?C(v):jt(v)}function f(v){for(var L=v.length;L--&&Be.test(v.charAt(L)););return L}var g=xs(So);function m(v){for(var L=nt.lastIndex=0;nt.test(v);)++L;return L}function C(v){return v.match(nt)||[]}function b(v){return v.match(wn)||[]}var N=function v(L){L=L==null?dn:U.defaults(dn.Object(),L,U.pick(dn,bo));var F=L.Array,Y=L.Date,le=L.Error,fe=L.Function,de=L.Math,ke=L.Object,tt=L.RegExp,Pn=L.String,Jt=L.TypeError,En=F.prototype,Ft=fe.prototype,$t=ke.prototype,vn=L["__core-js_shared__"],Nr=Ft.toString,wt=$t.hasOwnProperty,Ja=0,Bo=function(){var r=/[^.]+$/.exec(vn&&vn.keys&&vn.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Po=$t.toString,p0=Nr.call(ke),x0=dn._,m0=tt("^"+Nr.call(wt).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fo=To?L.Buffer:a,_i=L.Symbol,ko=L.Uint8Array,ru=Fo?Fo.allocUnsafe:a,Uo=Yi(ke.getPrototypeOf,ke),iu=ke.create,su=$t.propertyIsEnumerable,Ho=En.splice,ou=_i?_i.isConcatSpreadable:a,Ys=_i?_i.iterator:a,Xi=_i?_i.toStringTag:a,Wo=function(){try{var r=Ji(ke,"defineProperty");return r({},"",{}),r}catch{}}(),w0=L.clearTimeout!==dn.clearTimeout&&L.clearTimeout,E0=Y&&Y.now!==dn.Date.now&&Y.now,_0=L.setTimeout!==dn.setTimeout&&L.setTimeout,jo=de.ceil,Vo=de.floor,$a=ke.getOwnPropertySymbols,A0=Fo?Fo.isBuffer:a,au=L.isFinite,C0=En.join,y0=Yi(ke.keys,ke),_n=de.max,Fn=de.min,I0=Y.now,b0=L.parseInt,lu=de.random,S0=En.reverse,el=Ji(L,"DataView"),Xs=Ji(L,"Map"),tl=Ji(L,"Promise"),ms=Ji(L,"Set"),Ks=Ji(L,"WeakMap"),Zs=Ji(ke,"create"),zo=Ks&&new Ks,ws={},v0=$i(el),T0=$i(Xs),O0=$i(tl),N0=$i(ms),M0=$i(Ks),Go=_i?_i.prototype:a,Qs=Go?Go.valueOf:a,cu=Go?Go.toString:a;function R(r){if(on(r)&&!rt(r)&&!(r instanceof Et)){if(r instanceof _r)return r;if(wt.call(r,"__wrapped__"))return ff(r)}return new _r(r)}var Es=function(){function r(){}return function(c){if(!tn(c))return{};if(iu)return iu(c);r.prototype=c;var d=new r;return r.prototype=a,d}}();function Yo(){}function _r(r,c){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=a}R.templateSettings={escape:K,evaluate:oe,interpolate:ue,variable:"",imports:{_:R}},R.prototype=Yo.prototype,R.prototype.constructor=R,_r.prototype=Es(Yo.prototype),_r.prototype.constructor=_r;function Et(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Le,this.__views__=[]}function R0(){var r=new Et(this.__wrapped__);return r.__actions__=qn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=qn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=qn(this.__views__),r}function D0(){if(this.__filtered__){var r=new Et(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function L0(){var r=this.__wrapped__.value(),c=this.__dir__,d=rt(r),_=c<0,S=d?r.length:0,P=Yd(0,S,this.__views__),G=P.start,X=P.end,Q=X-G,ge=_?X:G-1,pe=this.__iteratees__,_e=pe.length,Me=0,We=Fn(Q,this.__takeCount__);if(!d||!_&&S==Q&&We==Q)return Du(r,this.__actions__);var Qe=[];e:for(;Q--&&Me<We;){ge+=c;for(var ot=-1,qe=r[ge];++ot<_e;){var pt=pe[ot],_t=pt.iteratee,lr=pt.type,Gn=_t(qe);if(lr==B)qe=Gn;else if(!Gn){if(lr==V)continue e;break e}}Qe[Me++]=qe}return Qe}Et.prototype=Es(Yo.prototype),Et.prototype.constructor=Et;function Ki(r){var c=-1,d=r==null?0:r.length;for(this.clear();++c<d;){var _=r[c];this.set(_[0],_[1])}}function B0(){this.__data__=Zs?Zs(null):{},this.size=0}function P0(r){var c=this.has(r)&&delete this.__data__[r];return this.size-=c?1:0,c}function F0(r){var c=this.__data__;if(Zs){var d=c[r];return d===O?a:d}return wt.call(c,r)?c[r]:a}function k0(r){var c=this.__data__;return Zs?c[r]!==a:wt.call(c,r)}function U0(r,c){var d=this.__data__;return this.size+=this.has(r)?0:1,d[r]=Zs&&c===a?O:c,this}Ki.prototype.clear=B0,Ki.prototype.delete=P0,Ki.prototype.get=F0,Ki.prototype.has=k0,Ki.prototype.set=U0;function ti(r){var c=-1,d=r==null?0:r.length;for(this.clear();++c<d;){var _=r[c];this.set(_[0],_[1])}}function H0(){this.__data__=[],this.size=0}function W0(r){var c=this.__data__,d=Xo(c,r);if(d<0)return!1;var _=c.length-1;return d==_?c.pop():Ho.call(c,d,1),--this.size,!0}function j0(r){var c=this.__data__,d=Xo(c,r);return d<0?a:c[d][1]}function V0(r){return Xo(this.__data__,r)>-1}function z0(r,c){var d=this.__data__,_=Xo(d,r);return _<0?(++this.size,d.push([r,c])):d[_][1]=c,this}ti.prototype.clear=H0,ti.prototype.delete=W0,ti.prototype.get=j0,ti.prototype.has=V0,ti.prototype.set=z0;function ni(r){var c=-1,d=r==null?0:r.length;for(this.clear();++c<d;){var _=r[c];this.set(_[0],_[1])}}function G0(){this.size=0,this.__data__={hash:new Ki,map:new(Xs||ti),string:new Ki}}function Y0(r){var c=sa(this,r).delete(r);return this.size-=c?1:0,c}function X0(r){return sa(this,r).get(r)}function K0(r){return sa(this,r).has(r)}function Z0(r,c){var d=sa(this,r),_=d.size;return d.set(r,c),this.size+=d.size==_?0:1,this}ni.prototype.clear=G0,ni.prototype.delete=Y0,ni.prototype.get=X0,ni.prototype.has=K0,ni.prototype.set=Z0;function Zi(r){var c=-1,d=r==null?0:r.length;for(this.__data__=new ni;++c<d;)this.add(r[c])}function Q0(r){return this.__data__.set(r,O),this}function q0(r){return this.__data__.has(r)}Zi.prototype.add=Zi.prototype.push=Q0,Zi.prototype.has=q0;function Mr(r){var c=this.__data__=new ti(r);this.size=c.size}function J0(){this.__data__=new ti,this.size=0}function $0(r){var c=this.__data__,d=c.delete(r);return this.size=c.size,d}function ed(r){return this.__data__.get(r)}function td(r){return this.__data__.has(r)}function nd(r,c){var d=this.__data__;if(d instanceof ti){var _=d.__data__;if(!Xs||_.length<x-1)return _.push([r,c]),this.size=++d.size,this;d=this.__data__=new ni(_)}return d.set(r,c),this.size=d.size,this}Mr.prototype.clear=J0,Mr.prototype.delete=$0,Mr.prototype.get=ed,Mr.prototype.has=td,Mr.prototype.set=nd;function uu(r,c){var d=rt(r),_=!d&&es(r),S=!d&&!_&&bi(r),P=!d&&!_&&!S&&ys(r),G=d||_||S||P,X=G?js(r.length,Pn):[],Q=X.length;for(var ge in r)(c||wt.call(r,ge))&&!(G&&(ge=="length"||S&&(ge=="offset"||ge=="parent")||P&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||oi(ge,Q)))&&X.push(ge);return X}function fu(r){var c=r.length;return c?r[hl(0,c-1)]:a}function rd(r,c){return oa(qn(r),Qi(c,0,r.length))}function id(r){return oa(qn(r))}function nl(r,c,d){(d!==a&&!Rr(r[c],d)||d===a&&!(c in r))&&ri(r,c,d)}function qs(r,c,d){var _=r[c];(!(wt.call(r,c)&&Rr(_,d))||d===a&&!(c in r))&&ri(r,c,d)}function Xo(r,c){for(var d=r.length;d--;)if(Rr(r[d][0],c))return d;return-1}function sd(r,c,d,_){return Ai(r,function(S,P,G){c(_,S,d(S),G)}),_}function hu(r,c){return r&&Vr(c,Tn(c),r)}function od(r,c){return r&&Vr(c,$n(c),r)}function ri(r,c,d){c=="__proto__"&&Wo?Wo(r,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):r[c]=d}function rl(r,c){for(var d=-1,_=c.length,S=F(_),P=r==null;++d<_;)S[d]=P?a:Fl(r,c[d]);return S}function Qi(r,c,d){return r===r&&(d!==a&&(r=r<=d?r:d),c!==a&&(r=r>=c?r:c)),r}function Ar(r,c,d,_,S,P){var G,X=c&M,Q=c&j,ge=c&H;if(d&&(G=S?d(r,_,S,P):d(r)),G!==a)return G;if(!tn(r))return r;var pe=rt(r);if(pe){if(G=Kd(r),!X)return qn(r,G)}else{var _e=kn(r),Me=_e==fn||_e==ft;if(bi(r))return Pu(r,X);if(_e==Dt||_e==xt||Me&&!S){if(G=Q||Me?{}:tf(r),!X)return Q?Fd(r,od(G,r)):Pd(r,hu(G,r))}else{if(!Tt[_e])return S?r:{};G=Zd(r,_e,X)}}P||(P=new Mr);var We=P.get(r);if(We)return We;P.set(r,G),Mf(r)?r.forEach(function(qe){G.add(Ar(qe,c,d,qe,r,P))}):Of(r)&&r.forEach(function(qe,pt){G.set(pt,Ar(qe,c,d,pt,r,P))});var Qe=ge?Q?yl:Cl:Q?$n:Tn,ot=pe?a:Qe(r);return Qn(ot||r,function(qe,pt){ot&&(pt=qe,qe=r[pt]),qs(G,pt,Ar(qe,c,d,pt,r,P))}),G}function ad(r){var c=Tn(r);return function(d){return du(d,r,c)}}function du(r,c,d){var _=d.length;if(r==null)return!_;for(r=ke(r);_--;){var S=d[_],P=c[S],G=r[S];if(G===a&&!(S in r)||!P(G))return!1}return!0}function gu(r,c,d){if(typeof r!="function")throw new Jt(w);return io(function(){r.apply(a,d)},c)}function Js(r,c,d,_){var S=-1,P=qt,G=!0,X=r.length,Q=[],ge=c.length;if(!X)return Q;d&&(c=et(c,sn(d))),_?(P=ji,G=!1):c.length>=x&&(P=Sn,G=!1,c=new Zi(c));e:for(;++S<X;){var pe=r[S],_e=d==null?pe:d(pe);if(pe=_||pe!==0?pe:0,G&&_e===_e){for(var Me=ge;Me--;)if(c[Me]===_e)continue e;Q.push(pe)}else P(c,_e,_)||Q.push(pe)}return Q}var Ai=Wu(jr),pu=Wu(sl,!0);function ld(r,c){var d=!0;return Ai(r,function(_,S,P){return d=!!c(_,S,P),d}),d}function Ko(r,c,d){for(var _=-1,S=r.length;++_<S;){var P=r[_],G=c(P);if(G!=null&&(X===a?G===G&&!ar(G):d(G,X)))var X=G,Q=P}return Q}function cd(r,c,d,_){var S=r.length;for(d=st(d),d<0&&(d=-d>S?0:S+d),_=_===a||_>S?S:st(_),_<0&&(_+=S),_=d>_?0:Df(_);d<_;)r[d++]=c;return r}function xu(r,c){var d=[];return Ai(r,function(_,S,P){c(_,S,P)&&d.push(_)}),d}function Dn(r,c,d,_,S){var P=-1,G=r.length;for(d||(d=qd),S||(S=[]);++P<G;){var X=r[P];c>0&&d(X)?c>1?Dn(X,c-1,d,_,S):ir(S,X):_||(S[S.length]=X)}return S}var il=ju(),mu=ju(!0);function jr(r,c){return r&&il(r,c,Tn)}function sl(r,c){return r&&mu(r,c,Tn)}function Zo(r,c){return wr(c,function(d){return ai(r[d])})}function qi(r,c){c=yi(c,r);for(var d=0,_=c.length;r!=null&&d<_;)r=r[zr(c[d++])];return d&&d==_?r:a}function wu(r,c,d){var _=c(r);return rt(r)?_:ir(_,d(r))}function Vn(r){return r==null?r===a?nr:Qr:Xi&&Xi in ke(r)?Gd(r):ig(r)}function ol(r,c){return r>c}function ud(r,c){return r!=null&&wt.call(r,c)}function fd(r,c){return r!=null&&c in ke(r)}function hd(r,c,d){return r>=Fn(c,d)&&r<_n(c,d)}function al(r,c,d){for(var _=d?ji:qt,S=r[0].length,P=r.length,G=P,X=F(P),Q=1/0,ge=[];G--;){var pe=r[G];G&&c&&(pe=et(pe,sn(c))),Q=Fn(pe.length,Q),X[G]=!d&&(c||S>=120&&pe.length>=120)?new Zi(G&&pe):a}pe=r[0];var _e=-1,Me=X[0];e:for(;++_e<S&&ge.length<Q;){var We=pe[_e],Qe=c?c(We):We;if(We=d||We!==0?We:0,!(Me?Sn(Me,Qe):_(ge,Qe,d))){for(G=P;--G;){var ot=X[G];if(!(ot?Sn(ot,Qe):_(r[G],Qe,d)))continue e}Me&&Me.push(Qe),ge.push(We)}}return ge}function dd(r,c,d,_){return jr(r,function(S,P,G){c(_,d(S),P,G)}),_}function $s(r,c,d){c=yi(c,r),r=of(r,c);var _=r==null?r:r[zr(yr(c))];return _==null?a:bn(_,r,d)}function Eu(r){return on(r)&&Vn(r)==xt}function gd(r){return on(r)&&Vn(r)==kr}function pd(r){return on(r)&&Vn(r)==Ct}function eo(r,c,d,_,S){return r===c?!0:r==null||c==null||!on(r)&&!on(c)?r!==r&&c!==c:xd(r,c,d,_,eo,S)}function xd(r,c,d,_,S,P){var G=rt(r),X=rt(c),Q=G?Oe:kn(r),ge=X?Oe:kn(c);Q=Q==xt?Dt:Q,ge=ge==xt?Dt:ge;var pe=Q==Dt,_e=ge==Dt,Me=Q==ge;if(Me&&bi(r)){if(!bi(c))return!1;G=!0,pe=!1}if(Me&&!pe)return P||(P=new Mr),G||ys(r)?Ju(r,c,d,_,S,P):Vd(r,c,Q,d,_,S,P);if(!(d&z)){var We=pe&&wt.call(r,"__wrapped__"),Qe=_e&&wt.call(c,"__wrapped__");if(We||Qe){var ot=We?r.value():r,qe=Qe?c.value():c;return P||(P=new Mr),S(ot,qe,d,_,P)}}return Me?(P||(P=new Mr),zd(r,c,d,_,S,P)):!1}function md(r){return on(r)&&kn(r)==hn}function ll(r,c,d,_){var S=d.length,P=S,G=!_;if(r==null)return!P;for(r=ke(r);S--;){var X=d[S];if(G&&X[2]?X[1]!==r[X[0]]:!(X[0]in r))return!1}for(;++S<P;){X=d[S];var Q=X[0],ge=r[Q],pe=X[1];if(G&&X[2]){if(ge===a&&!(Q in r))return!1}else{var _e=new Mr;if(_)var Me=_(ge,pe,Q,r,c,_e);if(!(Me===a?eo(pe,ge,z|W,_,_e):Me))return!1}}return!0}function _u(r){if(!tn(r)||$d(r))return!1;var c=ai(r)?m0:Ds;return c.test($i(r))}function wd(r){return on(r)&&Vn(r)==tr}function Ed(r){return on(r)&&kn(r)==Ne}function _d(r){return on(r)&&ha(r.length)&&!!Wt[Vn(r)]}function Au(r){return typeof r=="function"?r:r==null?er:typeof r=="object"?rt(r)?Iu(r[0],r[1]):yu(r):zf(r)}function cl(r){if(!ro(r))return y0(r);var c=[];for(var d in ke(r))wt.call(r,d)&&d!="constructor"&&c.push(d);return c}function Ad(r){if(!tn(r))return rg(r);var c=ro(r),d=[];for(var _ in r)_=="constructor"&&(c||!wt.call(r,_))||d.push(_);return d}function ul(r,c){return r<c}function Cu(r,c){var d=-1,_=Jn(r)?F(r.length):[];return Ai(r,function(S,P,G){_[++d]=c(S,P,G)}),_}function yu(r){var c=bl(r);return c.length==1&&c[0][2]?rf(c[0][0],c[0][1]):function(d){return d===r||ll(d,r,c)}}function Iu(r,c){return vl(r)&&nf(c)?rf(zr(r),c):function(d){var _=Fl(d,r);return _===a&&_===c?kl(d,r):eo(c,_,z|W)}}function Qo(r,c,d,_,S){r!==c&&il(c,function(P,G){if(S||(S=new Mr),tn(P))Cd(r,c,G,d,Qo,_,S);else{var X=_?_(Ol(r,G),P,G+"",r,c,S):a;X===a&&(X=P),nl(r,G,X)}},$n)}function Cd(r,c,d,_,S,P,G){var X=Ol(r,d),Q=Ol(c,d),ge=G.get(Q);if(ge){nl(r,d,ge);return}var pe=P?P(X,Q,d+"",r,c,G):a,_e=pe===a;if(_e){var Me=rt(Q),We=!Me&&bi(Q),Qe=!Me&&!We&&ys(Q);pe=Q,Me||We||Qe?rt(X)?pe=X:cn(X)?pe=qn(X):We?(_e=!1,pe=Pu(Q,!0)):Qe?(_e=!1,pe=Fu(Q,!0)):pe=[]:so(Q)||es(Q)?(pe=X,es(X)?pe=Lf(X):(!tn(X)||ai(X))&&(pe=tf(Q))):_e=!1}_e&&(G.set(Q,pe),S(pe,Q,_,P,G),G.delete(Q)),nl(r,d,pe)}function bu(r,c){var d=r.length;if(d)return c+=c<0?d:0,oi(c,d)?r[c]:a}function Su(r,c,d){c.length?c=et(c,function(P){return rt(P)?function(G){return qi(G,P.length===1?P[0]:P)}:P}):c=[er];var _=-1;c=et(c,sn(Ze()));var S=Cu(r,function(P,G,X){var Q=et(c,function(ge){return ge(P)});return{criteria:Q,index:++_,value:P}});return mi(S,function(P,G){return Bd(P,G,d)})}function yd(r,c){return vu(r,c,function(d,_){return kl(r,_)})}function vu(r,c,d){for(var _=-1,S=c.length,P={};++_<S;){var G=c[_],X=qi(r,G);d(X,G)&&to(P,yi(G,r),X)}return P}function Id(r){return function(c){return qi(c,r)}}function fl(r,c,d,_){var S=_?Hs:Rn,P=-1,G=c.length,X=r;for(r===c&&(c=qn(c)),d&&(X=et(r,sn(d)));++P<G;)for(var Q=0,ge=c[P],pe=d?d(ge):ge;(Q=S(X,pe,Q,_))>-1;)X!==r&&Ho.call(X,Q,1),Ho.call(r,Q,1);return r}function Tu(r,c){for(var d=r?c.length:0,_=d-1;d--;){var S=c[d];if(d==_||S!==P){var P=S;oi(S)?Ho.call(r,S,1):pl(r,S)}}return r}function hl(r,c){return r+Vo(lu()*(c-r+1))}function bd(r,c,d,_){for(var S=-1,P=_n(jo((c-r)/(d||1)),0),G=F(P);P--;)G[_?P:++S]=r,r+=d;return G}function dl(r,c){var d="";if(!r||c<1||c>Ce)return d;do c%2&&(d+=r),c=Vo(c/2),c&&(r+=r);while(c);return d}function at(r,c){return Nl(sf(r,c,er),r+"")}function Sd(r){return fu(Is(r))}function vd(r,c){var d=Is(r);return oa(d,Qi(c,0,d.length))}function to(r,c,d,_){if(!tn(r))return r;c=yi(c,r);for(var S=-1,P=c.length,G=P-1,X=r;X!=null&&++S<P;){var Q=zr(c[S]),ge=d;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return r;if(S!=G){var pe=X[Q];ge=_?_(pe,Q,X):a,ge===a&&(ge=tn(pe)?pe:oi(c[S+1])?[]:{})}qs(X,Q,ge),X=X[Q]}return r}var Ou=zo?function(r,c){return zo.set(r,c),r}:er,Td=Wo?function(r,c){return Wo(r,"toString",{configurable:!0,enumerable:!1,value:Hl(c),writable:!0})}:er;function Od(r){return oa(Is(r))}function Cr(r,c,d){var _=-1,S=r.length;c<0&&(c=-c>S?0:S+c),d=d>S?S:d,d<0&&(d+=S),S=c>d?0:d-c>>>0,c>>>=0;for(var P=F(S);++_<S;)P[_]=r[_+c];return P}function Nd(r,c){var d;return Ai(r,function(_,S,P){return d=c(_,S,P),!d}),!!d}function qo(r,c,d){var _=0,S=r==null?_:r.length;if(typeof c=="number"&&c===c&&S<=lt){for(;_<S;){var P=_+S>>>1,G=r[P];G!==null&&!ar(G)&&(d?G<=c:G<c)?_=P+1:S=P}return S}return gl(r,c,er,d)}function gl(r,c,d,_){var S=0,P=r==null?0:r.length;if(P===0)return 0;c=d(c);for(var G=c!==c,X=c===null,Q=ar(c),ge=c===a;S<P;){var pe=Vo((S+P)/2),_e=d(r[pe]),Me=_e!==a,We=_e===null,Qe=_e===_e,ot=ar(_e);if(G)var qe=_||Qe;else ge?qe=Qe&&(_||Me):X?qe=Qe&&Me&&(_||!We):Q?qe=Qe&&Me&&!We&&(_||!ot):We||ot?qe=!1:qe=_?_e<=c:_e<c;qe?S=pe+1:P=pe}return Fn(P,He)}function Nu(r,c){for(var d=-1,_=r.length,S=0,P=[];++d<_;){var G=r[d],X=c?c(G):G;if(!d||!Rr(X,Q)){var Q=X;P[S++]=G===0?0:G}}return P}function Mu(r){return typeof r=="number"?r:ar(r)?he:+r}function or(r){if(typeof r=="string")return r;if(rt(r))return et(r,or)+"";if(ar(r))return cu?cu.call(r):"";var c=r+"";return c=="0"&&1/r==-ce?"-0":c}function Ci(r,c,d){var _=-1,S=qt,P=r.length,G=!0,X=[],Q=X;if(d)G=!1,S=ji;else if(P>=x){var ge=c?null:Wd(r);if(ge)return e(ge);G=!1,S=Sn,Q=new Zi}else Q=c?[]:X;e:for(;++_<P;){var pe=r[_],_e=c?c(pe):pe;if(pe=d||pe!==0?pe:0,G&&_e===_e){for(var Me=Q.length;Me--;)if(Q[Me]===_e)continue e;c&&Q.push(_e),X.push(pe)}else S(Q,_e,d)||(Q!==X&&Q.push(_e),X.push(pe))}return X}function pl(r,c){return c=yi(c,r),r=of(r,c),r==null||delete r[zr(yr(c))]}function Ru(r,c,d,_){return to(r,c,d(qi(r,c)),_)}function Jo(r,c,d,_){for(var S=r.length,P=_?S:-1;(_?P--:++P<S)&&c(r[P],P,r););return d?Cr(r,_?0:P,_?P+1:S):Cr(r,_?P+1:0,_?S:P)}function Du(r,c){var d=r;return d instanceof Et&&(d=d.value()),Or(c,function(_,S){return S.func.apply(S.thisArg,ir([_],S.args))},d)}function xl(r,c,d){var _=r.length;if(_<2)return _?Ci(r[0]):[];for(var S=-1,P=F(_);++S<_;)for(var G=r[S],X=-1;++X<_;)X!=S&&(P[S]=Js(P[S]||G,r[X],c,d));return Ci(Dn(P,1),c,d)}function Lu(r,c,d){for(var _=-1,S=r.length,P=c.length,G={};++_<S;){var X=_<P?c[_]:a;d(G,r[_],X)}return G}function ml(r){return cn(r)?r:[]}function wl(r){return typeof r=="function"?r:er}function yi(r,c){return rt(r)?r:vl(r,c)?[r]:uf(Rt(r))}var Md=at;function Ii(r,c,d){var _=r.length;return d=d===a?_:d,!c&&d>=_?r:Cr(r,c,d)}var Bu=w0||function(r){return dn.clearTimeout(r)};function Pu(r,c){if(c)return r.slice();var d=r.length,_=ru?ru(d):new r.constructor(d);return r.copy(_),_}function El(r){var c=new r.constructor(r.byteLength);return new ko(c).set(new ko(r)),c}function Rd(r,c){var d=c?El(r.buffer):r.buffer;return new r.constructor(d,r.byteOffset,r.byteLength)}function Dd(r){var c=new r.constructor(r.source,Kn.exec(r));return c.lastIndex=r.lastIndex,c}function Ld(r){return Qs?ke(Qs.call(r)):{}}function Fu(r,c){var d=c?El(r.buffer):r.buffer;return new r.constructor(d,r.byteOffset,r.length)}function ku(r,c){if(r!==c){var d=r!==a,_=r===null,S=r===r,P=ar(r),G=c!==a,X=c===null,Q=c===c,ge=ar(c);if(!X&&!ge&&!P&&r>c||P&&G&&Q&&!X&&!ge||_&&G&&Q||!d&&Q||!S)return 1;if(!_&&!P&&!ge&&r<c||ge&&d&&S&&!_&&!P||X&&d&&S||!G&&S||!Q)return-1}return 0}function Bd(r,c,d){for(var _=-1,S=r.criteria,P=c.criteria,G=S.length,X=d.length;++_<G;){var Q=ku(S[_],P[_]);if(Q){if(_>=X)return Q;var ge=d[_];return Q*(ge=="desc"?-1:1)}}return r.index-c.index}function Uu(r,c,d,_){for(var S=-1,P=r.length,G=d.length,X=-1,Q=c.length,ge=_n(P-G,0),pe=F(Q+ge),_e=!_;++X<Q;)pe[X]=c[X];for(;++S<G;)(_e||S<P)&&(pe[d[S]]=r[S]);for(;ge--;)pe[X++]=r[S++];return pe}function Hu(r,c,d,_){for(var S=-1,P=r.length,G=-1,X=d.length,Q=-1,ge=c.length,pe=_n(P-X,0),_e=F(pe+ge),Me=!_;++S<pe;)_e[S]=r[S];for(var We=S;++Q<ge;)_e[We+Q]=c[Q];for(;++G<X;)(Me||S<P)&&(_e[We+d[G]]=r[S++]);return _e}function qn(r,c){var d=-1,_=r.length;for(c||(c=F(_));++d<_;)c[d]=r[d];return c}function Vr(r,c,d,_){var S=!d;d||(d={});for(var P=-1,G=c.length;++P<G;){var X=c[P],Q=_?_(d[X],r[X],X,d,r):a;Q===a&&(Q=r[X]),S?ri(d,X,Q):qs(d,X,Q)}return d}function Pd(r,c){return Vr(r,Sl(r),c)}function Fd(r,c){return Vr(r,$u(r),c)}function $o(r,c){return function(d,_){var S=rt(d)?No:sd,P=c?c():{};return S(d,r,Ze(_,2),P)}}function _s(r){return at(function(c,d){var _=-1,S=d.length,P=S>1?d[S-1]:a,G=S>2?d[2]:a;for(P=r.length>3&&typeof P=="function"?(S--,P):a,G&&zn(d[0],d[1],G)&&(P=S<3?a:P,S=1),c=ke(c);++_<S;){var X=d[_];X&&r(c,X,_,P)}return c})}function Wu(r,c){return function(d,_){if(d==null)return d;if(!Jn(d))return r(d,_);for(var S=d.length,P=c?S:-1,G=ke(d);(c?P--:++P<S)&&_(G[P],P,G)!==!1;);return d}}function ju(r){return function(c,d,_){for(var S=-1,P=ke(c),G=_(c),X=G.length;X--;){var Q=G[r?X:++S];if(d(P[Q],Q,P)===!1)break}return c}}function kd(r,c,d){var _=c&Z,S=no(r);function P(){var G=this&&this!==dn&&this instanceof P?S:r;return G.apply(_?d:this,arguments)}return P}function Vu(r){return function(c){c=Rt(c);var d=Ei(c)?u(c):a,_=d?d[0]:c.charAt(0),S=d?Ii(d,1).join(""):c.slice(1);return _[r]()+S}}function As(r){return function(c){return Or(jf(Wf(c).replace(Ke,"")),r,"")}}function no(r){return function(){var c=arguments;switch(c.length){case 0:return new r;case 1:return new r(c[0]);case 2:return new r(c[0],c[1]);case 3:return new r(c[0],c[1],c[2]);case 4:return new r(c[0],c[1],c[2],c[3]);case 5:return new r(c[0],c[1],c[2],c[3],c[4]);case 6:return new r(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new r(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=Es(r.prototype),_=r.apply(d,c);return tn(_)?_:d}}function Ud(r,c,d){var _=no(r);function S(){for(var P=arguments.length,G=F(P),X=P,Q=Cs(S);X--;)G[X]=arguments[X];var ge=P<3&&G[0]!==Q&&G[P-1]!==Q?[]:y(G,Q);if(P-=ge.length,P<d)return Ku(r,c,ea,S.placeholder,a,G,ge,a,a,d-P);var pe=this&&this!==dn&&this instanceof S?_:r;return bn(pe,this,G)}return S}function zu(r){return function(c,d,_){var S=ke(c);if(!Jn(c)){var P=Ze(d,3);c=Tn(c),d=function(X){return P(S[X],X,S)}}var G=r(c,d,_);return G>-1?S[P?c[G]:G]:a}}function Gu(r){return si(function(c){var d=c.length,_=d,S=_r.prototype.thru;for(r&&c.reverse();_--;){var P=c[_];if(typeof P!="function")throw new Jt(w);if(S&&!G&&ia(P)=="wrapper")var G=new _r([],!0)}for(_=G?_:d;++_<d;){P=c[_];var X=ia(P),Q=X=="wrapper"?Il(P):a;Q&&Tl(Q[0])&&Q[1]==(me|te|Xe|ne)&&!Q[4].length&&Q[9]==1?G=G[ia(Q[0])].apply(G,Q[3]):G=P.length==1&&Tl(P)?G[X]():G.thru(P)}return function(){var ge=arguments,pe=ge[0];if(G&&ge.length==1&&rt(pe))return G.plant(pe).value();for(var _e=0,Me=d?c[_e].apply(this,ge):pe;++_e<d;)Me=c[_e].call(this,Me);return Me}})}function ea(r,c,d,_,S,P,G,X,Q,ge){var pe=c&me,_e=c&Z,Me=c&ie,We=c&(te|Ae),Qe=c&J,ot=Me?a:no(r);function qe(){for(var pt=arguments.length,_t=F(pt),lr=pt;lr--;)_t[lr]=arguments[lr];if(We)var Gn=Cs(qe),cr=Qa(_t,Gn);if(_&&(_t=Uu(_t,_,S,We)),P&&(_t=Hu(_t,P,G,We)),pt-=cr,We&&pt<ge){var un=y(_t,Gn);return Ku(r,c,ea,qe.placeholder,d,_t,un,X,Q,ge-pt)}var Dr=_e?d:this,ci=Me?Dr[r]:r;return pt=_t.length,X?_t=sg(_t,X):Qe&&pt>1&&_t.reverse(),pe&&Q<pt&&(_t.length=Q),this&&this!==dn&&this instanceof qe&&(ci=ot||no(ci)),ci.apply(Dr,_t)}return qe}function Yu(r,c){return function(d,_){return dd(d,r,c(_),{})}}function ta(r,c){return function(d,_){var S;if(d===a&&_===a)return c;if(d!==a&&(S=d),_!==a){if(S===a)return _;typeof d=="string"||typeof _=="string"?(d=or(d),_=or(_)):(d=Mu(d),_=Mu(_)),S=r(d,_)}return S}}function _l(r){return si(function(c){return c=et(c,sn(Ze())),at(function(d){var _=this;return r(c,function(S){return bn(S,_,d)})})})}function na(r,c){c=c===a?" ":or(c);var d=c.length;if(d<2)return d?dl(c,r):c;var _=dl(c,jo(r/o(c)));return Ei(c)?Ii(u(_),0,r).join(""):_.slice(0,r)}function Hd(r,c,d,_){var S=c&Z,P=no(r);function G(){for(var X=-1,Q=arguments.length,ge=-1,pe=_.length,_e=F(pe+Q),Me=this&&this!==dn&&this instanceof G?P:r;++ge<pe;)_e[ge]=_[ge];for(;Q--;)_e[ge++]=arguments[++X];return bn(Me,S?d:this,_e)}return G}function Xu(r){return function(c,d,_){return _&&typeof _!="number"&&zn(c,d,_)&&(d=_=a),c=li(c),d===a?(d=c,c=0):d=li(d),_=_===a?c<d?1:-1:li(_),bd(c,d,_,r)}}function ra(r){return function(c,d){return typeof c=="string"&&typeof d=="string"||(c=Ir(c),d=Ir(d)),r(c,d)}}function Ku(r,c,d,_,S,P,G,X,Q,ge){var pe=c&te,_e=pe?G:a,Me=pe?a:G,We=pe?P:a,Qe=pe?a:P;c|=pe?Xe:Fe,c&=~(pe?Fe:Xe),c&q||(c&=~(Z|ie));var ot=[r,c,S,We,_e,Qe,Me,X,Q,ge],qe=d.apply(a,ot);return Tl(r)&&af(qe,ot),qe.placeholder=_,lf(qe,r,c)}function Al(r){var c=de[r];return function(d,_){if(d=Ir(d),_=_==null?0:Fn(st(_),292),_&&au(d)){var S=(Rt(d)+"e").split("e"),P=c(S[0]+"e"+(+S[1]+_));return S=(Rt(P)+"e").split("e"),+(S[0]+"e"+(+S[1]-_))}return c(d)}}var Wd=ms&&1/e(new ms([,-0]))[1]==ce?function(r){return new ms(r)}:Vl;function Zu(r){return function(c){var d=kn(c);return d==hn?gt(c):d==Ne?t(c):zi(c,r(c))}}function ii(r,c,d,_,S,P,G,X){var Q=c&ie;if(!Q&&typeof r!="function")throw new Jt(w);var ge=_?_.length:0;if(ge||(c&=~(Xe|Fe),_=S=a),G=G===a?G:_n(st(G),0),X=X===a?X:st(X),ge-=S?S.length:0,c&Fe){var pe=_,_e=S;_=S=a}var Me=Q?a:Il(r),We=[r,c,d,_,S,pe,_e,P,G,X];if(Me&&ng(We,Me),r=We[0],c=We[1],d=We[2],_=We[3],S=We[4],X=We[9]=We[9]===a?Q?0:r.length:_n(We[9]-ge,0),!X&&c&(te|Ae)&&(c&=~(te|Ae)),!c||c==Z)var Qe=kd(r,c,d);else c==te||c==Ae?Qe=Ud(r,c,X):(c==Xe||c==(Z|Xe))&&!S.length?Qe=Hd(r,c,d,_):Qe=ea.apply(a,We);var ot=Me?Ou:af;return lf(ot(Qe,We),r,c)}function Qu(r,c,d,_){return r===a||Rr(r,$t[d])&&!wt.call(_,d)?c:r}function qu(r,c,d,_,S,P){return tn(r)&&tn(c)&&(P.set(c,r),Qo(r,c,a,qu,P),P.delete(c)),r}function jd(r){return so(r)?a:r}function Ju(r,c,d,_,S,P){var G=d&z,X=r.length,Q=c.length;if(X!=Q&&!(G&&Q>X))return!1;var ge=P.get(r),pe=P.get(c);if(ge&&pe)return ge==c&&pe==r;var _e=-1,Me=!0,We=d&W?new Zi:a;for(P.set(r,c),P.set(c,r);++_e<X;){var Qe=r[_e],ot=c[_e];if(_)var qe=G?_(ot,Qe,_e,c,r,P):_(Qe,ot,_e,r,c,P);if(qe!==a){if(qe)continue;Me=!1;break}if(We){if(!Ge(c,function(pt,_t){if(!Sn(We,_t)&&(Qe===pt||S(Qe,pt,d,_,P)))return We.push(_t)})){Me=!1;break}}else if(!(Qe===ot||S(Qe,ot,d,_,P))){Me=!1;break}}return P.delete(r),P.delete(c),Me}function Vd(r,c,d,_,S,P,G){switch(d){case On:if(r.byteLength!=c.byteLength||r.byteOffset!=c.byteOffset)return!1;r=r.buffer,c=c.buffer;case kr:return!(r.byteLength!=c.byteLength||!P(new ko(r),new ko(c)));case Ve:case Ct:case Cn:return Rr(+r,+c);case yt:return r.name==c.name&&r.message==c.message;case tr:case Xn:return r==c+"";case hn:var X=gt;case Ne:var Q=_&z;if(X||(X=e),r.size!=c.size&&!Q)return!1;var ge=G.get(r);if(ge)return ge==c;_|=W,G.set(r,c);var pe=Ju(X(r),X(c),_,S,P,G);return G.delete(r),pe;case Fr:if(Qs)return Qs.call(r)==Qs.call(c)}return!1}function zd(r,c,d,_,S,P){var G=d&z,X=Cl(r),Q=X.length,ge=Cl(c),pe=ge.length;if(Q!=pe&&!G)return!1;for(var _e=Q;_e--;){var Me=X[_e];if(!(G?Me in c:wt.call(c,Me)))return!1}var We=P.get(r),Qe=P.get(c);if(We&&Qe)return We==c&&Qe==r;var ot=!0;P.set(r,c),P.set(c,r);for(var qe=G;++_e<Q;){Me=X[_e];var pt=r[Me],_t=c[Me];if(_)var lr=G?_(_t,pt,Me,c,r,P):_(pt,_t,Me,r,c,P);if(!(lr===a?pt===_t||S(pt,_t,d,_,P):lr)){ot=!1;break}qe||(qe=Me=="constructor")}if(ot&&!qe){var Gn=r.constructor,cr=c.constructor;Gn!=cr&&"constructor"in r&&"constructor"in c&&!(typeof Gn=="function"&&Gn instanceof Gn&&typeof cr=="function"&&cr instanceof cr)&&(ot=!1)}return P.delete(r),P.delete(c),ot}function si(r){return Nl(sf(r,a,gf),r+"")}function Cl(r){return wu(r,Tn,Sl)}function yl(r){return wu(r,$n,$u)}var Il=zo?function(r){return zo.get(r)}:Vl;function ia(r){for(var c=r.name+"",d=ws[c],_=wt.call(ws,c)?d.length:0;_--;){var S=d[_],P=S.func;if(P==null||P==r)return S.name}return c}function Cs(r){var c=wt.call(R,"placeholder")?R:r;return c.placeholder}function Ze(){var r=R.iteratee||Wl;return r=r===Wl?Au:r,arguments.length?r(arguments[0],arguments[1]):r}function sa(r,c){var d=r.__data__;return Jd(c)?d[typeof c=="string"?"string":"hash"]:d.map}function bl(r){for(var c=Tn(r),d=c.length;d--;){var _=c[d],S=r[_];c[d]=[_,S,nf(S)]}return c}function Ji(r,c){var d=Er(r,c);return _u(d)?d:a}function Gd(r){var c=wt.call(r,Xi),d=r[Xi];try{r[Xi]=a;var _=!0}catch{}var S=Po.call(r);return _&&(c?r[Xi]=d:delete r[Xi]),S}var Sl=$a?function(r){return r==null?[]:(r=ke(r),wr($a(r),function(c){return su.call(r,c)}))}:zl,$u=$a?function(r){for(var c=[];r;)ir(c,Sl(r)),r=Uo(r);return c}:zl,kn=Vn;(el&&kn(new el(new ArrayBuffer(1)))!=On||Xs&&kn(new Xs)!=hn||tl&&kn(tl.resolve())!=Nt||ms&&kn(new ms)!=Ne||Ks&&kn(new Ks)!=Sr)&&(kn=function(r){var c=Vn(r),d=c==Dt?r.constructor:a,_=d?$i(d):"";if(_)switch(_){case v0:return On;case T0:return hn;case O0:return Nt;case N0:return Ne;case M0:return Sr}return c});function Yd(r,c,d){for(var _=-1,S=d.length;++_<S;){var P=d[_],G=P.size;switch(P.type){case"drop":r+=G;break;case"dropRight":c-=G;break;case"take":c=Fn(c,r+G);break;case"takeRight":r=_n(r,c-G);break}}return{start:r,end:c}}function Xd(r){var c=r.match($e);return c?c[1].split(Ie):[]}function ef(r,c,d){c=yi(c,r);for(var _=-1,S=c.length,P=!1;++_<S;){var G=zr(c[_]);if(!(P=r!=null&&d(r,G)))break;r=r[G]}return P||++_!=S?P:(S=r==null?0:r.length,!!S&&ha(S)&&oi(G,S)&&(rt(r)||es(r)))}function Kd(r){var c=r.length,d=new r.constructor(c);return c&&typeof r[0]=="string"&&wt.call(r,"index")&&(d.index=r.index,d.input=r.input),d}function tf(r){return typeof r.constructor=="function"&&!ro(r)?Es(Uo(r)):{}}function Zd(r,c,d){var _=r.constructor;switch(c){case kr:return El(r);case Ve:case Ct:return new _(+r);case On:return Rd(r,d);case en:case gi:case dr:case Ur:case Ut:case Se:case Gt:case It:case Lt:return Fu(r,d);case hn:return new _;case Cn:case Xn:return new _(r);case tr:return Dd(r);case Ne:return new _;case Fr:return Ld(r)}}function Qd(r,c){var d=c.length;if(!d)return r;var _=d-1;return c[_]=(d>1?"& ":"")+c[_],c=c.join(d>2?", ":" "),r.replace(Je,`{
/* [wrapped with `+c+`] */
`)}function qd(r){return rt(r)||es(r)||!!(ou&&r&&r[ou])}function oi(r,c){var d=typeof r;return c=c??Ce,!!c&&(d=="number"||d!="symbol"&&Yt.test(r))&&r>-1&&r%1==0&&r<c}function zn(r,c,d){if(!tn(d))return!1;var _=typeof c;return(_=="number"?Jn(d)&&oi(c,d.length):_=="string"&&c in d)?Rr(d[c],r):!1}function vl(r,c){if(rt(r))return!1;var d=typeof r;return d=="number"||d=="symbol"||d=="boolean"||r==null||ar(r)?!0:ye.test(r)||!Ee.test(r)||c!=null&&r in ke(c)}function Jd(r){var c=typeof r;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?r!=="__proto__":r===null}function Tl(r){var c=ia(r),d=R[c];if(typeof d!="function"||!(c in Et.prototype))return!1;if(r===d)return!0;var _=Il(d);return!!_&&r===_[0]}function $d(r){return!!Bo&&Bo in r}var eg=vn?ai:Gl;function ro(r){var c=r&&r.constructor,d=typeof c=="function"&&c.prototype||$t;return r===d}function nf(r){return r===r&&!tn(r)}function rf(r,c){return function(d){return d==null?!1:d[r]===c&&(c!==a||r in ke(d))}}function tg(r){var c=ua(r,function(_){return d.size===A&&d.clear(),_}),d=c.cache;return c}function ng(r,c){var d=r[1],_=c[1],S=d|_,P=S<(Z|ie|me),G=_==me&&d==te||_==me&&d==ne&&r[7].length<=c[8]||_==(me|ne)&&c[7].length<=c[8]&&d==te;if(!(P||G))return r;_&Z&&(r[2]=c[2],S|=d&Z?0:q);var X=c[3];if(X){var Q=r[3];r[3]=Q?Uu(Q,X,c[4]):X,r[4]=Q?y(r[3],I):c[4]}return X=c[5],X&&(Q=r[5],r[5]=Q?Hu(Q,X,c[6]):X,r[6]=Q?y(r[5],I):c[6]),X=c[7],X&&(r[7]=X),_&me&&(r[8]=r[8]==null?c[8]:Fn(r[8],c[8])),r[9]==null&&(r[9]=c[9]),r[0]=c[0],r[1]=S,r}function rg(r){var c=[];if(r!=null)for(var d in ke(r))c.push(d);return c}function ig(r){return Po.call(r)}function sf(r,c,d){return c=_n(c===a?r.length-1:c,0),function(){for(var _=arguments,S=-1,P=_n(_.length-c,0),G=F(P);++S<P;)G[S]=_[c+S];S=-1;for(var X=F(c+1);++S<c;)X[S]=_[S];return X[c]=d(G),bn(r,this,X)}}function of(r,c){return c.length<2?r:qi(r,Cr(c,0,-1))}function sg(r,c){for(var d=r.length,_=Fn(c.length,d),S=qn(r);_--;){var P=c[_];r[_]=oi(P,d)?S[P]:a}return r}function Ol(r,c){if(!(c==="constructor"&&typeof r[c]=="function")&&c!="__proto__")return r[c]}var af=cf(Ou),io=_0||function(r,c){return dn.setTimeout(r,c)},Nl=cf(Td);function lf(r,c,d){var _=c+"";return Nl(r,Qd(_,og(Xd(_),d)))}function cf(r){var c=0,d=0;return function(){var _=I0(),S=D-(_-d);if(d=_,S>0){if(++c>=T)return arguments[0]}else c=0;return r.apply(a,arguments)}}function oa(r,c){var d=-1,_=r.length,S=_-1;for(c=c===a?_:c;++d<c;){var P=hl(d,S),G=r[P];r[P]=r[d],r[d]=G}return r.length=c,r}var uf=tg(function(r){var c=[];return r.charCodeAt(0)===46&&c.push(""),r.replace(be,function(d,_,S,P){c.push(S?P.replace(Zt,"$1"):_||d)}),c});function zr(r){if(typeof r=="string"||ar(r))return r;var c=r+"";return c=="0"&&1/r==-ce?"-0":c}function $i(r){if(r!=null){try{return Nr.call(r)}catch{}try{return r+""}catch{}}return""}function og(r,c){return Qn(Ye,function(d){var _="_."+d[0];c&d[1]&&!qt(r,_)&&r.push(_)}),r.sort()}function ff(r){if(r instanceof Et)return r.clone();var c=new _r(r.__wrapped__,r.__chain__);return c.__actions__=qn(r.__actions__),c.__index__=r.__index__,c.__values__=r.__values__,c}function ag(r,c,d){(d?zn(r,c,d):c===a)?c=1:c=_n(st(c),0);var _=r==null?0:r.length;if(!_||c<1)return[];for(var S=0,P=0,G=F(jo(_/c));S<_;)G[P++]=Cr(r,S,S+=c);return G}function lg(r){for(var c=-1,d=r==null?0:r.length,_=0,S=[];++c<d;){var P=r[c];P&&(S[_++]=P)}return S}function cg(){var r=arguments.length;if(!r)return[];for(var c=F(r-1),d=arguments[0],_=r;_--;)c[_-1]=arguments[_];return ir(rt(d)?qn(d):[d],Dn(c,1))}var ug=at(function(r,c){return cn(r)?Js(r,Dn(c,1,cn,!0)):[]}),fg=at(function(r,c){var d=yr(c);return cn(d)&&(d=a),cn(r)?Js(r,Dn(c,1,cn,!0),Ze(d,2)):[]}),hg=at(function(r,c){var d=yr(c);return cn(d)&&(d=a),cn(r)?Js(r,Dn(c,1,cn,!0),a,d):[]});function dg(r,c,d){var _=r==null?0:r.length;return _?(c=d||c===a?1:st(c),Cr(r,c<0?0:c,_)):[]}function gg(r,c,d){var _=r==null?0:r.length;return _?(c=d||c===a?1:st(c),c=_-c,Cr(r,0,c<0?0:c)):[]}function pg(r,c){return r&&r.length?Jo(r,Ze(c,3),!0,!0):[]}function xg(r,c){return r&&r.length?Jo(r,Ze(c,3),!0):[]}function mg(r,c,d,_){var S=r==null?0:r.length;return S?(d&&typeof d!="number"&&zn(r,c,d)&&(d=0,_=S),cd(r,c,d,_)):[]}function hf(r,c,d){var _=r==null?0:r.length;if(!_)return-1;var S=d==null?0:st(d);return S<0&&(S=_n(_+S,0)),ds(r,Ze(c,3),S)}function df(r,c,d){var _=r==null?0:r.length;if(!_)return-1;var S=_-1;return d!==a&&(S=st(d),S=d<0?_n(_+S,0):Fn(S,_-1)),ds(r,Ze(c,3),S,!0)}function gf(r){var c=r==null?0:r.length;return c?Dn(r,1):[]}function wg(r){var c=r==null?0:r.length;return c?Dn(r,ce):[]}function Eg(r,c){var d=r==null?0:r.length;return d?(c=c===a?1:st(c),Dn(r,c)):[]}function _g(r){for(var c=-1,d=r==null?0:r.length,_={};++c<d;){var S=r[c];_[S[0]]=S[1]}return _}function pf(r){return r&&r.length?r[0]:a}function Ag(r,c,d){var _=r==null?0:r.length;if(!_)return-1;var S=d==null?0:st(d);return S<0&&(S=_n(_+S,0)),Rn(r,c,S)}function Cg(r){var c=r==null?0:r.length;return c?Cr(r,0,-1):[]}var yg=at(function(r){var c=et(r,ml);return c.length&&c[0]===r[0]?al(c):[]}),Ig=at(function(r){var c=yr(r),d=et(r,ml);return c===yr(d)?c=a:d.pop(),d.length&&d[0]===r[0]?al(d,Ze(c,2)):[]}),bg=at(function(r){var c=yr(r),d=et(r,ml);return c=typeof c=="function"?c:a,c&&d.pop(),d.length&&d[0]===r[0]?al(d,a,c):[]});function Sg(r,c){return r==null?"":C0.call(r,c)}function yr(r){var c=r==null?0:r.length;return c?r[c-1]:a}function vg(r,c,d){var _=r==null?0:r.length;if(!_)return-1;var S=_;return d!==a&&(S=st(d),S=S<0?_n(_+S,0):Fn(S,_-1)),c===c?s(r,c,S):ds(r,Ws,S,!0)}function Tg(r,c){return r&&r.length?bu(r,st(c)):a}var Og=at(xf);function xf(r,c){return r&&r.length&&c&&c.length?fl(r,c):r}function Ng(r,c,d){return r&&r.length&&c&&c.length?fl(r,c,Ze(d,2)):r}function Mg(r,c,d){return r&&r.length&&c&&c.length?fl(r,c,a,d):r}var Rg=si(function(r,c){var d=r==null?0:r.length,_=rl(r,c);return Tu(r,et(c,function(S){return oi(S,d)?+S:S}).sort(ku)),_});function Dg(r,c){var d=[];if(!(r&&r.length))return d;var _=-1,S=[],P=r.length;for(c=Ze(c,3);++_<P;){var G=r[_];c(G,_,r)&&(d.push(G),S.push(_))}return Tu(r,S),d}function Ml(r){return r==null?r:S0.call(r)}function Lg(r,c,d){var _=r==null?0:r.length;return _?(d&&typeof d!="number"&&zn(r,c,d)?(c=0,d=_):(c=c==null?0:st(c),d=d===a?_:st(d)),Cr(r,c,d)):[]}function Bg(r,c){return qo(r,c)}function Pg(r,c,d){return gl(r,c,Ze(d,2))}function Fg(r,c){var d=r==null?0:r.length;if(d){var _=qo(r,c);if(_<d&&Rr(r[_],c))return _}return-1}function kg(r,c){return qo(r,c,!0)}function Ug(r,c,d){return gl(r,c,Ze(d,2),!0)}function Hg(r,c){var d=r==null?0:r.length;if(d){var _=qo(r,c,!0)-1;if(Rr(r[_],c))return _}return-1}function Wg(r){return r&&r.length?Nu(r):[]}function jg(r,c){return r&&r.length?Nu(r,Ze(c,2)):[]}function Vg(r){var c=r==null?0:r.length;return c?Cr(r,1,c):[]}function zg(r,c,d){return r&&r.length?(c=d||c===a?1:st(c),Cr(r,0,c<0?0:c)):[]}function Gg(r,c,d){var _=r==null?0:r.length;return _?(c=d||c===a?1:st(c),c=_-c,Cr(r,c<0?0:c,_)):[]}function Yg(r,c){return r&&r.length?Jo(r,Ze(c,3),!1,!0):[]}function Xg(r,c){return r&&r.length?Jo(r,Ze(c,3)):[]}var Kg=at(function(r){return Ci(Dn(r,1,cn,!0))}),Zg=at(function(r){var c=yr(r);return cn(c)&&(c=a),Ci(Dn(r,1,cn,!0),Ze(c,2))}),Qg=at(function(r){var c=yr(r);return c=typeof c=="function"?c:a,Ci(Dn(r,1,cn,!0),a,c)});function qg(r){return r&&r.length?Ci(r):[]}function Jg(r,c){return r&&r.length?Ci(r,Ze(c,2)):[]}function $g(r,c){return c=typeof c=="function"?c:a,r&&r.length?Ci(r,a,c):[]}function Rl(r){if(!(r&&r.length))return[];var c=0;return r=wr(r,function(d){if(cn(d))return c=_n(d.length,c),!0}),js(c,function(d){return et(r,ps(d))})}function mf(r,c){if(!(r&&r.length))return[];var d=Rl(r);return c==null?d:et(d,function(_){return bn(c,a,_)})}var ep=at(function(r,c){return cn(r)?Js(r,c):[]}),tp=at(function(r){return xl(wr(r,cn))}),np=at(function(r){var c=yr(r);return cn(c)&&(c=a),xl(wr(r,cn),Ze(c,2))}),rp=at(function(r){var c=yr(r);return c=typeof c=="function"?c:a,xl(wr(r,cn),a,c)}),ip=at(Rl);function sp(r,c){return Lu(r||[],c||[],qs)}function op(r,c){return Lu(r||[],c||[],to)}var ap=at(function(r){var c=r.length,d=c>1?r[c-1]:a;return d=typeof d=="function"?(r.pop(),d):a,mf(r,d)});function wf(r){var c=R(r);return c.__chain__=!0,c}function lp(r,c){return c(r),r}function aa(r,c){return c(r)}var cp=si(function(r){var c=r.length,d=c?r[0]:0,_=this.__wrapped__,S=function(P){return rl(P,r)};return c>1||this.__actions__.length||!(_ instanceof Et)||!oi(d)?this.thru(S):(_=_.slice(d,+d+(c?1:0)),_.__actions__.push({func:aa,args:[S],thisArg:a}),new _r(_,this.__chain__).thru(function(P){return c&&!P.length&&P.push(a),P}))});function up(){return wf(this)}function fp(){return new _r(this.value(),this.__chain__)}function hp(){this.__values__===a&&(this.__values__=Rf(this.value()));var r=this.__index__>=this.__values__.length,c=r?a:this.__values__[this.__index__++];return{done:r,value:c}}function dp(){return this}function gp(r){for(var c,d=this;d instanceof Yo;){var _=ff(d);_.__index__=0,_.__values__=a,c?S.__wrapped__=_:c=_;var S=_;d=d.__wrapped__}return S.__wrapped__=r,c}function pp(){var r=this.__wrapped__;if(r instanceof Et){var c=r;return this.__actions__.length&&(c=new Et(this)),c=c.reverse(),c.__actions__.push({func:aa,args:[Ml],thisArg:a}),new _r(c,this.__chain__)}return this.thru(Ml)}function xp(){return Du(this.__wrapped__,this.__actions__)}var mp=$o(function(r,c,d){wt.call(r,d)?++r[d]:ri(r,d,1)});function wp(r,c,d){var _=rt(r)?Mo:ld;return d&&zn(r,c,d)&&(c=a),_(r,Ze(c,3))}function Ep(r,c){var d=rt(r)?wr:xu;return d(r,Ze(c,3))}var _p=zu(hf),Ap=zu(df);function Cp(r,c){return Dn(la(r,c),1)}function yp(r,c){return Dn(la(r,c),ce)}function Ip(r,c,d){return d=d===a?1:st(d),Dn(la(r,c),d)}function Ef(r,c){var d=rt(r)?Qn:Ai;return d(r,Ze(c,3))}function _f(r,c){var d=rt(r)?Ka:pu;return d(r,Ze(c,3))}var bp=$o(function(r,c,d){wt.call(r,d)?r[d].push(c):ri(r,d,[c])});function Sp(r,c,d,_){r=Jn(r)?r:Is(r),d=d&&!_?st(d):0;var S=r.length;return d<0&&(d=_n(S+d,0)),da(r)?d<=S&&r.indexOf(c,d)>-1:!!S&&Rn(r,c,d)>-1}var vp=at(function(r,c,d){var _=-1,S=typeof c=="function",P=Jn(r)?F(r.length):[];return Ai(r,function(G){P[++_]=S?bn(c,G,d):$s(G,c,d)}),P}),Tp=$o(function(r,c,d){ri(r,d,c)});function la(r,c){var d=rt(r)?et:Cu;return d(r,Ze(c,3))}function Op(r,c,d,_){return r==null?[]:(rt(c)||(c=c==null?[]:[c]),d=_?a:d,rt(d)||(d=d==null?[]:[d]),Su(r,c,d))}var Np=$o(function(r,c,d){r[d?0:1].push(c)},function(){return[[],[]]});function Mp(r,c,d){var _=rt(r)?Or:Ro,S=arguments.length<3;return _(r,Ze(c,4),d,S,Ai)}function Rp(r,c,d){var _=rt(r)?Pt:Ro,S=arguments.length<3;return _(r,Ze(c,4),d,S,pu)}function Dp(r,c){var d=rt(r)?wr:xu;return d(r,fa(Ze(c,3)))}function Lp(r){var c=rt(r)?fu:Sd;return c(r)}function Bp(r,c,d){(d?zn(r,c,d):c===a)?c=1:c=st(c);var _=rt(r)?rd:vd;return _(r,c)}function Pp(r){var c=rt(r)?id:Od;return c(r)}function Fp(r){if(r==null)return 0;if(Jn(r))return da(r)?o(r):r.length;var c=kn(r);return c==hn||c==Ne?r.size:cl(r).length}function kp(r,c,d){var _=rt(r)?Ge:Nd;return d&&zn(r,c,d)&&(c=a),_(r,Ze(c,3))}var Up=at(function(r,c){if(r==null)return[];var d=c.length;return d>1&&zn(r,c[0],c[1])?c=[]:d>2&&zn(c[0],c[1],c[2])&&(c=[c[0]]),Su(r,Dn(c,1),[])}),ca=E0||function(){return dn.Date.now()};function Hp(r,c){if(typeof c!="function")throw new Jt(w);return r=st(r),function(){if(--r<1)return c.apply(this,arguments)}}function Af(r,c,d){return c=d?a:c,c=r&&c==null?r.length:c,ii(r,me,a,a,a,a,c)}function Cf(r,c){var d;if(typeof c!="function")throw new Jt(w);return r=st(r),function(){return--r>0&&(d=c.apply(this,arguments)),r<=1&&(c=a),d}}var Dl=at(function(r,c,d){var _=Z;if(d.length){var S=y(d,Cs(Dl));_|=Xe}return ii(r,_,c,d,S)}),yf=at(function(r,c,d){var _=Z|ie;if(d.length){var S=y(d,Cs(yf));_|=Xe}return ii(c,_,r,d,S)});function If(r,c,d){c=d?a:c;var _=ii(r,te,a,a,a,a,a,c);return _.placeholder=If.placeholder,_}function bf(r,c,d){c=d?a:c;var _=ii(r,Ae,a,a,a,a,a,c);return _.placeholder=bf.placeholder,_}function Sf(r,c,d){var _,S,P,G,X,Q,ge=0,pe=!1,_e=!1,Me=!0;if(typeof r!="function")throw new Jt(w);c=Ir(c)||0,tn(d)&&(pe=!!d.leading,_e="maxWait"in d,P=_e?_n(Ir(d.maxWait)||0,c):P,Me="trailing"in d?!!d.trailing:Me);function We(un){var Dr=_,ci=S;return _=S=a,ge=un,G=r.apply(ci,Dr),G}function Qe(un){return ge=un,X=io(pt,c),pe?We(un):G}function ot(un){var Dr=un-Q,ci=un-ge,Gf=c-Dr;return _e?Fn(Gf,P-ci):Gf}function qe(un){var Dr=un-Q,ci=un-ge;return Q===a||Dr>=c||Dr<0||_e&&ci>=P}function pt(){var un=ca();if(qe(un))return _t(un);X=io(pt,ot(un))}function _t(un){return X=a,Me&&_?We(un):(_=S=a,G)}function lr(){X!==a&&Bu(X),ge=0,_=Q=S=X=a}function Gn(){return X===a?G:_t(ca())}function cr(){var un=ca(),Dr=qe(un);if(_=arguments,S=this,Q=un,Dr){if(X===a)return Qe(Q);if(_e)return Bu(X),X=io(pt,c),We(Q)}return X===a&&(X=io(pt,c)),G}return cr.cancel=lr,cr.flush=Gn,cr}var Wp=at(function(r,c){return gu(r,1,c)}),jp=at(function(r,c,d){return gu(r,Ir(c)||0,d)});function Vp(r){return ii(r,J)}function ua(r,c){if(typeof r!="function"||c!=null&&typeof c!="function")throw new Jt(w);var d=function(){var _=arguments,S=c?c.apply(this,_):_[0],P=d.cache;if(P.has(S))return P.get(S);var G=r.apply(this,_);return d.cache=P.set(S,G)||P,G};return d.cache=new(ua.Cache||ni),d}ua.Cache=ni;function fa(r){if(typeof r!="function")throw new Jt(w);return function(){var c=arguments;switch(c.length){case 0:return!r.call(this);case 1:return!r.call(this,c[0]);case 2:return!r.call(this,c[0],c[1]);case 3:return!r.call(this,c[0],c[1],c[2])}return!r.apply(this,c)}}function zp(r){return Cf(2,r)}var Gp=Md(function(r,c){c=c.length==1&&rt(c[0])?et(c[0],sn(Ze())):et(Dn(c,1),sn(Ze()));var d=c.length;return at(function(_){for(var S=-1,P=Fn(_.length,d);++S<P;)_[S]=c[S].call(this,_[S]);return bn(r,this,_)})}),Ll=at(function(r,c){var d=y(c,Cs(Ll));return ii(r,Xe,a,c,d)}),vf=at(function(r,c){var d=y(c,Cs(vf));return ii(r,Fe,a,c,d)}),Yp=si(function(r,c){return ii(r,ne,a,a,a,c)});function Xp(r,c){if(typeof r!="function")throw new Jt(w);return c=c===a?c:st(c),at(r,c)}function Kp(r,c){if(typeof r!="function")throw new Jt(w);return c=c==null?0:_n(st(c),0),at(function(d){var _=d[c],S=Ii(d,0,c);return _&&ir(S,_),bn(r,this,S)})}function Zp(r,c,d){var _=!0,S=!0;if(typeof r!="function")throw new Jt(w);return tn(d)&&(_="leading"in d?!!d.leading:_,S="trailing"in d?!!d.trailing:S),Sf(r,c,{leading:_,maxWait:c,trailing:S})}function Qp(r){return Af(r,1)}function qp(r,c){return Ll(wl(c),r)}function Jp(){if(!arguments.length)return[];var r=arguments[0];return rt(r)?r:[r]}function $p(r){return Ar(r,H)}function e2(r,c){return c=typeof c=="function"?c:a,Ar(r,H,c)}function t2(r){return Ar(r,M|H)}function n2(r,c){return c=typeof c=="function"?c:a,Ar(r,M|H,c)}function r2(r,c){return c==null||du(r,c,Tn(c))}function Rr(r,c){return r===c||r!==r&&c!==c}var i2=ra(ol),s2=ra(function(r,c){return r>=c}),es=Eu(function(){return arguments}())?Eu:function(r){return on(r)&&wt.call(r,"callee")&&!su.call(r,"callee")},rt=F.isArray,o2=Wi?sn(Wi):gd;function Jn(r){return r!=null&&ha(r.length)&&!ai(r)}function cn(r){return on(r)&&Jn(r)}function a2(r){return r===!0||r===!1||on(r)&&Vn(r)==Ve}var bi=A0||Gl,l2=Tr?sn(Tr):pd;function c2(r){return on(r)&&r.nodeType===1&&!so(r)}function u2(r){if(r==null)return!0;if(Jn(r)&&(rt(r)||typeof r=="string"||typeof r.splice=="function"||bi(r)||ys(r)||es(r)))return!r.length;var c=kn(r);if(c==hn||c==Ne)return!r.size;if(ro(r))return!cl(r).length;for(var d in r)if(wt.call(r,d))return!1;return!0}function f2(r,c){return eo(r,c)}function h2(r,c,d){d=typeof d=="function"?d:a;var _=d?d(r,c):a;return _===a?eo(r,c,a,d):!!_}function Bl(r){if(!on(r))return!1;var c=Vn(r);return c==yt||c==St||typeof r.message=="string"&&typeof r.name=="string"&&!so(r)}function d2(r){return typeof r=="number"&&au(r)}function ai(r){if(!tn(r))return!1;var c=Vn(r);return c==fn||c==ft||c==ut||c==ht}function Tf(r){return typeof r=="number"&&r==st(r)}function ha(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Ce}function tn(r){var c=typeof r;return r!=null&&(c=="object"||c=="function")}function on(r){return r!=null&&typeof r=="object"}var Of=Oo?sn(Oo):md;function g2(r,c){return r===c||ll(r,c,bl(c))}function p2(r,c,d){return d=typeof d=="function"?d:a,ll(r,c,bl(c),d)}function x2(r){return Nf(r)&&r!=+r}function m2(r){if(eg(r))throw new le(p);return _u(r)}function w2(r){return r===null}function E2(r){return r==null}function Nf(r){return typeof r=="number"||on(r)&&Vn(r)==Cn}function so(r){if(!on(r)||Vn(r)!=Dt)return!1;var c=Uo(r);if(c===null)return!0;var d=wt.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d instanceof d&&Nr.call(d)==p0}var Pl=re?sn(re):wd;function _2(r){return Tf(r)&&r>=-Ce&&r<=Ce}var Mf=it?sn(it):Ed;function da(r){return typeof r=="string"||!rt(r)&&on(r)&&Vn(r)==Xn}function ar(r){return typeof r=="symbol"||on(r)&&Vn(r)==Fr}var ys=gn?sn(gn):_d;function A2(r){return r===a}function C2(r){return on(r)&&kn(r)==Sr}function y2(r){return on(r)&&Vn(r)==Un}var I2=ra(ul),b2=ra(function(r,c){return r<=c});function Rf(r){if(!r)return[];if(Jn(r))return da(r)?u(r):qn(r);if(Ys&&r[Ys])return Gi(r[Ys]());var c=kn(r),d=c==hn?gt:c==Ne?e:Is;return d(r)}function li(r){if(!r)return r===0?r:0;if(r=Ir(r),r===ce||r===-ce){var c=r<0?-1:1;return c*ve}return r===r?r:0}function st(r){var c=li(r),d=c%1;return c===c?d?c-d:c:0}function Df(r){return r?Qi(st(r),0,Le):0}function Ir(r){if(typeof r=="number")return r;if(ar(r))return he;if(tn(r)){var c=typeof r.valueOf=="function"?r.valueOf():r;r=tn(c)?c+"":c}if(typeof r!="string")return r===0?r:+r;r=Do(r);var d=Nn.test(r);return d||Li.test(r)?Bn(r.slice(2),d?2:8):Zn.test(r)?he:+r}function Lf(r){return Vr(r,$n(r))}function S2(r){return r?Qi(st(r),-Ce,Ce):r===0?r:0}function Rt(r){return r==null?"":or(r)}var v2=_s(function(r,c){if(ro(c)||Jn(c)){Vr(c,Tn(c),r);return}for(var d in c)wt.call(c,d)&&qs(r,d,c[d])}),Bf=_s(function(r,c){Vr(c,$n(c),r)}),ga=_s(function(r,c,d,_){Vr(c,$n(c),r,_)}),T2=_s(function(r,c,d,_){Vr(c,Tn(c),r,_)}),O2=si(rl);function N2(r,c){var d=Es(r);return c==null?d:hu(d,c)}var M2=at(function(r,c){r=ke(r);var d=-1,_=c.length,S=_>2?c[2]:a;for(S&&zn(c[0],c[1],S)&&(_=1);++d<_;)for(var P=c[d],G=$n(P),X=-1,Q=G.length;++X<Q;){var ge=G[X],pe=r[ge];(pe===a||Rr(pe,$t[ge])&&!wt.call(r,ge))&&(r[ge]=P[ge])}return r}),R2=at(function(r){return r.push(a,qu),bn(Pf,a,r)});function D2(r,c){return ei(r,Ze(c,3),jr)}function L2(r,c){return ei(r,Ze(c,3),sl)}function B2(r,c){return r==null?r:il(r,Ze(c,3),$n)}function P2(r,c){return r==null?r:mu(r,Ze(c,3),$n)}function F2(r,c){return r&&jr(r,Ze(c,3))}function k2(r,c){return r&&sl(r,Ze(c,3))}function U2(r){return r==null?[]:Zo(r,Tn(r))}function H2(r){return r==null?[]:Zo(r,$n(r))}function Fl(r,c,d){var _=r==null?a:qi(r,c);return _===a?d:_}function W2(r,c){return r!=null&&ef(r,c,ud)}function kl(r,c){return r!=null&&ef(r,c,fd)}var j2=Yu(function(r,c,d){c!=null&&typeof c.toString!="function"&&(c=Po.call(c)),r[c]=d},Hl(er)),V2=Yu(function(r,c,d){c!=null&&typeof c.toString!="function"&&(c=Po.call(c)),wt.call(r,c)?r[c].push(d):r[c]=[d]},Ze),z2=at($s);function Tn(r){return Jn(r)?uu(r):cl(r)}function $n(r){return Jn(r)?uu(r,!0):Ad(r)}function G2(r,c){var d={};return c=Ze(c,3),jr(r,function(_,S,P){ri(d,c(_,S,P),_)}),d}function Y2(r,c){var d={};return c=Ze(c,3),jr(r,function(_,S,P){ri(d,S,c(_,S,P))}),d}var X2=_s(function(r,c,d){Qo(r,c,d)}),Pf=_s(function(r,c,d,_){Qo(r,c,d,_)}),K2=si(function(r,c){var d={};if(r==null)return d;var _=!1;c=et(c,function(P){return P=yi(P,r),_||(_=P.length>1),P}),Vr(r,yl(r),d),_&&(d=Ar(d,M|j|H,jd));for(var S=c.length;S--;)pl(d,c[S]);return d});function Z2(r,c){return Ff(r,fa(Ze(c)))}var Q2=si(function(r,c){return r==null?{}:yd(r,c)});function Ff(r,c){if(r==null)return{};var d=et(yl(r),function(_){return[_]});return c=Ze(c),vu(r,d,function(_,S){return c(_,S[0])})}function q2(r,c,d){c=yi(c,r);var _=-1,S=c.length;for(S||(S=1,r=a);++_<S;){var P=r==null?a:r[zr(c[_])];P===a&&(_=S,P=d),r=ai(P)?P.call(r):P}return r}function J2(r,c,d){return r==null?r:to(r,c,d)}function $2(r,c,d,_){return _=typeof _=="function"?_:a,r==null?r:to(r,c,d,_)}var kf=Zu(Tn),Uf=Zu($n);function ex(r,c,d){var _=rt(r),S=_||bi(r)||ys(r);if(c=Ze(c,4),d==null){var P=r&&r.constructor;S?d=_?new P:[]:tn(r)?d=ai(P)?Es(Uo(r)):{}:d={}}return(S?Qn:jr)(r,function(G,X,Q){return c(d,G,X,Q)}),d}function tx(r,c){return r==null?!0:pl(r,c)}function nx(r,c,d){return r==null?r:Ru(r,c,wl(d))}function rx(r,c,d,_){return _=typeof _=="function"?_:a,r==null?r:Ru(r,c,wl(d),_)}function Is(r){return r==null?[]:wi(r,Tn(r))}function ix(r){return r==null?[]:wi(r,$n(r))}function sx(r,c,d){return d===a&&(d=c,c=a),d!==a&&(d=Ir(d),d=d===d?d:0),c!==a&&(c=Ir(c),c=c===c?c:0),Qi(Ir(r),c,d)}function ox(r,c,d){return c=li(c),d===a?(d=c,c=0):d=li(d),r=Ir(r),hd(r,c,d)}function ax(r,c,d){if(d&&typeof d!="boolean"&&zn(r,c,d)&&(c=d=a),d===a&&(typeof c=="boolean"?(d=c,c=a):typeof r=="boolean"&&(d=r,r=a)),r===a&&c===a?(r=0,c=1):(r=li(r),c===a?(c=r,r=0):c=li(c)),r>c){var _=r;r=c,c=_}if(d||r%1||c%1){var S=lu();return Fn(r+S*(c-r+Hi("1e-"+((S+"").length-1))),c)}return hl(r,c)}var lx=As(function(r,c,d){return c=c.toLowerCase(),r+(d?Hf(c):c)});function Hf(r){return Ul(Rt(r).toLowerCase())}function Wf(r){return r=Rt(r),r&&r.replace(Vt,zs).replace(Ya,"")}function cx(r,c,d){r=Rt(r),c=or(c);var _=r.length;d=d===a?_:Qi(st(d),0,_);var S=d;return d-=c.length,d>=0&&r.slice(d,S)==c}function ux(r){return r=Rt(r),r&&se.test(r)?r.replace(gr,qa):r}function fx(r){return r=Rt(r),r&&De.test(r)?r.replace(Re,"\\$&"):r}var hx=As(function(r,c,d){return r+(d?"-":"")+c.toLowerCase()}),dx=As(function(r,c,d){return r+(d?" ":"")+c.toLowerCase()}),gx=Vu("toLowerCase");function px(r,c,d){r=Rt(r),c=st(c);var _=c?o(r):0;if(!c||_>=c)return r;var S=(c-_)/2;return na(Vo(S),d)+r+na(jo(S),d)}function xx(r,c,d){r=Rt(r),c=st(c);var _=c?o(r):0;return c&&_<c?r+na(c-_,d):r}function mx(r,c,d){r=Rt(r),c=st(c);var _=c?o(r):0;return c&&_<c?na(c-_,d)+r:r}function wx(r,c,d){return d||c==null?c=0:c&&(c=+c),b0(Rt(r).replace(Ue,""),c||0)}function Ex(r,c,d){return(d?zn(r,c,d):c===a)?c=1:c=st(c),dl(Rt(r),c)}function _x(){var r=arguments,c=Rt(r[0]);return r.length<3?c:c.replace(r[1],r[2])}var Ax=As(function(r,c,d){return r+(d?"_":"")+c.toLowerCase()});function Cx(r,c,d){return d&&typeof d!="number"&&zn(r,c,d)&&(c=d=a),d=d===a?Le:d>>>0,d?(r=Rt(r),r&&(typeof c=="string"||c!=null&&!Pl(c))&&(c=or(c),!c&&Ei(r))?Ii(u(r),0,d):r.split(c,d)):[]}var yx=As(function(r,c,d){return r+(d?" ":"")+Ul(c)});function Ix(r,c,d){return r=Rt(r),d=d==null?0:Qi(st(d),0,r.length),c=or(c),r.slice(d,d+c.length)==c}function bx(r,c,d){var _=R.templateSettings;d&&zn(r,c,d)&&(c=a),r=Rt(r),c=ga({},c,_,Qu);var S=ga({},c.imports,_.imports,Qu),P=Tn(S),G=wi(S,P),X,Q,ge=0,pe=c.interpolate||ct,_e="__p += '",Me=tt((c.escape||ct).source+"|"+pe.source+"|"+(pe===ue?In:ct).source+"|"+(c.evaluate||ct).source+"|$","g"),We="//# sourceURL="+(wt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qr+"]")+`
`;r.replace(Me,function(qe,pt,_t,lr,Gn,cr){return _t||(_t=lr),_e+=r.slice(ge,cr).replace(Bi,Lo),pt&&(X=!0,_e+=`' +
__e(`+pt+`) +
'`),Gn&&(Q=!0,_e+=`';
`+Gn+`;
__p += '`),_t&&(_e+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),ge=cr+qe.length,qe}),_e+=`';
`;var Qe=wt.call(c,"variable")&&c.variable;if(!Qe)_e=`with (obj) {
`+_e+`
}
`;else if(yn.test(Qe))throw new le(E);_e=(Q?_e.replace(Hr,""):_e).replace(Di,"$1").replace(as,"$1;"),_e="function("+(Qe||"obj")+`) {
`+(Qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(X?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var ot=Vf(function(){return fe(P,We+"return "+_e).apply(a,G)});if(ot.source=_e,Bl(ot))throw ot;return ot}function Sx(r){return Rt(r).toLowerCase()}function vx(r){return Rt(r).toUpperCase()}function Tx(r,c,d){if(r=Rt(r),r&&(d||c===a))return Do(r);if(!r||!(c=or(c)))return r;var _=u(r),S=u(c),P=Vs(_,S),G=sr(_,S)+1;return Ii(_,P,G).join("")}function Ox(r,c,d){if(r=Rt(r),r&&(d||c===a))return r.slice(0,f(r)+1);if(!r||!(c=or(c)))return r;var _=u(r),S=sr(_,u(c))+1;return Ii(_,0,S).join("")}function Nx(r,c,d){if(r=Rt(r),r&&(d||c===a))return r.replace(Ue,"");if(!r||!(c=or(c)))return r;var _=u(r),S=Vs(_,u(c));return Ii(_,S).join("")}function Mx(r,c){var d=Te,_=ae;if(tn(c)){var S="separator"in c?c.separator:S;d="length"in c?st(c.length):d,_="omission"in c?or(c.omission):_}r=Rt(r);var P=r.length;if(Ei(r)){var G=u(r);P=G.length}if(d>=P)return r;var X=d-o(_);if(X<1)return _;var Q=G?Ii(G,0,X).join(""):r.slice(0,X);if(S===a)return Q+_;if(G&&(X+=Q.length-X),Pl(S)){if(r.slice(X).search(S)){var ge,pe=Q;for(S.global||(S=tt(S.source,Rt(Kn.exec(S))+"g")),S.lastIndex=0;ge=S.exec(pe);)var _e=ge.index;Q=Q.slice(0,_e===a?X:_e)}}else if(r.indexOf(or(S),X)!=X){var Me=Q.lastIndexOf(S);Me>-1&&(Q=Q.slice(0,Me))}return Q+_}function Rx(r){return r=Rt(r),r&&vr.test(r)?r.replace(mt,g):r}var Dx=As(function(r,c,d){return r+(d?" ":"")+c.toUpperCase()}),Ul=Vu("toUpperCase");function jf(r,c,d){return r=Rt(r),c=d?a:c,c===a?Gs(r)?b(r):$r(r):r.match(c)||[]}var Vf=at(function(r,c){try{return bn(r,a,c)}catch(d){return Bl(d)?d:new le(d)}}),Lx=si(function(r,c){return Qn(c,function(d){d=zr(d),ri(r,d,Dl(r[d],r))}),r});function Bx(r){var c=r==null?0:r.length,d=Ze();return r=c?et(r,function(_){if(typeof _[1]!="function")throw new Jt(w);return[d(_[0]),_[1]]}):[],at(function(_){for(var S=-1;++S<c;){var P=r[S];if(bn(P[0],this,_))return bn(P[1],this,_)}})}function Px(r){return ad(Ar(r,M))}function Hl(r){return function(){return r}}function Fx(r,c){return r==null||r!==r?c:r}var kx=Gu(),Ux=Gu(!0);function er(r){return r}function Wl(r){return Au(typeof r=="function"?r:Ar(r,M))}function Hx(r){return yu(Ar(r,M))}function Wx(r,c){return Iu(r,Ar(c,M))}var jx=at(function(r,c){return function(d){return $s(d,r,c)}}),Vx=at(function(r,c){return function(d){return $s(r,d,c)}});function jl(r,c,d){var _=Tn(c),S=Zo(c,_);d==null&&!(tn(c)&&(S.length||!_.length))&&(d=c,c=r,r=this,S=Zo(c,Tn(c)));var P=!(tn(d)&&"chain"in d)||!!d.chain,G=ai(r);return Qn(S,function(X){var Q=c[X];r[X]=Q,G&&(r.prototype[X]=function(){var ge=this.__chain__;if(P||ge){var pe=r(this.__wrapped__),_e=pe.__actions__=qn(this.__actions__);return _e.push({func:Q,args:arguments,thisArg:r}),pe.__chain__=ge,pe}return Q.apply(r,ir([this.value()],arguments))})}),r}function zx(){return dn._===this&&(dn._=x0),this}function Vl(){}function Gx(r){return r=st(r),at(function(c){return bu(c,r)})}var Yx=_l(et),Xx=_l(Mo),Kx=_l(Ge);function zf(r){return vl(r)?ps(zr(r)):Id(r)}function Zx(r){return function(c){return r==null?a:qi(r,c)}}var Qx=Xu(),qx=Xu(!0);function zl(){return[]}function Gl(){return!1}function Jx(){return{}}function $x(){return""}function em(){return!0}function tm(r,c){if(r=st(r),r<1||r>Ce)return[];var d=Le,_=Fn(r,Le);c=Ze(c),r-=Le;for(var S=js(_,c);++d<r;)c(d);return S}function nm(r){return rt(r)?et(r,zr):ar(r)?[r]:qn(uf(Rt(r)))}function rm(r){var c=++Ja;return Rt(r)+c}var im=ta(function(r,c){return r+c},0),sm=Al("ceil"),om=ta(function(r,c){return r/c},1),am=Al("floor");function lm(r){return r&&r.length?Ko(r,er,ol):a}function cm(r,c){return r&&r.length?Ko(r,Ze(c,2),ol):a}function um(r){return gs(r,er)}function fm(r,c){return gs(r,Ze(c,2))}function hm(r){return r&&r.length?Ko(r,er,ul):a}function dm(r,c){return r&&r.length?Ko(r,Ze(c,2),ul):a}var gm=ta(function(r,c){return r*c},1),pm=Al("round"),xm=ta(function(r,c){return r-c},0);function mm(r){return r&&r.length?Vi(r,er):0}function wm(r,c){return r&&r.length?Vi(r,Ze(c,2)):0}return R.after=Hp,R.ary=Af,R.assign=v2,R.assignIn=Bf,R.assignInWith=ga,R.assignWith=T2,R.at=O2,R.before=Cf,R.bind=Dl,R.bindAll=Lx,R.bindKey=yf,R.castArray=Jp,R.chain=wf,R.chunk=ag,R.compact=lg,R.concat=cg,R.cond=Bx,R.conforms=Px,R.constant=Hl,R.countBy=mp,R.create=N2,R.curry=If,R.curryRight=bf,R.debounce=Sf,R.defaults=M2,R.defaultsDeep=R2,R.defer=Wp,R.delay=jp,R.difference=ug,R.differenceBy=fg,R.differenceWith=hg,R.drop=dg,R.dropRight=gg,R.dropRightWhile=pg,R.dropWhile=xg,R.fill=mg,R.filter=Ep,R.flatMap=Cp,R.flatMapDeep=yp,R.flatMapDepth=Ip,R.flatten=gf,R.flattenDeep=wg,R.flattenDepth=Eg,R.flip=Vp,R.flow=kx,R.flowRight=Ux,R.fromPairs=_g,R.functions=U2,R.functionsIn=H2,R.groupBy=bp,R.initial=Cg,R.intersection=yg,R.intersectionBy=Ig,R.intersectionWith=bg,R.invert=j2,R.invertBy=V2,R.invokeMap=vp,R.iteratee=Wl,R.keyBy=Tp,R.keys=Tn,R.keysIn=$n,R.map=la,R.mapKeys=G2,R.mapValues=Y2,R.matches=Hx,R.matchesProperty=Wx,R.memoize=ua,R.merge=X2,R.mergeWith=Pf,R.method=jx,R.methodOf=Vx,R.mixin=jl,R.negate=fa,R.nthArg=Gx,R.omit=K2,R.omitBy=Z2,R.once=zp,R.orderBy=Op,R.over=Yx,R.overArgs=Gp,R.overEvery=Xx,R.overSome=Kx,R.partial=Ll,R.partialRight=vf,R.partition=Np,R.pick=Q2,R.pickBy=Ff,R.property=zf,R.propertyOf=Zx,R.pull=Og,R.pullAll=xf,R.pullAllBy=Ng,R.pullAllWith=Mg,R.pullAt=Rg,R.range=Qx,R.rangeRight=qx,R.rearg=Yp,R.reject=Dp,R.remove=Dg,R.rest=Xp,R.reverse=Ml,R.sampleSize=Bp,R.set=J2,R.setWith=$2,R.shuffle=Pp,R.slice=Lg,R.sortBy=Up,R.sortedUniq=Wg,R.sortedUniqBy=jg,R.split=Cx,R.spread=Kp,R.tail=Vg,R.take=zg,R.takeRight=Gg,R.takeRightWhile=Yg,R.takeWhile=Xg,R.tap=lp,R.throttle=Zp,R.thru=aa,R.toArray=Rf,R.toPairs=kf,R.toPairsIn=Uf,R.toPath=nm,R.toPlainObject=Lf,R.transform=ex,R.unary=Qp,R.union=Kg,R.unionBy=Zg,R.unionWith=Qg,R.uniq=qg,R.uniqBy=Jg,R.uniqWith=$g,R.unset=tx,R.unzip=Rl,R.unzipWith=mf,R.update=nx,R.updateWith=rx,R.values=Is,R.valuesIn=ix,R.without=ep,R.words=jf,R.wrap=qp,R.xor=tp,R.xorBy=np,R.xorWith=rp,R.zip=ip,R.zipObject=sp,R.zipObjectDeep=op,R.zipWith=ap,R.entries=kf,R.entriesIn=Uf,R.extend=Bf,R.extendWith=ga,jl(R,R),R.add=im,R.attempt=Vf,R.camelCase=lx,R.capitalize=Hf,R.ceil=sm,R.clamp=sx,R.clone=$p,R.cloneDeep=t2,R.cloneDeepWith=n2,R.cloneWith=e2,R.conformsTo=r2,R.deburr=Wf,R.defaultTo=Fx,R.divide=om,R.endsWith=cx,R.eq=Rr,R.escape=ux,R.escapeRegExp=fx,R.every=wp,R.find=_p,R.findIndex=hf,R.findKey=D2,R.findLast=Ap,R.findLastIndex=df,R.findLastKey=L2,R.floor=am,R.forEach=Ef,R.forEachRight=_f,R.forIn=B2,R.forInRight=P2,R.forOwn=F2,R.forOwnRight=k2,R.get=Fl,R.gt=i2,R.gte=s2,R.has=W2,R.hasIn=kl,R.head=pf,R.identity=er,R.includes=Sp,R.indexOf=Ag,R.inRange=ox,R.invoke=z2,R.isArguments=es,R.isArray=rt,R.isArrayBuffer=o2,R.isArrayLike=Jn,R.isArrayLikeObject=cn,R.isBoolean=a2,R.isBuffer=bi,R.isDate=l2,R.isElement=c2,R.isEmpty=u2,R.isEqual=f2,R.isEqualWith=h2,R.isError=Bl,R.isFinite=d2,R.isFunction=ai,R.isInteger=Tf,R.isLength=ha,R.isMap=Of,R.isMatch=g2,R.isMatchWith=p2,R.isNaN=x2,R.isNative=m2,R.isNil=E2,R.isNull=w2,R.isNumber=Nf,R.isObject=tn,R.isObjectLike=on,R.isPlainObject=so,R.isRegExp=Pl,R.isSafeInteger=_2,R.isSet=Mf,R.isString=da,R.isSymbol=ar,R.isTypedArray=ys,R.isUndefined=A2,R.isWeakMap=C2,R.isWeakSet=y2,R.join=Sg,R.kebabCase=hx,R.last=yr,R.lastIndexOf=vg,R.lowerCase=dx,R.lowerFirst=gx,R.lt=I2,R.lte=b2,R.max=lm,R.maxBy=cm,R.mean=um,R.meanBy=fm,R.min=hm,R.minBy=dm,R.stubArray=zl,R.stubFalse=Gl,R.stubObject=Jx,R.stubString=$x,R.stubTrue=em,R.multiply=gm,R.nth=Tg,R.noConflict=zx,R.noop=Vl,R.now=ca,R.pad=px,R.padEnd=xx,R.padStart=mx,R.parseInt=wx,R.random=ax,R.reduce=Mp,R.reduceRight=Rp,R.repeat=Ex,R.replace=_x,R.result=q2,R.round=pm,R.runInContext=v,R.sample=Lp,R.size=Fp,R.snakeCase=Ax,R.some=kp,R.sortedIndex=Bg,R.sortedIndexBy=Pg,R.sortedIndexOf=Fg,R.sortedLastIndex=kg,R.sortedLastIndexBy=Ug,R.sortedLastIndexOf=Hg,R.startCase=yx,R.startsWith=Ix,R.subtract=xm,R.sum=mm,R.sumBy=wm,R.template=bx,R.times=tm,R.toFinite=li,R.toInteger=st,R.toLength=Df,R.toLower=Sx,R.toNumber=Ir,R.toSafeInteger=S2,R.toString=Rt,R.toUpper=vx,R.trim=Tx,R.trimEnd=Ox,R.trimStart=Nx,R.truncate=Mx,R.unescape=Rx,R.uniqueId=rm,R.upperCase=Dx,R.upperFirst=Ul,R.each=Ef,R.eachRight=_f,R.first=pf,jl(R,function(){var r={};return jr(R,function(c,d){wt.call(R.prototype,d)||(r[d]=c)}),r}(),{chain:!1}),R.VERSION=h,Qn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){R[r].placeholder=R}),Qn(["drop","take"],function(r,c){Et.prototype[r]=function(d){d=d===a?1:_n(st(d),0);var _=this.__filtered__&&!c?new Et(this):this.clone();return _.__filtered__?_.__takeCount__=Fn(d,_.__takeCount__):_.__views__.push({size:Fn(d,Le),type:r+(_.__dir__<0?"Right":"")}),_},Et.prototype[r+"Right"]=function(d){return this.reverse()[r](d).reverse()}}),Qn(["filter","map","takeWhile"],function(r,c){var d=c+1,_=d==V||d==ee;Et.prototype[r]=function(S){var P=this.clone();return P.__iteratees__.push({iteratee:Ze(S,3),type:d}),P.__filtered__=P.__filtered__||_,P}}),Qn(["head","last"],function(r,c){var d="take"+(c?"Right":"");Et.prototype[r]=function(){return this[d](1).value()[0]}}),Qn(["initial","tail"],function(r,c){var d="drop"+(c?"":"Right");Et.prototype[r]=function(){return this.__filtered__?new Et(this):this[d](1)}}),Et.prototype.compact=function(){return this.filter(er)},Et.prototype.find=function(r){return this.filter(r).head()},Et.prototype.findLast=function(r){return this.reverse().find(r)},Et.prototype.invokeMap=at(function(r,c){return typeof r=="function"?new Et(this):this.map(function(d){return $s(d,r,c)})}),Et.prototype.reject=function(r){return this.filter(fa(Ze(r)))},Et.prototype.slice=function(r,c){r=st(r);var d=this;return d.__filtered__&&(r>0||c<0)?new Et(d):(r<0?d=d.takeRight(-r):r&&(d=d.drop(r)),c!==a&&(c=st(c),d=c<0?d.dropRight(-c):d.take(c-r)),d)},Et.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Et.prototype.toArray=function(){return this.take(Le)},jr(Et.prototype,function(r,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),_=/^(?:head|last)$/.test(c),S=R[_?"take"+(c=="last"?"Right":""):c],P=_||/^find/.test(c);S&&(R.prototype[c]=function(){var G=this.__wrapped__,X=_?[1]:arguments,Q=G instanceof Et,ge=X[0],pe=Q||rt(G),_e=function(pt){var _t=S.apply(R,ir([pt],X));return _&&Me?_t[0]:_t};pe&&d&&typeof ge=="function"&&ge.length!=1&&(Q=pe=!1);var Me=this.__chain__,We=!!this.__actions__.length,Qe=P&&!Me,ot=Q&&!We;if(!P&&pe){G=ot?G:new Et(this);var qe=r.apply(G,X);return qe.__actions__.push({func:aa,args:[_e],thisArg:a}),new _r(qe,Me)}return Qe&&ot?r.apply(this,X):(qe=this.thru(_e),Qe?_?qe.value()[0]:qe.value():qe)})}),Qn(["pop","push","shift","sort","splice","unshift"],function(r){var c=En[r],d=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",_=/^(?:pop|shift)$/.test(r);R.prototype[r]=function(){var S=arguments;if(_&&!this.__chain__){var P=this.value();return c.apply(rt(P)?P:[],S)}return this[d](function(G){return c.apply(rt(G)?G:[],S)})}}),jr(Et.prototype,function(r,c){var d=R[c];if(d){var _=d.name+"";wt.call(ws,_)||(ws[_]=[]),ws[_].push({name:c,func:d})}}),ws[ea(a,ie).name]=[{name:"wrapper",func:a}],Et.prototype.clone=R0,Et.prototype.reverse=D0,Et.prototype.value=L0,R.prototype.at=cp,R.prototype.chain=up,R.prototype.commit=fp,R.prototype.next=hp,R.prototype.plant=gp,R.prototype.reverse=pp,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=xp,R.prototype.first=R.prototype.head,Ys&&(R.prototype[Ys]=dp),R},U=N();Jr?((Jr.exports=U)._=U,Us._=U):dn._=U}).call(Xr)})(ba,ba.exports);var Pw=ba.exports;const Fw=Dc(Pw);window.axios=Bw;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window._=Fw;var oc=!1,ac=!1,rs=[],lc=-1;function kw(i){Uw(i)}function Uw(i){rs.includes(i)||rs.push(i),Hw()}function qh(i){let l=rs.indexOf(i);l!==-1&&l>lc&&rs.splice(l,1)}function Hw(){!ac&&!oc&&(oc=!0,queueMicrotask(Ww))}function Ww(){oc=!1,ac=!0;for(let i=0;i<rs.length;i++)rs[i](),lc=i;rs.length=0,lc=-1,ac=!1}var Ns,Ms,wo,Jh,cc=!0;function jw(i){cc=!1,i(),cc=!0}function Vw(i){Ns=i.reactive,wo=i.release,Ms=l=>i.effect(l,{scheduler:a=>{cc?kw(a):a()}}),Jh=i.raw}function rh(i){Ms=i}function zw(i){let l=()=>{};return[h=>{let x=Ms(h);return i._x_effects||(i._x_effects=new Set,i._x_runEffects=()=>{i._x_effects.forEach(p=>p())}),i._x_effects.add(x),l=()=>{x!==void 0&&(i._x_effects.delete(x),wo(x))},x},()=>{l()}]}function uo(i,l,a={}){i.dispatchEvent(new CustomEvent(l,{detail:a,bubbles:!0,composed:!0,cancelable:!0}))}function Oi(i,l){if(typeof ShadowRoot=="function"&&i instanceof ShadowRoot){Array.from(i.children).forEach(x=>Oi(x,l));return}let a=!1;if(l(i,()=>a=!0),a)return;let h=i.firstElementChild;for(;h;)Oi(h,l),h=h.nextElementSibling}function hi(i,...l){console.warn(`Alpine Warning: ${i}`,...l)}var ih=!1;function Gw(){ih&&hi("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),ih=!0,document.body||hi("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),uo(document,"alpine:init"),uo(document,"alpine:initializing"),Uc(),Kw(l=>di(l,Oi)),Pc(l=>Bc(l)),l1((l,a)=>{Vc(l,a).forEach(h=>h())});let i=l=>!Pa(l.parentElement,!0);Array.from(document.querySelectorAll(t1())).filter(i).forEach(l=>{di(l)}),uo(document,"alpine:initialized")}var Lc=[],$h=[];function e1(){return Lc.map(i=>i())}function t1(){return Lc.concat($h).map(i=>i())}function n1(i){Lc.push(i)}function r1(i){$h.push(i)}function Pa(i,l=!1){return Fa(i,a=>{if((l?t1():e1()).some(x=>a.matches(x)))return!0})}function Fa(i,l){if(i){if(l(i))return i;if(i._x_teleportBack&&(i=i._x_teleportBack),!!i.parentElement)return Fa(i.parentElement,l)}}function Yw(i){return e1().some(l=>i.matches(l))}var i1=[];function Xw(i){i1.push(i)}function di(i,l=Oi,a=()=>{}){cE(()=>{l(i,(h,x)=>{a(h,x),i1.forEach(p=>p(h,x)),Vc(h,h.attributes).forEach(p=>p()),h._x_ignore&&x()})})}function Bc(i){Oi(i,l=>{u1(l),Zw(l)})}var s1=[],o1=[],a1=[];function Kw(i){a1.push(i)}function Pc(i,l){typeof l=="function"?(i._x_cleanups||(i._x_cleanups=[]),i._x_cleanups.push(l)):(l=i,o1.push(l))}function l1(i){s1.push(i)}function c1(i,l,a){i._x_attributeCleanups||(i._x_attributeCleanups={}),i._x_attributeCleanups[l]||(i._x_attributeCleanups[l]=[]),i._x_attributeCleanups[l].push(a)}function u1(i,l){i._x_attributeCleanups&&Object.entries(i._x_attributeCleanups).forEach(([a,h])=>{(l===void 0||l.includes(a))&&(h.forEach(x=>x()),delete i._x_attributeCleanups[a])})}function Zw(i){if(i._x_cleanups)for(;i._x_cleanups.length;)i._x_cleanups.pop()()}var Fc=new MutationObserver(Wc),kc=!1;function Uc(){Fc.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),kc=!0}function f1(){Qw(),Fc.disconnect(),kc=!1}var fo=[],Ql=!1;function Qw(){fo=fo.concat(Fc.takeRecords()),fo.length&&!Ql&&(Ql=!0,queueMicrotask(()=>{qw(),Ql=!1}))}function qw(){Wc(fo),fo.length=0}function An(i){if(!kc)return i();f1();let l=i();return Uc(),l}var Hc=!1,Sa=[];function Jw(){Hc=!0}function $w(){Hc=!1,Wc(Sa),Sa=[]}function Wc(i){if(Hc){Sa=Sa.concat(i);return}let l=[],a=[],h=new Map,x=new Map;for(let p=0;p<i.length;p++)if(!i[p].target._x_ignoreMutationObserver&&(i[p].type==="childList"&&(i[p].addedNodes.forEach(w=>w.nodeType===1&&l.push(w)),i[p].removedNodes.forEach(w=>w.nodeType===1&&a.push(w))),i[p].type==="attributes")){let w=i[p].target,E=i[p].attributeName,O=i[p].oldValue,A=()=>{h.has(w)||h.set(w,[]),h.get(w).push({name:E,value:w.getAttribute(E)})},I=()=>{x.has(w)||x.set(w,[]),x.get(w).push(E)};w.hasAttribute(E)&&O===null?A():w.hasAttribute(E)?(I(),A()):I()}x.forEach((p,w)=>{u1(w,p)}),h.forEach((p,w)=>{s1.forEach(E=>E(w,p))});for(let p of a)l.includes(p)||(o1.forEach(w=>w(p)),Bc(p));l.forEach(p=>{p._x_ignoreSelf=!0,p._x_ignore=!0});for(let p of l)a.includes(p)||p.isConnected&&(delete p._x_ignoreSelf,delete p._x_ignore,a1.forEach(w=>w(p)),p._x_ignore=!0,p._x_ignoreSelf=!0);l.forEach(p=>{delete p._x_ignoreSelf,delete p._x_ignore}),l=null,a=null,h=null,x=null}function h1(i){return _o(vs(i))}function Eo(i,l,a){return i._x_dataStack=[l,...vs(a||i)],()=>{i._x_dataStack=i._x_dataStack.filter(h=>h!==l)}}function vs(i){return i._x_dataStack?i._x_dataStack:typeof ShadowRoot=="function"&&i instanceof ShadowRoot?vs(i.host):i.parentNode?vs(i.parentNode):[]}function _o(i){return new Proxy({objects:i},eE)}var eE={ownKeys({objects:i}){return Array.from(new Set(i.flatMap(l=>Object.keys(l))))},has({objects:i},l){return l==Symbol.unscopables?!1:i.some(a=>Object.prototype.hasOwnProperty.call(a,l))},get({objects:i},l,a){return l=="toJSON"?tE:Reflect.get(i.find(h=>Object.prototype.hasOwnProperty.call(h,l))||{},l,a)},set({objects:i},l,a,h){const x=i.find(w=>Object.prototype.hasOwnProperty.call(w,l))||i[i.length-1],p=Object.getOwnPropertyDescriptor(x,l);return p!=null&&p.set&&(p!=null&&p.get)?Reflect.set(x,l,a,h):Reflect.set(x,l,a)}};function tE(){return Reflect.ownKeys(this).reduce((l,a)=>(l[a]=Reflect.get(this,a),l),{})}function d1(i){let l=h=>typeof h=="object"&&!Array.isArray(h)&&h!==null,a=(h,x="")=>{Object.entries(Object.getOwnPropertyDescriptors(h)).forEach(([p,{value:w,enumerable:E}])=>{if(E===!1||w===void 0)return;let O=x===""?p:`${x}.${p}`;typeof w=="object"&&w!==null&&w._x_interceptor?h[p]=w.initialize(i,O,p):l(w)&&w!==h&&!(w instanceof Element)&&a(w,O)})};return a(i)}function g1(i,l=()=>{}){let a={initialValue:void 0,_x_interceptor:!0,initialize(h,x,p){return i(this.initialValue,()=>nE(h,x),w=>uc(h,x,w),x,p)}};return l(a),h=>{if(typeof h=="object"&&h!==null&&h._x_interceptor){let x=a.initialize.bind(a);a.initialize=(p,w,E)=>{let O=h.initialize(p,w,E);return a.initialValue=O,x(p,w,E)}}else a.initialValue=h;return a}}function nE(i,l){return l.split(".").reduce((a,h)=>a[h],i)}function uc(i,l,a){if(typeof l=="string"&&(l=l.split(".")),l.length===1)i[l[0]]=a;else{if(l.length===0)throw error;return i[l[0]]||(i[l[0]]={}),uc(i[l[0]],l.slice(1),a)}}var p1={};function Pr(i,l){p1[i]=l}function fc(i,l){return Object.entries(p1).forEach(([a,h])=>{let x=null;function p(){if(x)return x;{let[w,E]=A1(l);return x={interceptor:g1,...w},Pc(l,E),x}}Object.defineProperty(i,`$${a}`,{get(){return h(l,p())},enumerable:!1})}),i}function rE(i,l,a,...h){try{return a(...h)}catch(x){po(x,i,l)}}function po(i,l,a=void 0){Object.assign(i,{el:l,expression:a}),console.warn(`Alpine Expression Error: ${i.message}

${a?'Expression: "'+a+`"

`:""}`,l),setTimeout(()=>{throw i},0)}var ya=!0;function x1(i){let l=ya;ya=!1;let a=i();return ya=l,a}function is(i,l,a={}){let h;return Yn(i,l)(x=>h=x,a),h}function Yn(...i){return m1(...i)}var m1=w1;function iE(i){m1=i}function w1(i,l){let a={};fc(a,i);let h=[a,...vs(i)],x=typeof l=="function"?sE(h,l):aE(h,l,i);return rE.bind(null,i,l,x)}function sE(i,l){return(a=()=>{},{scope:h={},params:x=[]}={})=>{let p=l.apply(_o([h,...i]),x);va(a,p)}}var ql={};function oE(i,l){if(ql[i])return ql[i];let a=Object.getPrototypeOf(async function(){}).constructor,h=/^[\n\s]*if.*\(.*\)/.test(i.trim())||/^(let|const)\s/.test(i.trim())?`(async()=>{ ${i} })()`:i,p=(()=>{try{let w=new a(["__self","scope"],`with (scope) { __self.result = ${h} }; __self.finished = true; return __self.result;`);return Object.defineProperty(w,"name",{value:`[Alpine] ${i}`}),w}catch(w){return po(w,l,i),Promise.resolve()}})();return ql[i]=p,p}function aE(i,l,a){let h=oE(l,a);return(x=()=>{},{scope:p={},params:w=[]}={})=>{h.result=void 0,h.finished=!1;let E=_o([p,...i]);if(typeof h=="function"){let O=h(h,E).catch(A=>po(A,a,l));h.finished?(va(x,h.result,E,w,a),h.result=void 0):O.then(A=>{va(x,A,E,w,a)}).catch(A=>po(A,a,l)).finally(()=>h.result=void 0)}}}function va(i,l,a,h,x){if(ya&&typeof l=="function"){let p=l.apply(a,h);p instanceof Promise?p.then(w=>va(i,w,a,h)).catch(w=>po(w,x,l)):i(p)}else typeof l=="object"&&l instanceof Promise?l.then(p=>i(p)):i(l)}var jc="x-";function Rs(i=""){return jc+i}function lE(i){jc=i}var hc={};function xn(i,l){return hc[i]=l,{before(a){if(!hc[a]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const h=ns.indexOf(a);ns.splice(h>=0?h:ns.indexOf("DEFAULT"),0,i)}}}function Vc(i,l,a){if(l=Array.from(l),i._x_virtualDirectives){let p=Object.entries(i._x_virtualDirectives).map(([E,O])=>({name:E,value:O})),w=E1(p);p=p.map(E=>w.find(O=>O.name===E.name)?{name:`x-bind:${E.name}`,value:`"${E.value}"`}:E),l=l.concat(p)}let h={};return l.map(I1((p,w)=>h[p]=w)).filter(S1).map(fE(h,a)).sort(hE).map(p=>uE(i,p))}function E1(i){return Array.from(i).map(I1()).filter(l=>!S1(l))}var dc=!1,co=new Map,_1=Symbol();function cE(i){dc=!0;let l=Symbol();_1=l,co.set(l,[]);let a=()=>{for(;co.get(l).length;)co.get(l).shift()();co.delete(l)},h=()=>{dc=!1,a()};i(a),h()}function A1(i){let l=[],a=E=>l.push(E),[h,x]=zw(i);return l.push(x),[{Alpine:Ao,effect:h,cleanup:a,evaluateLater:Yn.bind(Yn,i),evaluate:is.bind(is,i)},()=>l.forEach(E=>E())]}function uE(i,l){let a=()=>{},h=hc[l.type]||a,[x,p]=A1(i);c1(i,l.original,p);let w=()=>{i._x_ignore||i._x_ignoreSelf||(h.inline&&h.inline(i,l,x),h=h.bind(h,i,l,x),dc?co.get(_1).push(h):h())};return w.runCleanups=p,w}var C1=(i,l)=>({name:a,value:h})=>(a.startsWith(i)&&(a=a.replace(i,l)),{name:a,value:h}),y1=i=>i;function I1(i=()=>{}){return({name:l,value:a})=>{let{name:h,value:x}=b1.reduce((p,w)=>w(p),{name:l,value:a});return h!==l&&i(h,l),{name:h,value:x}}}var b1=[];function zc(i){b1.push(i)}function S1({name:i}){return v1().test(i)}var v1=()=>new RegExp(`^${jc}([^:^.]+)\\b`);function fE(i,l){return({name:a,value:h})=>{let x=a.match(v1()),p=a.match(/:([a-zA-Z0-9\-_:]+)/),w=a.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],E=l||i[a]||a;return{type:x?x[1]:null,value:p?p[1]:null,modifiers:w.map(O=>O.replace(".","")),expression:h,original:E}}}var gc="DEFAULT",ns=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",gc,"teleport"];function hE(i,l){let a=ns.indexOf(i.type)===-1?gc:i.type,h=ns.indexOf(l.type)===-1?gc:l.type;return ns.indexOf(a)-ns.indexOf(h)}var pc=[],Gc=!1;function Yc(i=()=>{}){return queueMicrotask(()=>{Gc||setTimeout(()=>{xc()})}),new Promise(l=>{pc.push(()=>{i(),l()})})}function xc(){for(Gc=!1;pc.length;)pc.shift()()}function dE(){Gc=!0}function Xc(i,l){return Array.isArray(l)?sh(i,l.join(" ")):typeof l=="object"&&l!==null?gE(i,l):typeof l=="function"?Xc(i,l()):sh(i,l)}function sh(i,l){let a=x=>x.split(" ").filter(p=>!i.classList.contains(p)).filter(Boolean),h=x=>(i.classList.add(...x),()=>{i.classList.remove(...x)});return l=l===!0?l="":l||"",h(a(l))}function gE(i,l){let a=E=>E.split(" ").filter(Boolean),h=Object.entries(l).flatMap(([E,O])=>O?a(E):!1).filter(Boolean),x=Object.entries(l).flatMap(([E,O])=>O?!1:a(E)).filter(Boolean),p=[],w=[];return x.forEach(E=>{i.classList.contains(E)&&(i.classList.remove(E),w.push(E))}),h.forEach(E=>{i.classList.contains(E)||(i.classList.add(E),p.push(E))}),()=>{w.forEach(E=>i.classList.add(E)),p.forEach(E=>i.classList.remove(E))}}function ka(i,l){return typeof l=="object"&&l!==null?pE(i,l):xE(i,l)}function pE(i,l){let a={};return Object.entries(l).forEach(([h,x])=>{a[h]=i.style[h],h.startsWith("--")||(h=mE(h)),i.style.setProperty(h,x)}),setTimeout(()=>{i.style.length===0&&i.removeAttribute("style")}),()=>{ka(i,a)}}function xE(i,l){let a=i.getAttribute("style",l);return i.setAttribute("style",l),()=>{i.setAttribute("style",a||"")}}function mE(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mc(i,l=()=>{}){let a=!1;return function(){a?l.apply(this,arguments):(a=!0,i.apply(this,arguments))}}xn("transition",(i,{value:l,modifiers:a,expression:h},{evaluate:x})=>{typeof h=="function"&&(h=x(h)),h!==!1&&(!h||typeof h=="boolean"?EE(i,a,l):wE(i,h,l))});function wE(i,l,a){T1(i,Xc,""),{enter:x=>{i._x_transition.enter.during=x},"enter-start":x=>{i._x_transition.enter.start=x},"enter-end":x=>{i._x_transition.enter.end=x},leave:x=>{i._x_transition.leave.during=x},"leave-start":x=>{i._x_transition.leave.start=x},"leave-end":x=>{i._x_transition.leave.end=x}}[a](l)}function EE(i,l,a){T1(i,ka);let h=!l.includes("in")&&!l.includes("out")&&!a,x=h||l.includes("in")||["enter"].includes(a),p=h||l.includes("out")||["leave"].includes(a);l.includes("in")&&!h&&(l=l.filter((ie,q)=>q<l.indexOf("out"))),l.includes("out")&&!h&&(l=l.filter((ie,q)=>q>l.indexOf("out")));let w=!l.includes("opacity")&&!l.includes("scale"),E=w||l.includes("opacity"),O=w||l.includes("scale"),A=E?0:1,I=O?ao(l,"scale",95)/100:1,M=ao(l,"delay",0)/1e3,j=ao(l,"origin","center"),H="opacity, transform",z=ao(l,"duration",150)/1e3,W=ao(l,"duration",75)/1e3,Z="cubic-bezier(0.4, 0.0, 0.2, 1)";x&&(i._x_transition.enter.during={transformOrigin:j,transitionDelay:`${M}s`,transitionProperty:H,transitionDuration:`${z}s`,transitionTimingFunction:Z},i._x_transition.enter.start={opacity:A,transform:`scale(${I})`},i._x_transition.enter.end={opacity:1,transform:"scale(1)"}),p&&(i._x_transition.leave.during={transformOrigin:j,transitionDelay:`${M}s`,transitionProperty:H,transitionDuration:`${W}s`,transitionTimingFunction:Z},i._x_transition.leave.start={opacity:1,transform:"scale(1)"},i._x_transition.leave.end={opacity:A,transform:`scale(${I})`})}function T1(i,l,a={}){i._x_transition||(i._x_transition={enter:{during:a,start:a,end:a},leave:{during:a,start:a,end:a},in(h=()=>{},x=()=>{}){wc(i,l,{during:this.enter.during,start:this.enter.start,end:this.enter.end},h,x)},out(h=()=>{},x=()=>{}){wc(i,l,{during:this.leave.during,start:this.leave.start,end:this.leave.end},h,x)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(i,l,a,h){const x=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let p=()=>x(a);if(l){i._x_transition&&(i._x_transition.enter||i._x_transition.leave)?i._x_transition.enter&&(Object.entries(i._x_transition.enter.during).length||Object.entries(i._x_transition.enter.start).length||Object.entries(i._x_transition.enter.end).length)?i._x_transition.in(a):p():i._x_transition?i._x_transition.in(a):p();return}i._x_hidePromise=i._x_transition?new Promise((w,E)=>{i._x_transition.out(()=>{},()=>w(h)),i._x_transitioning.beforeCancel(()=>E({isFromCancelledTransition:!0}))}):Promise.resolve(h),queueMicrotask(()=>{let w=O1(i);w?(w._x_hideChildren||(w._x_hideChildren=[]),w._x_hideChildren.push(i)):x(()=>{let E=O=>{let A=Promise.all([O._x_hidePromise,...(O._x_hideChildren||[]).map(E)]).then(([I])=>I());return delete O._x_hidePromise,delete O._x_hideChildren,A};E(i).catch(O=>{if(!O.isFromCancelledTransition)throw O})})})};function O1(i){let l=i.parentNode;if(l)return l._x_hidePromise?l:O1(l)}function wc(i,l,{during:a,start:h,end:x}={},p=()=>{},w=()=>{}){if(i._x_transitioning&&i._x_transitioning.cancel(),Object.keys(a).length===0&&Object.keys(h).length===0&&Object.keys(x).length===0){p(),w();return}let E,O,A;_E(i,{start(){E=l(i,h)},during(){O=l(i,a)},before:p,end(){E(),A=l(i,x)},after:w,cleanup(){O(),A()}})}function _E(i,l){let a,h,x,p=mc(()=>{An(()=>{a=!0,h||l.before(),x||(l.end(),xc()),l.after(),i.isConnected&&l.cleanup(),delete i._x_transitioning})});i._x_transitioning={beforeCancels:[],beforeCancel(w){this.beforeCancels.push(w)},cancel:mc(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();p()}),finish:p},An(()=>{l.start(),l.during()}),dE(),requestAnimationFrame(()=>{if(a)return;let w=Number(getComputedStyle(i).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,E=Number(getComputedStyle(i).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;w===0&&(w=Number(getComputedStyle(i).animationDuration.replace("s",""))*1e3),An(()=>{l.before()}),h=!0,requestAnimationFrame(()=>{a||(An(()=>{l.end()}),xc(),setTimeout(i._x_transitioning.finish,w+E),x=!0)})})}function ao(i,l,a){if(i.indexOf(l)===-1)return a;const h=i[i.indexOf(l)+1];if(!h||l==="scale"&&isNaN(h))return a;if(l==="duration"||l==="delay"){let x=h.match(/([0-9]+)ms/);if(x)return x[1]}return l==="origin"&&["top","right","left","center","bottom"].includes(i[i.indexOf(l)+2])?[h,i[i.indexOf(l)+2]].join(" "):h}var Ni=!1;function Ua(i,l=()=>{}){return(...a)=>Ni?l(...a):i(...a)}function AE(i){return(...l)=>Ni&&i(...l)}function CE(i,l){i._x_dataStack&&(l._x_dataStack=i._x_dataStack,l.setAttribute("data-has-alpine-state",!0)),Ni=!0,N1(()=>{di(l,(a,h)=>{h(a,()=>{})})}),Ni=!1}var Ec=!1;function yE(i,l){l._x_dataStack||(l._x_dataStack=i._x_dataStack),Ni=!0,Ec=!0,N1(()=>{IE(l)}),Ni=!1,Ec=!1}function IE(i){let l=!1;di(i,(h,x)=>{Oi(h,(p,w)=>{if(l&&Yw(p))return w();l=!0,x(p,w)})})}function N1(i){let l=Ms;rh((a,h)=>{let x=l(a);return wo(x),()=>{}}),i(),rh(l)}function bE(i){return Ni?Ec?!0:i.hasAttribute("data-has-alpine-state"):!1}function M1(i,l,a,h=[]){switch(i._x_bindings||(i._x_bindings=Ns({})),i._x_bindings[l]=a,l=h.includes("camel")?DE(l):l,l){case"value":SE(i,a);break;case"style":TE(i,a);break;case"class":vE(i,a);break;case"selected":case"checked":OE(i,l,a);break;default:R1(i,l,a);break}}function SE(i,l){if(i.type==="radio")i.attributes.value===void 0&&(i.value=l),window.fromModel&&(i.checked=oh(i.value,l));else if(i.type==="checkbox")Number.isInteger(l)?i.value=l:!Array.isArray(l)&&typeof l!="boolean"&&![null,void 0].includes(l)?i.value=String(l):Array.isArray(l)?i.checked=l.some(a=>oh(a,i.value)):i.checked=!!l;else if(i.tagName==="SELECT")RE(i,l);else{if(i.value===l)return;i.value=l===void 0?"":l}}function vE(i,l){i._x_undoAddedClasses&&i._x_undoAddedClasses(),i._x_undoAddedClasses=Xc(i,l)}function TE(i,l){i._x_undoAddedStyles&&i._x_undoAddedStyles(),i._x_undoAddedStyles=ka(i,l)}function OE(i,l,a){R1(i,l,a),ME(i,l,a)}function R1(i,l,a){[null,void 0,!1].includes(a)&&LE(l)?i.removeAttribute(l):(D1(l)&&(a=l),NE(i,l,a))}function NE(i,l,a){i.getAttribute(l)!=a&&i.setAttribute(l,a)}function ME(i,l,a){i[l]!==a&&(i[l]=a)}function RE(i,l){const a=[].concat(l).map(h=>h+"");Array.from(i.options).forEach(h=>{h.selected=a.includes(h.value)})}function DE(i){return i.toLowerCase().replace(/-(\w)/g,(l,a)=>a.toUpperCase())}function oh(i,l){return i==l}function D1(i){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(i)}function LE(i){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(i)}function BE(i,l,a){return i._x_bindings&&i._x_bindings[l]!==void 0?i._x_bindings[l]:L1(i,l,a)}function PE(i,l,a,h=!0){if(i._x_bindings&&i._x_bindings[l]!==void 0)return i._x_bindings[l];if(i._x_inlineBindings&&i._x_inlineBindings[l]!==void 0){let x=i._x_inlineBindings[l];return x.extract=h,x1(()=>is(i,x.expression))}return L1(i,l,a)}function L1(i,l,a){let h=i.getAttribute(l);return h===null?typeof a=="function"?a():a:h===""?!0:D1(l)?!![l,"true"].includes(h):h}function B1(i,l){var a;return function(){var h=this,x=arguments,p=function(){a=null,i.apply(h,x)};clearTimeout(a),a=setTimeout(p,l)}}function P1(i,l){let a;return function(){let h=this,x=arguments;a||(i.apply(h,x),a=!0,setTimeout(()=>a=!1,l))}}function F1({get:i,set:l},{get:a,set:h}){let x=!0,p,w=Ms(()=>{const E=i(),O=a();if(x)h(Jl(E)),x=!1,p=JSON.stringify(E);else{const A=JSON.stringify(E);A!==p?(h(Jl(E)),p=A):(l(Jl(O)),p=JSON.stringify(O))}JSON.stringify(a()),JSON.stringify(i())});return()=>{wo(w)}}function Jl(i){return typeof i=="object"?JSON.parse(JSON.stringify(i)):i}function FE(i){(Array.isArray(i)?i:[i]).forEach(a=>a(Ao))}var ts={},ah=!1;function kE(i,l){if(ah||(ts=Ns(ts),ah=!0),l===void 0)return ts[i];ts[i]=l,typeof l=="object"&&l!==null&&l.hasOwnProperty("init")&&typeof l.init=="function"&&ts[i].init(),d1(ts[i])}function UE(){return ts}var k1={};function HE(i,l){let a=typeof l!="function"?()=>l:l;return i instanceof Element?U1(i,a()):(k1[i]=a,()=>{})}function WE(i){return Object.entries(k1).forEach(([l,a])=>{Object.defineProperty(i,l,{get(){return(...h)=>a(...h)}})}),i}function U1(i,l,a){let h=[];for(;h.length;)h.pop()();let x=Object.entries(l).map(([w,E])=>({name:w,value:E})),p=E1(x);return x=x.map(w=>p.find(E=>E.name===w.name)?{name:`x-bind:${w.name}`,value:`"${w.value}"`}:w),Vc(i,x,a).map(w=>{h.push(w.runCleanups),w()}),()=>{for(;h.length;)h.pop()()}}var H1={};function jE(i,l){H1[i]=l}function VE(i,l){return Object.entries(H1).forEach(([a,h])=>{Object.defineProperty(i,a,{get(){return(...x)=>h.bind(l)(...x)},enumerable:!1})}),i}var zE={get reactive(){return Ns},get release(){return wo},get effect(){return Ms},get raw(){return Jh},version:"3.13.2",flushAndStopDeferringMutations:$w,dontAutoEvaluateFunctions:x1,disableEffectScheduling:jw,startObservingMutations:Uc,stopObservingMutations:f1,setReactivityEngine:Vw,onAttributeRemoved:c1,onAttributesAdded:l1,closestDataStack:vs,skipDuringClone:Ua,onlyDuringClone:AE,addRootSelector:n1,addInitSelector:r1,addScopeToNode:Eo,deferMutations:Jw,mapAttributes:zc,evaluateLater:Yn,interceptInit:Xw,setEvaluator:iE,mergeProxies:_o,extractProp:PE,findClosest:Fa,onElRemoved:Pc,closestRoot:Pa,destroyTree:Bc,interceptor:g1,transition:wc,setStyles:ka,mutateDom:An,directive:xn,entangle:F1,throttle:P1,debounce:B1,evaluate:is,initTree:di,nextTick:Yc,prefixed:Rs,prefix:lE,plugin:FE,magic:Pr,store:kE,start:Gw,clone:yE,cloneNode:CE,bound:BE,$data:h1,walk:Oi,data:jE,bind:HE},Ao=zE;function GE(i,l){const a=Object.create(null),h=i.split(",");for(let x=0;x<h.length;x++)a[h[x]]=!0;return l?x=>!!a[x.toLowerCase()]:x=>!!a[x]}var YE=Object.freeze({}),XE=Object.prototype.hasOwnProperty,Ha=(i,l)=>XE.call(i,l),ss=Array.isArray,ho=i=>W1(i)==="[object Map]",KE=i=>typeof i=="string",Kc=i=>typeof i=="symbol",Wa=i=>i!==null&&typeof i=="object",ZE=Object.prototype.toString,W1=i=>ZE.call(i),j1=i=>W1(i).slice(8,-1),Zc=i=>KE(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,QE=i=>{const l=Object.create(null);return a=>l[a]||(l[a]=i(a))},qE=QE(i=>i.charAt(0).toUpperCase()+i.slice(1)),V1=(i,l)=>i!==l&&(i===i||l===l),_c=new WeakMap,lo=[],Yr,os=Symbol("iterate"),Ac=Symbol("Map key iterate");function JE(i){return i&&i._isEffect===!0}function $E(i,l=YE){JE(i)&&(i=i.raw);const a=n_(i,l);return l.lazy||a(),a}function e_(i){i.active&&(z1(i),i.options.onStop&&i.options.onStop(),i.active=!1)}var t_=0;function n_(i,l){const a=function(){if(!a.active)return i();if(!lo.includes(a)){z1(a);try{return i_(),lo.push(a),Yr=a,i()}finally{lo.pop(),G1(),Yr=lo[lo.length-1]}}};return a.id=t_++,a.allowRecurse=!!l.allowRecurse,a._isEffect=!0,a.active=!0,a.raw=i,a.deps=[],a.options=l,a}function z1(i){const{deps:l}=i;if(l.length){for(let a=0;a<l.length;a++)l[a].delete(i);l.length=0}}var Ts=!0,Qc=[];function r_(){Qc.push(Ts),Ts=!1}function i_(){Qc.push(Ts),Ts=!0}function G1(){const i=Qc.pop();Ts=i===void 0?!0:i}function Br(i,l,a){if(!Ts||Yr===void 0)return;let h=_c.get(i);h||_c.set(i,h=new Map);let x=h.get(a);x||h.set(a,x=new Set),x.has(Yr)||(x.add(Yr),Yr.deps.push(x),Yr.options.onTrack&&Yr.options.onTrack({effect:Yr,target:i,type:l,key:a}))}function Mi(i,l,a,h,x,p){const w=_c.get(i);if(!w)return;const E=new Set,O=I=>{I&&I.forEach(M=>{(M!==Yr||M.allowRecurse)&&E.add(M)})};if(l==="clear")w.forEach(O);else if(a==="length"&&ss(i))w.forEach((I,M)=>{(M==="length"||M>=h)&&O(I)});else switch(a!==void 0&&O(w.get(a)),l){case"add":ss(i)?Zc(a)&&O(w.get("length")):(O(w.get(os)),ho(i)&&O(w.get(Ac)));break;case"delete":ss(i)||(O(w.get(os)),ho(i)&&O(w.get(Ac)));break;case"set":ho(i)&&O(w.get(os));break}const A=I=>{I.options.onTrigger&&I.options.onTrigger({effect:I,target:i,key:a,type:l,newValue:h,oldValue:x,oldTarget:p}),I.options.scheduler?I.options.scheduler(I):I()};E.forEach(A)}var s_=GE("__proto__,__v_isRef,__isVue"),Y1=new Set(Object.getOwnPropertyNames(Symbol).map(i=>Symbol[i]).filter(Kc)),o_=X1(),a_=X1(!0),lh=l_();function l_(){const i={};return["includes","indexOf","lastIndexOf"].forEach(l=>{i[l]=function(...a){const h=Kt(this);for(let p=0,w=this.length;p<w;p++)Br(h,"get",p+"");const x=h[l](...a);return x===-1||x===!1?h[l](...a.map(Kt)):x}}),["push","pop","shift","unshift","splice"].forEach(l=>{i[l]=function(...a){r_();const h=Kt(this)[l].apply(this,a);return G1(),h}}),i}function X1(i=!1,l=!1){return function(h,x,p){if(x==="__v_isReactive")return!i;if(x==="__v_isReadonly")return i;if(x==="__v_raw"&&p===(i?l?I_:q1:l?y_:Q1).get(h))return h;const w=ss(h);if(!i&&w&&Ha(lh,x))return Reflect.get(lh,x,p);const E=Reflect.get(h,x,p);return(Kc(x)?Y1.has(x):s_(x))||(i||Br(h,"get",x),l)?E:Cc(E)?!w||!Zc(x)?E.value:E:Wa(E)?i?J1(E):eu(E):E}}var c_=u_();function u_(i=!1){return function(a,h,x,p){let w=a[h];if(!i&&(x=Kt(x),w=Kt(w),!ss(a)&&Cc(w)&&!Cc(x)))return w.value=x,!0;const E=ss(a)&&Zc(h)?Number(h)<a.length:Ha(a,h),O=Reflect.set(a,h,x,p);return a===Kt(p)&&(E?V1(x,w)&&Mi(a,"set",h,x,w):Mi(a,"add",h,x)),O}}function f_(i,l){const a=Ha(i,l),h=i[l],x=Reflect.deleteProperty(i,l);return x&&a&&Mi(i,"delete",l,void 0,h),x}function h_(i,l){const a=Reflect.has(i,l);return(!Kc(l)||!Y1.has(l))&&Br(i,"has",l),a}function d_(i){return Br(i,"iterate",ss(i)?"length":os),Reflect.ownKeys(i)}var g_={get:o_,set:c_,deleteProperty:f_,has:h_,ownKeys:d_},p_={get:a_,set(i,l){return console.warn(`Set operation on key "${String(l)}" failed: target is readonly.`,i),!0},deleteProperty(i,l){return console.warn(`Delete operation on key "${String(l)}" failed: target is readonly.`,i),!0}},qc=i=>Wa(i)?eu(i):i,Jc=i=>Wa(i)?J1(i):i,$c=i=>i,ja=i=>Reflect.getPrototypeOf(i);function pa(i,l,a=!1,h=!1){i=i.__v_raw;const x=Kt(i),p=Kt(l);l!==p&&!a&&Br(x,"get",l),!a&&Br(x,"get",p);const{has:w}=ja(x),E=h?$c:a?Jc:qc;if(w.call(x,l))return E(i.get(l));if(w.call(x,p))return E(i.get(p));i!==x&&i.get(l)}function xa(i,l=!1){const a=this.__v_raw,h=Kt(a),x=Kt(i);return i!==x&&!l&&Br(h,"has",i),!l&&Br(h,"has",x),i===x?a.has(i):a.has(i)||a.has(x)}function ma(i,l=!1){return i=i.__v_raw,!l&&Br(Kt(i),"iterate",os),Reflect.get(i,"size",i)}function ch(i){i=Kt(i);const l=Kt(this);return ja(l).has.call(l,i)||(l.add(i),Mi(l,"add",i,i)),this}function uh(i,l){l=Kt(l);const a=Kt(this),{has:h,get:x}=ja(a);let p=h.call(a,i);p?Z1(a,h,i):(i=Kt(i),p=h.call(a,i));const w=x.call(a,i);return a.set(i,l),p?V1(l,w)&&Mi(a,"set",i,l,w):Mi(a,"add",i,l),this}function fh(i){const l=Kt(this),{has:a,get:h}=ja(l);let x=a.call(l,i);x?Z1(l,a,i):(i=Kt(i),x=a.call(l,i));const p=h?h.call(l,i):void 0,w=l.delete(i);return x&&Mi(l,"delete",i,void 0,p),w}function hh(){const i=Kt(this),l=i.size!==0,a=ho(i)?new Map(i):new Set(i),h=i.clear();return l&&Mi(i,"clear",void 0,void 0,a),h}function wa(i,l){return function(h,x){const p=this,w=p.__v_raw,E=Kt(w),O=l?$c:i?Jc:qc;return!i&&Br(E,"iterate",os),w.forEach((A,I)=>h.call(x,O(A),O(I),p))}}function Ea(i,l,a){return function(...h){const x=this.__v_raw,p=Kt(x),w=ho(p),E=i==="entries"||i===Symbol.iterator&&w,O=i==="keys"&&w,A=x[i](...h),I=a?$c:l?Jc:qc;return!l&&Br(p,"iterate",O?Ac:os),{next(){const{value:M,done:j}=A.next();return j?{value:M,done:j}:{value:E?[I(M[0]),I(M[1])]:I(M),done:j}},[Symbol.iterator](){return this}}}}function vi(i){return function(...l){{const a=l[0]?`on key "${l[0]}" `:"";console.warn(`${qE(i)} operation ${a}failed: target is readonly.`,Kt(this))}return i==="delete"?!1:this}}function x_(){const i={get(p){return pa(this,p)},get size(){return ma(this)},has:xa,add:ch,set:uh,delete:fh,clear:hh,forEach:wa(!1,!1)},l={get(p){return pa(this,p,!1,!0)},get size(){return ma(this)},has:xa,add:ch,set:uh,delete:fh,clear:hh,forEach:wa(!1,!0)},a={get(p){return pa(this,p,!0)},get size(){return ma(this,!0)},has(p){return xa.call(this,p,!0)},add:vi("add"),set:vi("set"),delete:vi("delete"),clear:vi("clear"),forEach:wa(!0,!1)},h={get(p){return pa(this,p,!0,!0)},get size(){return ma(this,!0)},has(p){return xa.call(this,p,!0)},add:vi("add"),set:vi("set"),delete:vi("delete"),clear:vi("clear"),forEach:wa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{i[p]=Ea(p,!1,!1),a[p]=Ea(p,!0,!1),l[p]=Ea(p,!1,!0),h[p]=Ea(p,!0,!0)}),[i,a,l,h]}var[m_,w_,E_,__]=x_();function K1(i,l){const a=l?i?__:E_:i?w_:m_;return(h,x,p)=>x==="__v_isReactive"?!i:x==="__v_isReadonly"?i:x==="__v_raw"?h:Reflect.get(Ha(a,x)&&x in h?a:h,x,p)}var A_={get:K1(!1,!1)},C_={get:K1(!0,!1)};function Z1(i,l,a){const h=Kt(a);if(h!==a&&l.call(i,h)){const x=j1(i);console.warn(`Reactive ${x} contains both the raw and reactive versions of the same object${x==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Q1=new WeakMap,y_=new WeakMap,q1=new WeakMap,I_=new WeakMap;function b_(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function S_(i){return i.__v_skip||!Object.isExtensible(i)?0:b_(j1(i))}function eu(i){return i&&i.__v_isReadonly?i:$1(i,!1,g_,A_,Q1)}function J1(i){return $1(i,!0,p_,C_,q1)}function $1(i,l,a,h,x){if(!Wa(i))return console.warn(`value cannot be made reactive: ${String(i)}`),i;if(i.__v_raw&&!(l&&i.__v_isReactive))return i;const p=x.get(i);if(p)return p;const w=S_(i);if(w===0)return i;const E=new Proxy(i,w===2?h:a);return x.set(i,E),E}function Kt(i){return i&&Kt(i.__v_raw)||i}function Cc(i){return!!(i&&i.__v_isRef===!0)}Pr("nextTick",()=>Yc);Pr("dispatch",i=>uo.bind(uo,i));Pr("watch",(i,{evaluateLater:l,effect:a})=>(h,x)=>{let p=l(h),w=!0,E,O=a(()=>p(A=>{JSON.stringify(A),w?E=A:queueMicrotask(()=>{x(A,E),E=A}),w=!1}));i._x_effects.delete(O)});Pr("store",UE);Pr("data",i=>h1(i));Pr("root",i=>Pa(i));Pr("refs",i=>(i._x_refs_proxy||(i._x_refs_proxy=_o(v_(i))),i._x_refs_proxy));function v_(i){let l=[],a=i;for(;a;)a._x_refs&&l.push(a._x_refs),a=a.parentNode;return l}var $l={};function e0(i){return $l[i]||($l[i]=0),++$l[i]}function T_(i,l){return Fa(i,a=>{if(a._x_ids&&a._x_ids[l])return!0})}function O_(i,l){i._x_ids||(i._x_ids={}),i._x_ids[l]||(i._x_ids[l]=e0(l))}Pr("id",i=>(l,a=null)=>{let h=T_(i,l),x=h?h._x_ids[l]:e0(l);return a?`${l}-${x}-${a}`:`${l}-${x}`});Pr("el",i=>i);t0("Focus","focus","focus");t0("Persist","persist","persist");function t0(i,l,a){Pr(l,h=>hi(`You can't use [$${l}] without first installing the "${i}" plugin here: https://alpinejs.dev/plugins/${a}`,h))}xn("modelable",(i,{expression:l},{effect:a,evaluateLater:h,cleanup:x})=>{let p=h(l),w=()=>{let I;return p(M=>I=M),I},E=h(`${l} = __placeholder`),O=I=>E(()=>{},{scope:{__placeholder:I}}),A=w();O(A),queueMicrotask(()=>{if(!i._x_model)return;i._x_removeModelListeners.default();let I=i._x_model.get,M=i._x_model.set,j=F1({get(){return I()},set(H){M(H)}},{get(){return w()},set(H){O(H)}});x(j)})});xn("teleport",(i,{modifiers:l,expression:a},{cleanup:h})=>{i.tagName.toLowerCase()!=="template"&&hi("x-teleport can only be used on a <template> tag",i);let x=dh(a),p=i.content.cloneNode(!0).firstElementChild;i._x_teleport=p,p._x_teleportBack=i,i.setAttribute("data-teleport-template",!0),p.setAttribute("data-teleport-target",!0),i._x_forwardEvents&&i._x_forwardEvents.forEach(E=>{p.addEventListener(E,O=>{O.stopPropagation(),i.dispatchEvent(new O.constructor(O.type,O))})}),Eo(p,{},i);let w=(E,O,A)=>{A.includes("prepend")?O.parentNode.insertBefore(E,O):A.includes("append")?O.parentNode.insertBefore(E,O.nextSibling):O.appendChild(E)};An(()=>{w(p,x,l),di(p),p._x_ignore=!0}),i._x_teleportPutBack=()=>{let E=dh(a);An(()=>{w(i._x_teleport,E,l)})},h(()=>p.remove())});var N_=document.createElement("div");function dh(i){let l=Ua(()=>document.querySelector(i),()=>N_)();return l||hi(`Cannot find x-teleport element for selector: "${i}"`),l}var n0=()=>{};n0.inline=(i,{modifiers:l},{cleanup:a})=>{l.includes("self")?i._x_ignoreSelf=!0:i._x_ignore=!0,a(()=>{l.includes("self")?delete i._x_ignoreSelf:delete i._x_ignore})};xn("ignore",n0);xn("effect",(i,{expression:l},{effect:a})=>a(Yn(i,l)));function yc(i,l,a,h){let x=i,p=O=>h(O),w={},E=(O,A)=>I=>A(O,I);if(a.includes("dot")&&(l=M_(l)),a.includes("camel")&&(l=R_(l)),a.includes("passive")&&(w.passive=!0),a.includes("capture")&&(w.capture=!0),a.includes("window")&&(x=window),a.includes("document")&&(x=document),a.includes("debounce")){let O=a[a.indexOf("debounce")+1]||"invalid-wait",A=Ta(O.split("ms")[0])?Number(O.split("ms")[0]):250;p=B1(p,A)}if(a.includes("throttle")){let O=a[a.indexOf("throttle")+1]||"invalid-wait",A=Ta(O.split("ms")[0])?Number(O.split("ms")[0]):250;p=P1(p,A)}return a.includes("prevent")&&(p=E(p,(O,A)=>{A.preventDefault(),O(A)})),a.includes("stop")&&(p=E(p,(O,A)=>{A.stopPropagation(),O(A)})),a.includes("self")&&(p=E(p,(O,A)=>{A.target===i&&O(A)})),(a.includes("away")||a.includes("outside"))&&(x=document,p=E(p,(O,A)=>{i.contains(A.target)||A.target.isConnected!==!1&&(i.offsetWidth<1&&i.offsetHeight<1||i._x_isShown!==!1&&O(A))})),a.includes("once")&&(p=E(p,(O,A)=>{O(A),x.removeEventListener(l,p,w)})),p=E(p,(O,A)=>{L_(l)&&B_(A,a)||O(A)}),x.addEventListener(l,p,w),()=>{x.removeEventListener(l,p,w)}}function M_(i){return i.replace(/-/g,".")}function R_(i){return i.toLowerCase().replace(/-(\w)/g,(l,a)=>a.toUpperCase())}function Ta(i){return!Array.isArray(i)&&!isNaN(i)}function D_(i){return[" ","_"].includes(i)?i:i.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function L_(i){return["keydown","keyup"].includes(i)}function B_(i,l){let a=l.filter(p=>!["window","document","prevent","stop","once","capture"].includes(p));if(a.includes("debounce")){let p=a.indexOf("debounce");a.splice(p,Ta((a[p+1]||"invalid-wait").split("ms")[0])?2:1)}if(a.includes("throttle")){let p=a.indexOf("throttle");a.splice(p,Ta((a[p+1]||"invalid-wait").split("ms")[0])?2:1)}if(a.length===0||a.length===1&&gh(i.key).includes(a[0]))return!1;const x=["ctrl","shift","alt","meta","cmd","super"].filter(p=>a.includes(p));return a=a.filter(p=>!x.includes(p)),!(x.length>0&&x.filter(w=>((w==="cmd"||w==="super")&&(w="meta"),i[`${w}Key`])).length===x.length&&gh(i.key).includes(a[0]))}function gh(i){if(!i)return[];i=D_(i);let l={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return l[i]=i,Object.keys(l).map(a=>{if(l[a]===i)return a}).filter(a=>a)}xn("model",(i,{modifiers:l,expression:a},{effect:h,cleanup:x})=>{let p=i;l.includes("parent")&&(p=i.parentNode);let w=Yn(p,a),E;typeof a=="string"?E=Yn(p,`${a} = __placeholder`):typeof a=="function"&&typeof a()=="string"?E=Yn(p,`${a()} = __placeholder`):E=()=>{};let O=()=>{let j;return w(H=>j=H),ph(j)?j.get():j},A=j=>{let H;w(z=>H=z),ph(H)?H.set(j):E(()=>{},{scope:{__placeholder:j}})};typeof a=="string"&&i.type==="radio"&&An(()=>{i.hasAttribute("name")||i.setAttribute("name",a)});var I=i.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(i.type)||l.includes("lazy")?"change":"input";let M=Ni?()=>{}:yc(i,I,l,j=>{A(P_(i,l,j,O()))});if(l.includes("fill")&&([null,""].includes(O())||i.type==="checkbox"&&Array.isArray(O()))&&i.dispatchEvent(new Event(I,{})),i._x_removeModelListeners||(i._x_removeModelListeners={}),i._x_removeModelListeners.default=M,x(()=>i._x_removeModelListeners.default()),i.form){let j=yc(i.form,"reset",[],H=>{Yc(()=>i._x_model&&i._x_model.set(i.value))});x(()=>j())}i._x_model={get(){return O()},set(j){A(j)}},i._x_forceModelUpdate=j=>{j===void 0&&typeof a=="string"&&a.match(/\./)&&(j=""),window.fromModel=!0,An(()=>M1(i,"value",j)),delete window.fromModel},h(()=>{let j=O();l.includes("unintrusive")&&document.activeElement.isSameNode(i)||i._x_forceModelUpdate(j)})});function P_(i,l,a,h){return An(()=>{if(a instanceof CustomEvent&&a.detail!==void 0)return a.detail!==null&&a.detail!==void 0?a.detail:a.target.value;if(i.type==="checkbox")if(Array.isArray(h)){let x=l.includes("number")?ec(a.target.value):a.target.value;return a.target.checked?h.concat([x]):h.filter(p=>!F_(p,x))}else return a.target.checked;else{if(i.tagName.toLowerCase()==="select"&&i.multiple)return l.includes("number")?Array.from(a.target.selectedOptions).map(x=>{let p=x.value||x.text;return ec(p)}):Array.from(a.target.selectedOptions).map(x=>x.value||x.text);{let x=a.target.value;return l.includes("number")?ec(x):l.includes("trim")?x.trim():x}}})}function ec(i){let l=i?parseFloat(i):null;return k_(l)?l:i}function F_(i,l){return i==l}function k_(i){return!Array.isArray(i)&&!isNaN(i)}function ph(i){return i!==null&&typeof i=="object"&&typeof i.get=="function"&&typeof i.set=="function"}xn("cloak",i=>queueMicrotask(()=>An(()=>i.removeAttribute(Rs("cloak")))));r1(()=>`[${Rs("init")}]`);xn("init",Ua((i,{expression:l},{evaluate:a})=>typeof l=="string"?!!l.trim()&&a(l,{},!1):a(l,{},!1)));xn("text",(i,{expression:l},{effect:a,evaluateLater:h})=>{let x=h(l);a(()=>{x(p=>{An(()=>{i.textContent=p})})})});xn("html",(i,{expression:l},{effect:a,evaluateLater:h})=>{let x=h(l);a(()=>{x(p=>{An(()=>{i.innerHTML=p,i._x_ignoreSelf=!0,di(i),delete i._x_ignoreSelf})})})});zc(C1(":",y1(Rs("bind:"))));var r0=(i,{value:l,modifiers:a,expression:h,original:x},{effect:p})=>{if(!l){let E={};WE(E),Yn(i,h)(A=>{U1(i,A,x)},{scope:E});return}if(l==="key")return U_(i,h);if(i._x_inlineBindings&&i._x_inlineBindings[l]&&i._x_inlineBindings[l].extract)return;let w=Yn(i,h);p(()=>w(E=>{E===void 0&&typeof h=="string"&&h.match(/\./)&&(E=""),An(()=>M1(i,l,E,a))}))};r0.inline=(i,{value:l,modifiers:a,expression:h})=>{l&&(i._x_inlineBindings||(i._x_inlineBindings={}),i._x_inlineBindings[l]={expression:h,extract:!1})};xn("bind",r0);function U_(i,l){i._x_keyExpression=l}n1(()=>`[${Rs("data")}]`);xn("data",(i,{expression:l},{cleanup:a})=>{if(bE(i))return;l=l===""?"{}":l;let h={};fc(h,i);let x={};VE(x,h);let p=is(i,l,{scope:x});(p===void 0||p===!0)&&(p={}),fc(p,i);let w=Ns(p);d1(w);let E=Eo(i,w);w.init&&is(i,w.init),a(()=>{w.destroy&&is(i,w.destroy),E()})});xn("show",(i,{modifiers:l,expression:a},{effect:h})=>{let x=Yn(i,a);i._x_doHide||(i._x_doHide=()=>{An(()=>{i.style.setProperty("display","none",l.includes("important")?"important":void 0)})}),i._x_doShow||(i._x_doShow=()=>{An(()=>{i.style.length===1&&i.style.display==="none"?i.removeAttribute("style"):i.style.removeProperty("display")})});let p=()=>{i._x_doHide(),i._x_isShown=!1},w=()=>{i._x_doShow(),i._x_isShown=!0},E=()=>setTimeout(w),O=mc(M=>M?w():p(),M=>{typeof i._x_toggleAndCascadeWithTransitions=="function"?i._x_toggleAndCascadeWithTransitions(i,M,w,p):M?E():p()}),A,I=!0;h(()=>x(M=>{!I&&M===A||(l.includes("immediate")&&(M?E():p()),O(M),A=M,I=!1)}))});xn("for",(i,{expression:l},{effect:a,cleanup:h})=>{let x=W_(l),p=Yn(i,x.items),w=Yn(i,i._x_keyExpression||"index");i._x_prevKeys=[],i._x_lookup={},a(()=>H_(i,x,p,w)),h(()=>{Object.values(i._x_lookup).forEach(E=>E.remove()),delete i._x_prevKeys,delete i._x_lookup})});function H_(i,l,a,h){let x=w=>typeof w=="object"&&!Array.isArray(w),p=i;a(w=>{j_(w)&&w>=0&&(w=Array.from(Array(w).keys(),Z=>Z+1)),w===void 0&&(w=[]);let E=i._x_lookup,O=i._x_prevKeys,A=[],I=[];if(x(w))w=Object.entries(w).map(([Z,ie])=>{let q=xh(l,ie,Z,w);h(te=>I.push(te),{scope:{index:Z,...q}}),A.push(q)});else for(let Z=0;Z<w.length;Z++){let ie=xh(l,w[Z],Z,w);h(q=>I.push(q),{scope:{index:Z,...ie}}),A.push(ie)}let M=[],j=[],H=[],z=[];for(let Z=0;Z<O.length;Z++){let ie=O[Z];I.indexOf(ie)===-1&&H.push(ie)}O=O.filter(Z=>!H.includes(Z));let W="template";for(let Z=0;Z<I.length;Z++){let ie=I[Z],q=O.indexOf(ie);if(q===-1)O.splice(Z,0,ie),M.push([W,Z]);else if(q!==Z){let te=O.splice(Z,1)[0],Ae=O.splice(q-1,1)[0];O.splice(Z,0,Ae),O.splice(q,0,te),j.push([te,Ae])}else z.push(ie);W=ie}for(let Z=0;Z<H.length;Z++){let ie=H[Z];E[ie]._x_effects&&E[ie]._x_effects.forEach(qh),E[ie].remove(),E[ie]=null,delete E[ie]}for(let Z=0;Z<j.length;Z++){let[ie,q]=j[Z],te=E[ie],Ae=E[q],Xe=document.createElement("div");An(()=>{Ae||hi('x-for ":key" is undefined or invalid',p),Ae.after(Xe),te.after(Ae),Ae._x_currentIfEl&&Ae.after(Ae._x_currentIfEl),Xe.before(te),te._x_currentIfEl&&te.after(te._x_currentIfEl),Xe.remove()}),Ae._x_refreshXForScope(A[I.indexOf(q)])}for(let Z=0;Z<M.length;Z++){let[ie,q]=M[Z],te=ie==="template"?p:E[ie];te._x_currentIfEl&&(te=te._x_currentIfEl);let Ae=A[q],Xe=I[q],Fe=document.importNode(p.content,!0).firstElementChild,me=Ns(Ae);Eo(Fe,me,p),Fe._x_refreshXForScope=ne=>{Object.entries(ne).forEach(([J,Te])=>{me[J]=Te})},An(()=>{te.after(Fe),di(Fe)}),typeof Xe=="object"&&hi("x-for key cannot be an object, it must be a string or an integer",p),E[Xe]=Fe}for(let Z=0;Z<z.length;Z++)E[z[Z]]._x_refreshXForScope(A[I.indexOf(z[Z])]);p._x_prevKeys=I})}function W_(i){let l=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,a=/^\s*\(|\)\s*$/g,h=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,x=i.match(h);if(!x)return;let p={};p.items=x[2].trim();let w=x[1].replace(a,"").trim(),E=w.match(l);return E?(p.item=w.replace(l,"").trim(),p.index=E[1].trim(),E[2]&&(p.collection=E[2].trim())):p.item=w,p}function xh(i,l,a,h){let x={};return/^\[.*\]$/.test(i.item)&&Array.isArray(l)?i.item.replace("[","").replace("]","").split(",").map(w=>w.trim()).forEach((w,E)=>{x[w]=l[E]}):/^\{.*\}$/.test(i.item)&&!Array.isArray(l)&&typeof l=="object"?i.item.replace("{","").replace("}","").split(",").map(w=>w.trim()).forEach(w=>{x[w]=l[w]}):x[i.item]=l,i.index&&(x[i.index]=a),i.collection&&(x[i.collection]=h),x}function j_(i){return!Array.isArray(i)&&!isNaN(i)}function i0(){}i0.inline=(i,{expression:l},{cleanup:a})=>{let h=Pa(i);h._x_refs||(h._x_refs={}),h._x_refs[l]=i,a(()=>delete h._x_refs[l])};xn("ref",i0);xn("if",(i,{expression:l},{effect:a,cleanup:h})=>{i.tagName.toLowerCase()!=="template"&&hi("x-if can only be used on a <template> tag",i);let x=Yn(i,l),p=()=>{if(i._x_currentIfEl)return i._x_currentIfEl;let E=i.content.cloneNode(!0).firstElementChild;return Eo(E,{},i),An(()=>{i.after(E),di(E)}),i._x_currentIfEl=E,i._x_undoIf=()=>{Oi(E,O=>{O._x_effects&&O._x_effects.forEach(qh)}),E.remove(),delete i._x_currentIfEl},E},w=()=>{i._x_undoIf&&(i._x_undoIf(),delete i._x_undoIf)};a(()=>x(E=>{E?p():w()})),h(()=>i._x_undoIf&&i._x_undoIf())});xn("id",(i,{expression:l},{evaluate:a})=>{a(l).forEach(x=>O_(i,x))});zc(C1("@",y1(Rs("on:"))));xn("on",Ua((i,{value:l,modifiers:a,expression:h},{cleanup:x})=>{let p=h?Yn(i,h):()=>{};i.tagName.toLowerCase()==="template"&&(i._x_forwardEvents||(i._x_forwardEvents=[]),i._x_forwardEvents.includes(l)||i._x_forwardEvents.push(l));let w=yc(i,l,a,E=>{p(()=>{},{scope:{$event:E},params:[E]})});x(()=>w())}));Va("Collapse","collapse","collapse");Va("Intersect","intersect","intersect");Va("Focus","trap","focus");Va("Mask","mask","mask");function Va(i,l,a){xn(l,h=>hi(`You can't use [x-${l}] without first installing the "${i}" plugin here: https://alpinejs.dev/plugins/${a}`,h))}Ao.setEvaluator(w1);Ao.setReactivityEngine({reactive:eu,effect:$E,release:e_,raw:Kt});var V_=Ao,s0=V_,o0={exports:{}};/*! choices.js v10.2.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */(function(i,l){(function(h,x){i.exports=x()})(window,function(){return function(){var a={282:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0}),E.clearChoices=E.activateChoices=E.filterChoices=E.addChoice=void 0;var A=O(883),I=function(z){var W=z.value,Z=z.label,ie=z.id,q=z.groupId,te=z.disabled,Ae=z.elementId,Xe=z.customProperties,Fe=z.placeholder,me=z.keyCode;return{type:A.ACTION_TYPES.ADD_CHOICE,value:W,label:Z,id:ie,groupId:q,disabled:te,elementId:Ae,customProperties:Xe,placeholder:Fe,keyCode:me}};E.addChoice=I;var M=function(z){return{type:A.ACTION_TYPES.FILTER_CHOICES,results:z}};E.filterChoices=M;var j=function(z){return z===void 0&&(z=!0),{type:A.ACTION_TYPES.ACTIVATE_CHOICES,active:z}};E.activateChoices=j;var H=function(){return{type:A.ACTION_TYPES.CLEAR_CHOICES}};E.clearChoices=H},783:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0}),E.addGroup=void 0;var A=O(883),I=function(M){var j=M.value,H=M.id,z=M.active,W=M.disabled;return{type:A.ACTION_TYPES.ADD_GROUP,value:j,id:H,active:z,disabled:W}};E.addGroup=I},464:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0}),E.highlightItem=E.removeItem=E.addItem=void 0;var A=O(883),I=function(H){var z=H.value,W=H.label,Z=H.id,ie=H.choiceId,q=H.groupId,te=H.customProperties,Ae=H.placeholder,Xe=H.keyCode;return{type:A.ACTION_TYPES.ADD_ITEM,value:z,label:W,id:Z,choiceId:ie,groupId:q,customProperties:te,placeholder:Ae,keyCode:Xe}};E.addItem=I;var M=function(H,z){return{type:A.ACTION_TYPES.REMOVE_ITEM,id:H,choiceId:z}};E.removeItem=M;var j=function(H,z){return{type:A.ACTION_TYPES.HIGHLIGHT_ITEM,id:H,highlighted:z}};E.highlightItem=j},137:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0}),E.setIsLoading=E.resetTo=E.clearAll=void 0;var A=O(883),I=function(){return{type:A.ACTION_TYPES.CLEAR_ALL}};E.clearAll=I;var M=function(H){return{type:A.ACTION_TYPES.RESET_TO,state:H}};E.resetTo=M;var j=function(H){return{type:A.ACTION_TYPES.SET_IS_LOADING,isLoading:H}};E.setIsLoading=j},373:function(w,E,O){var A=this&&this.__spreadArray||function(ae,T,D){if(D||arguments.length===2)for(var V=0,B=T.length,ee;V<B;V++)(ee||!(V in T))&&(ee||(ee=Array.prototype.slice.call(T,0,V)),ee[V]=T[V]);return ae.concat(ee||Array.prototype.slice.call(T))},I=this&&this.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(E,"__esModule",{value:!0});var M=I(O(996)),j=I(O(221)),H=O(282),z=O(783),W=O(464),Z=O(137),ie=O(520),q=O(883),te=O(789),Ae=O(799),Xe=O(655),Fe=I(O(744)),me=I(O(686)),ne="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,J={},Te=function(){function ae(T,D){T===void 0&&(T="[data-choice]"),D===void 0&&(D={});var V=this;D.allowHTML===void 0&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=M.default.all([te.DEFAULT_CONFIG,ae.defaults.options,D],{arrayMerge:function(Le,He){return A([],He,!0)}});var B=(0,Ae.diff)(this.config,te.DEFAULT_CONFIG);B.length&&console.warn("Unknown config option(s) passed",B.join(", "));var ee=typeof T=="string"?document.querySelector(T):T;if(!(ee instanceof HTMLInputElement||ee instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=ee.type===q.TEXT_TYPE,this._isSelectOneElement=ee.type===q.SELECT_ONE_TYPE,this._isSelectMultipleElement=ee.type===q.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),D.addItemFilter&&typeof D.addItemFilter!="function"){var ce=D.addItemFilter instanceof RegExp?D.addItemFilter:new RegExp(D.addItemFilter);this.config.addItemFilter=ce.test.bind(ce)}if(this._isTextElement?this.passedElement=new ie.WrappedInput({element:ee,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new ie.WrappedSelect({element:ee,classNames:this.config.classNames,template:function(Le){return V._templates.option(Le)}}),this.initialised=!1,this._store=new Fe.default,this._initialState=Xe.defaultState,this._currentState=Xe.defaultState,this._prevState=Xe.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,Ae.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var Ce=window.getComputedStyle(this.passedElement.element).direction,ve=window.getComputedStyle(document.documentElement).direction;Ce!==ve&&(this._direction=Ce)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var he=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(he)}if(this.passedElement.options&&this.passedElement.options.forEach(function(Le){V._presetChoices.push({value:Le.value,label:Le.innerHTML,selected:!!Le.selected,disabled:Le.disabled||Le.parentNode.disabled,placeholder:Le.value===""||Le.hasAttribute("placeholder"),customProperties:(0,Ae.parseCustomProperties)(Le.dataset.customProperties)})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:T}),this.initialised=!0;return}this.init()}return Object.defineProperty(ae,"defaults",{get:function(){return Object.preventExtensions({get options(){return J},get templates(){return me.default}})},enumerable:!1,configurable:!0}),ae.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var T=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");T&&this.disable(),this.initialised=!0;var D=this.config.callbackOnInit;D&&typeof D=="function"&&D.call(this)}},ae.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=me.default,this.initialised=!1)},ae.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},ae.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},ae.prototype.highlightItem=function(T,D){if(D===void 0&&(D=!0),!T||!T.id)return this;var V=T.id,B=T.groupId,ee=B===void 0?-1:B,ce=T.value,Ce=ce===void 0?"":ce,ve=T.label,he=ve===void 0?"":ve,Le=ee>=0?this._store.getGroupById(ee):null;return this._store.dispatch((0,W.highlightItem)(V,!0)),D&&this.passedElement.triggerEvent(q.EVENTS.highlightItem,{id:V,value:Ce,label:he,groupValue:Le&&Le.value?Le.value:null}),this},ae.prototype.unhighlightItem=function(T){if(!T||!T.id)return this;var D=T.id,V=T.groupId,B=V===void 0?-1:V,ee=T.value,ce=ee===void 0?"":ee,Ce=T.label,ve=Ce===void 0?"":Ce,he=B>=0?this._store.getGroupById(B):null;return this._store.dispatch((0,W.highlightItem)(D,!1)),this.passedElement.triggerEvent(q.EVENTS.highlightItem,{id:D,value:ce,label:ve,groupValue:he&&he.value?he.value:null}),this},ae.prototype.highlightAll=function(){var T=this;return this._store.items.forEach(function(D){return T.highlightItem(D)}),this},ae.prototype.unhighlightAll=function(){var T=this;return this._store.items.forEach(function(D){return T.unhighlightItem(D)}),this},ae.prototype.removeActiveItemsByValue=function(T){var D=this;return this._store.activeItems.filter(function(V){return V.value===T}).forEach(function(V){return D._removeItem(V)}),this},ae.prototype.removeActiveItems=function(T){var D=this;return this._store.activeItems.filter(function(V){var B=V.id;return B!==T}).forEach(function(V){return D._removeItem(V)}),this},ae.prototype.removeHighlightedItems=function(T){var D=this;return T===void 0&&(T=!1),this._store.highlightedActiveItems.forEach(function(V){D._removeItem(V),T&&D._triggerChange(V.value)}),this},ae.prototype.showDropdown=function(T){var D=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){D.dropdown.show(),D.containerOuter.open(D.dropdown.distanceFromTopWindow),!T&&D._canSearch&&D.input.focus(),D.passedElement.triggerEvent(q.EVENTS.showDropdown,{})}),this)},ae.prototype.hideDropdown=function(T){var D=this;return this.dropdown.isActive?(requestAnimationFrame(function(){D.dropdown.hide(),D.containerOuter.close(),!T&&D._canSearch&&(D.input.removeActiveDescendant(),D.input.blur()),D.passedElement.triggerEvent(q.EVENTS.hideDropdown,{})}),this):this},ae.prototype.getValue=function(T){T===void 0&&(T=!1);var D=this._store.activeItems.reduce(function(V,B){var ee=T?B.value:B;return V.push(ee),V},[]);return this._isSelectOneElement?D[0]:D},ae.prototype.setValue=function(T){var D=this;return this.initialised?(T.forEach(function(V){return D._setChoiceOrItem(V)}),this):this},ae.prototype.setChoiceByValue=function(T){var D=this;if(!this.initialised||this._isTextElement)return this;var V=Array.isArray(T)?T:[T];return V.forEach(function(B){return D._findAndSelectChoiceByValue(B)}),this},ae.prototype.setChoices=function(T,D,V,B){var ee=this;if(T===void 0&&(T=[]),D===void 0&&(D="value"),V===void 0&&(V="label"),B===void 0&&(B=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof D!="string"||!D)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(B&&this.clearChoices(),typeof T=="function"){var ce=T(this);if(typeof Promise=="function"&&ce instanceof Promise)return new Promise(function(Ce){return requestAnimationFrame(Ce)}).then(function(){return ee._handleLoadingState(!0)}).then(function(){return ce}).then(function(Ce){return ee.setChoices(Ce,D,V,B)}).catch(function(Ce){ee.config.silent||console.error(Ce)}).then(function(){return ee._handleLoadingState(!1)}).then(function(){return ee});if(!Array.isArray(ce))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof ce));return this.setChoices(ce,D,V,!1)}if(!Array.isArray(T))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),T.forEach(function(Ce){if(Ce.choices)ee._addGroup({id:Ce.id?parseInt("".concat(Ce.id),10):null,group:Ce,valueKey:D,labelKey:V});else{var ve=Ce;ee._addChoice({value:ve[D],label:ve[V],isSelected:!!ve.selected,isDisabled:!!ve.disabled,placeholder:!!ve.placeholder,customProperties:ve.customProperties})}}),this._stopLoading(),this},ae.prototype.clearChoices=function(){return this._store.dispatch((0,H.clearChoices)()),this},ae.prototype.clearStore=function(){return this._store.dispatch((0,Z.clearAll)()),this},ae.prototype.clearInput=function(){var T=!this._isSelectOneElement;return this.input.clear(T),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,H.activateChoices)(!0))),this},ae.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var T=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,D=this._isSelectElement,V=this._currentState.items!==this._prevState.items;T&&(D&&this._renderChoices(),V&&this._renderItems(),this._prevState=this._currentState)}},ae.prototype._renderChoices=function(){var T=this,D=this._store,V=D.activeGroups,B=D.activeChoices,ee=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return T.choiceList.scrollToTop()}),V.length>=1&&!this._isSearching){var ce=B.filter(function(He){return He.placeholder===!0&&He.groupId===-1});ce.length>=1&&(ee=this._createChoicesFragment(ce,ee)),ee=this._createGroupsFragment(V,B,ee)}else B.length>=1&&(ee=this._createChoicesFragment(B,ee));if(ee.childNodes&&ee.childNodes.length>0){var Ce=this._store.activeItems,ve=this._canAddItem(Ce,this.input.value);if(ve.response)this.choiceList.append(ee),this._highlightChoice();else{var he=this._getTemplate("notice",ve.notice);this.choiceList.append(he)}}else{var Le=void 0,he=void 0;this._isSearching?(he=typeof this.config.noResultsText=="function"?this.config.noResultsText():this.config.noResultsText,Le=this._getTemplate("notice",he,"no-results")):(he=typeof this.config.noChoicesText=="function"?this.config.noChoicesText():this.config.noChoicesText,Le=this._getTemplate("notice",he,"no-choices")),this.choiceList.append(Le)}},ae.prototype._renderItems=function(){var T=this._store.activeItems||[];this.itemList.clear();var D=this._createItemsFragment(T);D.childNodes&&this.itemList.append(D)},ae.prototype._createGroupsFragment=function(T,D,V){var B=this;V===void 0&&(V=document.createDocumentFragment());var ee=function(ce){return D.filter(function(Ce){return B._isSelectOneElement?Ce.groupId===ce.id:Ce.groupId===ce.id&&(B.config.renderSelectedChoices==="always"||!Ce.selected)})};return this.config.shouldSort&&T.sort(this.config.sorter),T.forEach(function(ce){var Ce=ee(ce);if(Ce.length>=1){var ve=B._getTemplate("choiceGroup",ce);V.appendChild(ve),B._createChoicesFragment(Ce,V,!0)}}),V},ae.prototype._createChoicesFragment=function(T,D,V){var B=this;D===void 0&&(D=document.createDocumentFragment()),V===void 0&&(V=!1);var ee=this.config,ce=ee.renderSelectedChoices,Ce=ee.searchResultLimit,ve=ee.renderChoiceLimit,he=this._isSearching?Ae.sortByScore:this.config.sorter,Le=function(Ct){var St=ce==="auto"?B._isSelectOneElement||!Ct.selected:!0;if(St){var yt=B._getTemplate("choice",Ct,B.config.itemSelectText);D.appendChild(yt)}},He=T;ce==="auto"&&!this._isSelectOneElement&&(He=T.filter(function(Ct){return!Ct.selected}));var lt=He.reduce(function(Ct,St){return St.placeholder?Ct.placeholderChoices.push(St):Ct.normalChoices.push(St),Ct},{placeholderChoices:[],normalChoices:[]}),Ye=lt.placeholderChoices,xt=lt.normalChoices;(this.config.shouldSort||this._isSearching)&&xt.sort(he);var Oe=He.length,ut=this._isSelectOneElement?A(A([],Ye,!0),xt,!0):xt;this._isSearching?Oe=Ce:ve&&ve>0&&!V&&(Oe=ve);for(var Ve=0;Ve<Oe;Ve+=1)ut[Ve]&&Le(ut[Ve]);return D},ae.prototype._createItemsFragment=function(T,D){var V=this;D===void 0&&(D=document.createDocumentFragment());var B=this.config,ee=B.shouldSortItems,ce=B.sorter,Ce=B.removeItemButton;ee&&!this._isSelectOneElement&&T.sort(ce),this._isTextElement?this.passedElement.value=T.map(function(he){var Le=he.value;return Le}).join(this.config.delimiter):this.passedElement.options=T;var ve=function(he){var Le=V._getTemplate("item",he,Ce);D.appendChild(Le)};return T.forEach(ve),D},ae.prototype._triggerChange=function(T){T!=null&&this.passedElement.triggerEvent(q.EVENTS.change,{value:T})},ae.prototype._selectPlaceholderChoice=function(T){this._addItem({value:T.value,label:T.label,choiceId:T.id,groupId:T.groupId,placeholder:T.placeholder}),this._triggerChange(T.value)},ae.prototype._handleButtonAction=function(T,D){if(!(!T||!D||!this.config.removeItems||!this.config.removeItemButton)){var V=D.parentNode&&D.parentNode.dataset.id,B=V&&T.find(function(ee){return ee.id===parseInt(V,10)});B&&(this._removeItem(B),this._triggerChange(B.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},ae.prototype._handleItemAction=function(T,D,V){var B=this;if(V===void 0&&(V=!1),!(!T||!D||!this.config.removeItems||this._isSelectOneElement)){var ee=D.dataset.id;T.forEach(function(ce){ce.id===parseInt("".concat(ee),10)&&!ce.highlighted?B.highlightItem(ce):!V&&ce.highlighted&&B.unhighlightItem(ce)}),this.input.focus()}},ae.prototype._handleChoiceAction=function(T,D){if(!(!T||!D)){var V=D.dataset.id,B=V&&this._store.getChoiceById(V);if(B){var ee=T[0]&&T[0].keyCode?T[0].keyCode:void 0,ce=this.dropdown.isActive;if(B.keyCode=ee,this.passedElement.triggerEvent(q.EVENTS.choice,{choice:B}),!B.selected&&!B.disabled){var Ce=this._canAddItem(T,B.value);Ce.response&&(this._addItem({value:B.value,label:B.label,choiceId:B.id,groupId:B.groupId,customProperties:B.customProperties,placeholder:B.placeholder,keyCode:B.keyCode}),this._triggerChange(B.value))}this.clearInput(),ce&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},ae.prototype._handleBackspace=function(T){if(!(!this.config.removeItems||!T)){var D=T[T.length-1],V=T.some(function(B){return B.highlighted});this.config.editItems&&!V&&D?(this.input.value=D.value,this.input.setWidth(),this._removeItem(D),this._triggerChange(D.value)):(V||this.highlightItem(D,!1),this.removeHighlightedItems(!0))}},ae.prototype._startLoading=function(){this._store.dispatch((0,Z.setIsLoading)(!0))},ae.prototype._stopLoading=function(){this._store.dispatch((0,Z.setIsLoading)(!1))},ae.prototype._handleLoadingState=function(T){T===void 0&&(T=!0);var D=this.itemList.getChild(".".concat(this.config.classNames.placeholder));T?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?D?D.innerHTML=this.config.loadingText:(D=this._getTemplate("placeholder",this.config.loadingText),D&&this.itemList.append(D)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?D&&(D.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},ae.prototype._handleSearch=function(T){if(this.input.isFocussed){var D=this._store.choices,V=this.config,B=V.searchFloor,ee=V.searchChoices,ce=D.some(function(ve){return!ve.active});if(T!==null&&typeof T<"u"&&T.length>=B){var Ce=ee?this._searchChoices(T):0;this.passedElement.triggerEvent(q.EVENTS.search,{value:T,resultCount:Ce})}else ce&&(this._isSearching=!1,this._store.dispatch((0,H.activateChoices)(!0)))}},ae.prototype._canAddItem=function(T,D){var V=!0,B=typeof this.config.addItemText=="function"?this.config.addItemText(D):this.config.addItemText;if(!this._isSelectOneElement){var ee=(0,Ae.existsInArray)(T,D);this.config.maxItemCount>0&&this.config.maxItemCount<=T.length&&(V=!1,B=typeof this.config.maxItemText=="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&ee&&V&&(V=!1,B=typeof this.config.uniqueItemText=="function"?this.config.uniqueItemText(D):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&V&&typeof this.config.addItemFilter=="function"&&!this.config.addItemFilter(D)&&(V=!1,B=typeof this.config.customAddItemText=="function"?this.config.customAddItemText(D):this.config.customAddItemText)}return{response:V,notice:B}},ae.prototype._searchChoices=function(T){var D=typeof T=="string"?T.trim():T,V=typeof this._currentValue=="string"?this._currentValue.trim():this._currentValue;if(D.length<1&&D==="".concat(V," "))return 0;var B=this._store.searchableChoices,ee=D,ce=Object.assign(this.config.fuseOptions,{keys:A([],this.config.searchFields,!0),includeMatches:!0}),Ce=new j.default(B,ce),ve=Ce.search(ee);return this._currentValue=D,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,H.filterChoices)(ve)),ve.length},ae.prototype._addEventListeners=function(){var T=document.documentElement;T.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),T.addEventListener("click",this._onClick,{passive:!0}),T.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},ae.prototype._removeEventListeners=function(){var T=document.documentElement;T.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),T.removeEventListener("click",this._onClick),T.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},ae.prototype._onKeyDown=function(T){var D=T.keyCode,V=this._store.activeItems,B=this.input.isFocussed,ee=this.dropdown.isActive,ce=this.itemList.hasChildren(),Ce=String.fromCharCode(D),ve=/[^\x00-\x1F]/.test(Ce),he=q.KEY_CODES.BACK_KEY,Le=q.KEY_CODES.DELETE_KEY,He=q.KEY_CODES.ENTER_KEY,lt=q.KEY_CODES.A_KEY,Ye=q.KEY_CODES.ESC_KEY,xt=q.KEY_CODES.UP_KEY,Oe=q.KEY_CODES.DOWN_KEY,ut=q.KEY_CODES.PAGE_UP_KEY,Ve=q.KEY_CODES.PAGE_DOWN_KEY;switch(!this._isTextElement&&!ee&&ve&&(this.showDropdown(),this.input.isFocussed||(this.input.value+=T.key.toLowerCase())),D){case lt:return this._onSelectKey(T,ce);case He:return this._onEnterKey(T,V,ee);case Ye:return this._onEscapeKey(ee);case xt:case ut:case Oe:case Ve:return this._onDirectionKey(T,ee);case Le:case he:return this._onDeleteKey(T,V,B)}},ae.prototype._onKeyUp=function(T){var D=T.target,V=T.keyCode,B=this.input.value,ee=this._store.activeItems,ce=this._canAddItem(ee,B),Ce=q.KEY_CODES.BACK_KEY,ve=q.KEY_CODES.DELETE_KEY;if(this._isTextElement){var he=ce.notice&&B;if(he){var Le=this._getTemplate("notice",ce.notice);this.dropdown.element.innerHTML=Le.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var He=V===Ce||V===ve,lt=He&&D&&!D.value,Ye=!this._isTextElement&&this._isSearching,xt=this._canSearch&&ce.response;lt&&Ye?(this._isSearching=!1,this._store.dispatch((0,H.activateChoices)(!0))):xt&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},ae.prototype._onSelectKey=function(T,D){var V=T.ctrlKey,B=T.metaKey,ee=V||B;if(ee&&D){this._canSearch=!1;var ce=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;ce&&this.highlightAll()}},ae.prototype._onEnterKey=function(T,D,V){var B=T.target,ee=q.KEY_CODES.ENTER_KEY,ce=B&&B.hasAttribute("data-button");if(this._isTextElement&&B&&B.value){var Ce=this.input.value,ve=this._canAddItem(D,Ce);ve.response&&(this.hideDropdown(!0),this._addItem({value:Ce}),this._triggerChange(Ce),this.clearInput())}if(ce&&(this._handleButtonAction(D,B),T.preventDefault()),V){var he=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));he&&(D[0]&&(D[0].keyCode=ee),this._handleChoiceAction(D,he)),T.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),T.preventDefault())},ae.prototype._onEscapeKey=function(T){T&&(this.hideDropdown(!0),this.containerOuter.focus())},ae.prototype._onDirectionKey=function(T,D){var V=T.keyCode,B=T.metaKey,ee=q.KEY_CODES.DOWN_KEY,ce=q.KEY_CODES.PAGE_UP_KEY,Ce=q.KEY_CODES.PAGE_DOWN_KEY;if(D||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var ve=V===ee||V===Ce?1:-1,he=B||V===Ce||V===ce,Le="[data-choice-selectable]",He=void 0;if(he)ve>0?He=this.dropdown.element.querySelector("".concat(Le,":last-of-type")):He=this.dropdown.element.querySelector(Le);else{var lt=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));lt?He=(0,Ae.getAdjacentEl)(lt,Le,ve):He=this.dropdown.element.querySelector(Le)}He&&((0,Ae.isScrolledIntoView)(He,this.choiceList.element,ve)||this.choiceList.scrollToChildElement(He,ve),this._highlightChoice(He)),T.preventDefault()}},ae.prototype._onDeleteKey=function(T,D,V){var B=T.target;!this._isSelectOneElement&&!B.value&&V&&(this._handleBackspace(D),T.preventDefault())},ae.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},ae.prototype._onTouchEnd=function(T){var D=(T||T.touches[0]).target,V=this._wasTap&&this.containerOuter.element.contains(D);if(V){var B=D===this.containerOuter.element||D===this.containerInner.element;B&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),T.stopPropagation()}this._wasTap=!0},ae.prototype._onMouseDown=function(T){var D=T.target;if(D instanceof HTMLElement){if(ne&&this.choiceList.element.contains(D)){var V=this.choiceList.element.firstElementChild,B=this._direction==="ltr"?T.offsetX>=V.offsetWidth:T.offsetX<V.offsetLeft;this._isScrollingOnIe=B}if(D!==this.input.element){var ee=D.closest("[data-button],[data-item],[data-choice]");if(ee instanceof HTMLElement){var ce=T.shiftKey,Ce=this._store.activeItems,ve=ee.dataset;"button"in ve?this._handleButtonAction(Ce,ee):"item"in ve?this._handleItemAction(Ce,ee,ce):"choice"in ve&&this._handleChoiceAction(Ce,ee)}T.preventDefault()}}},ae.prototype._onMouseOver=function(T){var D=T.target;D instanceof HTMLElement&&"choice"in D.dataset&&this._highlightChoice(D)},ae.prototype._onClick=function(T){var D=T.target,V=this.containerOuter.element.contains(D);if(V)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):this._isSelectOneElement&&D!==this.input.element&&!this.dropdown.element.contains(D)&&this.hideDropdown();else{var B=this._store.highlightedActiveItems.length>0;B&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},ae.prototype._onFocus=function(T){var D,V=this,B=T.target,ee=B&&this.containerOuter.element.contains(B);if(ee){var ce=(D={},D[q.TEXT_TYPE]=function(){B===V.input.element&&V.containerOuter.addFocusState()},D[q.SELECT_ONE_TYPE]=function(){V.containerOuter.addFocusState(),B===V.input.element&&V.showDropdown(!0)},D[q.SELECT_MULTIPLE_TYPE]=function(){B===V.input.element&&(V.showDropdown(!0),V.containerOuter.addFocusState())},D);ce[this.passedElement.element.type]()}},ae.prototype._onBlur=function(T){var D,V=this,B=T.target,ee=B&&this.containerOuter.element.contains(B);if(ee&&!this._isScrollingOnIe){var ce=this._store.activeItems,Ce=ce.some(function(he){return he.highlighted}),ve=(D={},D[q.TEXT_TYPE]=function(){B===V.input.element&&(V.containerOuter.removeFocusState(),Ce&&V.unhighlightAll(),V.hideDropdown(!0))},D[q.SELECT_ONE_TYPE]=function(){V.containerOuter.removeFocusState(),(B===V.input.element||B===V.containerOuter.element&&!V._canSearch)&&V.hideDropdown(!0)},D[q.SELECT_MULTIPLE_TYPE]=function(){B===V.input.element&&(V.containerOuter.removeFocusState(),V.hideDropdown(!0),Ce&&V.unhighlightAll())},D);ve[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},ae.prototype._onFormReset=function(){this._store.dispatch((0,Z.resetTo)(this._initialState))},ae.prototype._highlightChoice=function(T){var D=this;T===void 0&&(T=null);var V=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(V.length){var B=T,ee=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));ee.forEach(function(ce){ce.classList.remove(D.config.classNames.highlightedState),ce.setAttribute("aria-selected","false")}),B?this._highlightPosition=V.indexOf(B):(V.length>this._highlightPosition?B=V[this._highlightPosition]:B=V[V.length-1],B||(B=V[0])),B.classList.add(this.config.classNames.highlightedState),B.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(q.EVENTS.highlightChoice,{el:B}),this.dropdown.isActive&&(this.input.setActiveDescendant(B.id),this.containerOuter.setActiveDescendant(B.id))}},ae.prototype._addItem=function(T){var D=T.value,V=T.label,B=V===void 0?null:V,ee=T.choiceId,ce=ee===void 0?-1:ee,Ce=T.groupId,ve=Ce===void 0?-1:Ce,he=T.customProperties,Le=he===void 0?{}:he,He=T.placeholder,lt=He===void 0?!1:He,Ye=T.keyCode,xt=Ye===void 0?-1:Ye,Oe=typeof D=="string"?D.trim():D,ut=this._store.items,Ve=B||Oe,Ct=ce||-1,St=ve>=0?this._store.getGroupById(ve):null,yt=ut?ut.length+1:1;this.config.prependValue&&(Oe=this.config.prependValue+Oe.toString()),this.config.appendValue&&(Oe+=this.config.appendValue.toString()),this._store.dispatch((0,W.addItem)({value:Oe,label:Ve,id:yt,choiceId:Ct,groupId:ve,customProperties:Le,placeholder:lt,keyCode:xt})),this._isSelectOneElement&&this.removeActiveItems(yt),this.passedElement.triggerEvent(q.EVENTS.addItem,{id:yt,value:Oe,label:Ve,customProperties:Le,groupValue:St&&St.value?St.value:null,keyCode:xt})},ae.prototype._removeItem=function(T){var D=T.id,V=T.value,B=T.label,ee=T.customProperties,ce=T.choiceId,Ce=T.groupId,ve=Ce&&Ce>=0?this._store.getGroupById(Ce):null;!D||!ce||(this._store.dispatch((0,W.removeItem)(D,ce)),this.passedElement.triggerEvent(q.EVENTS.removeItem,{id:D,value:V,label:B,customProperties:ee,groupValue:ve&&ve.value?ve.value:null}))},ae.prototype._addChoice=function(T){var D=T.value,V=T.label,B=V===void 0?null:V,ee=T.isSelected,ce=ee===void 0?!1:ee,Ce=T.isDisabled,ve=Ce===void 0?!1:Ce,he=T.groupId,Le=he===void 0?-1:he,He=T.customProperties,lt=He===void 0?{}:He,Ye=T.placeholder,xt=Ye===void 0?!1:Ye,Oe=T.keyCode,ut=Oe===void 0?-1:Oe;if(!(typeof D>"u"||D===null)){var Ve=this._store.choices,Ct=B||D,St=Ve?Ve.length+1:1,yt="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(St);this._store.dispatch((0,H.addChoice)({id:St,groupId:Le,elementId:yt,value:D,label:Ct,disabled:ve,customProperties:lt,placeholder:xt,keyCode:ut})),ce&&this._addItem({value:D,label:Ct,choiceId:St,customProperties:lt,placeholder:xt,keyCode:ut})}},ae.prototype._addGroup=function(T){var D=this,V=T.group,B=T.id,ee=T.valueKey,ce=ee===void 0?"value":ee,Ce=T.labelKey,ve=Ce===void 0?"label":Ce,he=(0,Ae.isType)("Object",V)?V.choices:Array.from(V.getElementsByTagName("OPTION")),Le=B||Math.floor(new Date().valueOf()*Math.random()),He=V.disabled?V.disabled:!1;if(he){this._store.dispatch((0,z.addGroup)({value:V.label,id:Le,active:!0,disabled:He}));var lt=function(Ye){var xt=Ye.disabled||Ye.parentNode&&Ye.parentNode.disabled;D._addChoice({value:Ye[ce],label:(0,Ae.isType)("Object",Ye)?Ye[ve]:Ye.innerHTML,isSelected:Ye.selected,isDisabled:xt,groupId:Le,customProperties:Ye.customProperties,placeholder:Ye.placeholder})};he.forEach(lt)}else this._store.dispatch((0,z.addGroup)({value:V.label,id:V.id,active:!1,disabled:V.disabled}))},ae.prototype._getTemplate=function(T){for(var D,V=[],B=1;B<arguments.length;B++)V[B-1]=arguments[B];return(D=this._templates[T]).call.apply(D,A([this,this.config],V,!1))},ae.prototype._createTemplates=function(){var T=this.config.callbackOnCreateTemplates,D={};T&&typeof T=="function"&&(D=T.call(this,Ae.strToEl)),this._templates=(0,M.default)(me.default,D)},ae.prototype._createElements=function(){this.containerOuter=new ie.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new ie.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new ie.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new ie.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new ie.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new ie.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},ae.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},ae.prototype._addPredefinedGroups=function(T){var D=this,V=this.passedElement.placeholderOption;V&&V.parentNode&&V.parentNode.tagName==="SELECT"&&this._addChoice({value:V.value,label:V.innerHTML,isSelected:V.selected,isDisabled:V.disabled,placeholder:!0}),T.forEach(function(B){return D._addGroup({group:B,id:B.id||null})})},ae.prototype._addPredefinedChoices=function(T){var D=this;this.config.shouldSort&&T.sort(this.config.sorter);var V=T.some(function(ee){return ee.selected}),B=T.findIndex(function(ee){return ee.disabled===void 0||!ee.disabled});T.forEach(function(ee,ce){var Ce=ee.value,ve=Ce===void 0?"":Ce,he=ee.label,Le=ee.customProperties,He=ee.placeholder;if(D._isSelectElement)if(ee.choices)D._addGroup({group:ee,id:ee.id||null});else{var lt=D._isSelectOneElement&&!V&&ce===B,Ye=lt?!0:ee.selected,xt=ee.disabled;D._addChoice({value:ve,label:he,isSelected:!!Ye,isDisabled:!!xt,placeholder:!!He,customProperties:Le})}else D._addChoice({value:ve,label:he,isSelected:!!ee.selected,isDisabled:!!ee.disabled,placeholder:!!ee.placeholder,customProperties:Le})})},ae.prototype._addPredefinedItems=function(T){var D=this;T.forEach(function(V){typeof V=="object"&&V.value&&D._addItem({value:V.value,label:V.label,choiceId:V.id,customProperties:V.customProperties,placeholder:V.placeholder}),typeof V=="string"&&D._addItem({value:V})})},ae.prototype._setChoiceOrItem=function(T){var D=this,V=(0,Ae.getType)(T).toLowerCase(),B={object:function(){T.value&&(D._isTextElement?D._addItem({value:T.value,label:T.label,choiceId:T.id,customProperties:T.customProperties,placeholder:T.placeholder}):D._addChoice({value:T.value,label:T.label,isSelected:!0,isDisabled:!1,customProperties:T.customProperties,placeholder:T.placeholder}))},string:function(){D._isTextElement?D._addItem({value:T}):D._addChoice({value:T,label:T,isSelected:!0,isDisabled:!1})}};B[V]()},ae.prototype._findAndSelectChoiceByValue=function(T){var D=this,V=this._store.choices,B=V.find(function(ee){return D.config.valueComparer(ee.value,T)});B&&!B.selected&&this._addItem({value:B.value,label:B.label,choiceId:B.id,groupId:B.groupId,customProperties:B.customProperties,placeholder:B.placeholder,keyCode:B.keyCode})},ae.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var T=this.passedElement.placeholderOption;return T?T.text:null}var D=this.config,V=D.placeholder,B=D.placeholderValue,ee=this.passedElement.element.dataset;if(V){if(B)return B;if(ee.placeholder)return ee.placeholder}return null},ae}();E.default=Te},613:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0});var A=O(799),I=O(883),M=function(){function j(H){var z=H.element,W=H.type,Z=H.classNames,ie=H.position;this.element=z,this.classNames=Z,this.type=W,this.position=ie,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return j.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},j.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},j.prototype.shouldFlip=function(H){if(typeof H!="number")return!1;var z=!1;return this.position==="auto"?z=!window.matchMedia("(min-height: ".concat(H+1,"px)")).matches:this.position==="top"&&(z=!0),z},j.prototype.setActiveDescendant=function(H){this.element.setAttribute("aria-activedescendant",H)},j.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},j.prototype.open=function(H){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(H)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},j.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},j.prototype.focus=function(){this.isFocussed||this.element.focus()},j.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},j.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},j.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===I.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},j.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===I.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},j.prototype.wrap=function(H){(0,A.wrap)(H,this.element)},j.prototype.unwrap=function(H){this.element.parentNode&&(this.element.parentNode.insertBefore(H,this.element),this.element.parentNode.removeChild(this.element))},j.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},j.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},j.prototype._onFocus=function(){this.isFocussed=!0},j.prototype._onBlur=function(){this.isFocussed=!1},j}();E.default=M},217:function(w,E){Object.defineProperty(E,"__esModule",{value:!0});var O=function(){function A(I){var M=I.element,j=I.type,H=I.classNames;this.element=M,this.classNames=H,this.type=j,this.isActive=!1}return Object.defineProperty(A.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),A.prototype.getChild=function(I){return this.element.querySelector(I)},A.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},A.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},A}();E.default=O},520:function(w,E,O){var A=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(E,"__esModule",{value:!0}),E.WrappedSelect=E.WrappedInput=E.List=E.Input=E.Container=E.Dropdown=void 0;var I=A(O(217));E.Dropdown=I.default;var M=A(O(613));E.Container=M.default;var j=A(O(11));E.Input=j.default;var H=A(O(624));E.List=H.default;var z=A(O(541));E.WrappedInput=z.default;var W=A(O(982));E.WrappedSelect=W.default},11:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0});var A=O(799),I=O(883),M=function(){function j(H){var z=H.element,W=H.type,Z=H.classNames,ie=H.preventPaste;this.element=z,this.type=W,this.classNames=Z,this.preventPaste=ie,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=z.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(j.prototype,"placeholder",{set:function(H){this.element.placeholder=H},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"value",{get:function(){return(0,A.sanitise)(this.element.value)},set:function(H){this.element.value=H},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),j.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},j.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},j.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},j.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},j.prototype.focus=function(){this.isFocussed||this.element.focus()},j.prototype.blur=function(){this.isFocussed&&this.element.blur()},j.prototype.clear=function(H){return H===void 0&&(H=!0),this.element.value&&(this.element.value=""),H&&this.setWidth(),this},j.prototype.setWidth=function(){var H=this.element,z=H.style,W=H.value,Z=H.placeholder;z.minWidth="".concat(Z.length+1,"ch"),z.width="".concat(W.length+1,"ch")},j.prototype.setActiveDescendant=function(H){this.element.setAttribute("aria-activedescendant",H)},j.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},j.prototype._onInput=function(){this.type!==I.SELECT_ONE_TYPE&&this.setWidth()},j.prototype._onPaste=function(H){this.preventPaste&&H.preventDefault()},j.prototype._onFocus=function(){this.isFocussed=!0},j.prototype._onBlur=function(){this.isFocussed=!1},j}();E.default=M},624:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0});var A=O(883),I=function(){function M(j){var H=j.element;this.element=H,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return M.prototype.clear=function(){this.element.innerHTML=""},M.prototype.append=function(j){this.element.appendChild(j)},M.prototype.getChild=function(j){return this.element.querySelector(j)},M.prototype.hasChildren=function(){return this.element.hasChildNodes()},M.prototype.scrollToTop=function(){this.element.scrollTop=0},M.prototype.scrollToChildElement=function(j,H){var z=this;if(j){var W=this.element.offsetHeight,Z=this.element.scrollTop+W,ie=j.offsetHeight,q=j.offsetTop+ie,te=H>0?this.element.scrollTop+q-Z:j.offsetTop;requestAnimationFrame(function(){z._animateScroll(te,H)})}},M.prototype._scrollDown=function(j,H,z){var W=(z-j)/H,Z=W>1?W:1;this.element.scrollTop=j+Z},M.prototype._scrollUp=function(j,H,z){var W=(j-z)/H,Z=W>1?W:1;this.element.scrollTop=j-Z},M.prototype._animateScroll=function(j,H){var z=this,W=A.SCROLLING_SPEED,Z=this.element.scrollTop,ie=!1;H>0?(this._scrollDown(Z,W,j),Z<j&&(ie=!0)):(this._scrollUp(Z,W,j),Z>j&&(ie=!0)),ie&&requestAnimationFrame(function(){z._animateScroll(j,H)})},M}();E.default=I},730:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0});var A=O(799),I=function(){function M(j){var H=j.element,z=j.classNames;if(this.element=H,this.classNames=z,!(H instanceof HTMLInputElement)&&!(H instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(M.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"value",{get:function(){return this.element.value},set:function(j){this.element.value=j},enumerable:!1,configurable:!0}),M.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var j=this.element.getAttribute("style");j&&this.element.setAttribute("data-choice-orig-style",j),this.element.setAttribute("data-choice","active")},M.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var j=this.element.getAttribute("data-choice-orig-style");j?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",j)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},M.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},M.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},M.prototype.triggerEvent=function(j,H){(0,A.dispatchEvent)(this.element,j,H)},M}();E.default=I},541:function(w,E,O){var A=this&&this.__extends||function(){var H=function(z,W){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,ie){Z.__proto__=ie}||function(Z,ie){for(var q in ie)Object.prototype.hasOwnProperty.call(ie,q)&&(Z[q]=ie[q])},H(z,W)};return function(z,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");H(z,W);function Z(){this.constructor=z}z.prototype=W===null?Object.create(W):(Z.prototype=W.prototype,new Z)}}(),I=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(E,"__esModule",{value:!0});var M=I(O(730)),j=function(H){A(z,H);function z(W){var Z=W.element,ie=W.classNames,q=W.delimiter,te=H.call(this,{element:Z,classNames:ie})||this;return te.delimiter=q,te}return Object.defineProperty(z.prototype,"value",{get:function(){return this.element.value},set:function(W){this.element.setAttribute("value",W),this.element.value=W},enumerable:!1,configurable:!0}),z}(M.default);E.default=j},982:function(w,E,O){var A=this&&this.__extends||function(){var H=function(z,W){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,ie){Z.__proto__=ie}||function(Z,ie){for(var q in ie)Object.prototype.hasOwnProperty.call(ie,q)&&(Z[q]=ie[q])},H(z,W)};return function(z,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");H(z,W);function Z(){this.constructor=z}z.prototype=W===null?Object.create(W):(Z.prototype=W.prototype,new Z)}}(),I=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(E,"__esModule",{value:!0});var M=I(O(730)),j=function(H){A(z,H);function z(W){var Z=W.element,ie=W.classNames,q=W.template,te=H.call(this,{element:Z,classNames:ie})||this;return te.template=q,te}return Object.defineProperty(z.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(W){var Z=this,ie=document.createDocumentFragment(),q=function(te){var Ae=Z.template(te);ie.appendChild(Ae)};W.forEach(function(te){return q(te)}),this.appendDocFragment(ie)},enumerable:!1,configurable:!0}),z.prototype.appendDocFragment=function(W){this.element.innerHTML="",this.element.appendChild(W)},z}(M.default);E.default=j},883:function(w,E){Object.defineProperty(E,"__esModule",{value:!0}),E.SCROLLING_SPEED=E.SELECT_MULTIPLE_TYPE=E.SELECT_ONE_TYPE=E.TEXT_TYPE=E.KEY_CODES=E.ACTION_TYPES=E.EVENTS=void 0,E.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},E.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},E.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},E.TEXT_TYPE="text",E.SELECT_ONE_TYPE="select-one",E.SELECT_MULTIPLE_TYPE="select-multiple",E.SCROLLING_SPEED=4},789:function(w,E,O){Object.defineProperty(E,"__esModule",{value:!0}),E.DEFAULT_CONFIG=E.DEFAULT_CLASSNAMES=void 0;var A=O(799);E.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},E.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:A.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(I){return'Press Enter to add <b>"'.concat((0,A.sanitise)(I),'"</b>')},maxItemText:function(I){return"Only ".concat(I," values can be added")},valueComparer:function(I,M){return I===M},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:E.DEFAULT_CLASSNAMES}},18:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},978:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},948:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},359:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},285:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},533:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},187:function(w,E,O){var A=this&&this.__createBinding||(Object.create?function(M,j,H,z){z===void 0&&(z=H);var W=Object.getOwnPropertyDescriptor(j,H);(!W||("get"in W?!j.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return j[H]}}),Object.defineProperty(M,z,W)}:function(M,j,H,z){z===void 0&&(z=H),M[z]=j[H]}),I=this&&this.__exportStar||function(M,j){for(var H in M)H!=="default"&&!Object.prototype.hasOwnProperty.call(j,H)&&A(j,M,H)};Object.defineProperty(E,"__esModule",{value:!0}),I(O(18),E),I(O(978),E),I(O(948),E),I(O(359),E),I(O(285),E),I(O(533),E),I(O(287),E),I(O(132),E),I(O(837),E),I(O(598),E),I(O(369),E),I(O(37),E),I(O(47),E),I(O(923),E),I(O(876),E)},287:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},132:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},837:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},598:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},37:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},369:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},47:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},923:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},876:function(w,E){Object.defineProperty(E,"__esModule",{value:!0})},799:function(w,E){Object.defineProperty(E,"__esModule",{value:!0}),E.parseCustomProperties=E.diff=E.cloneObject=E.existsInArray=E.dispatchEvent=E.sortByScore=E.sortByAlpha=E.strToEl=E.sanitise=E.isScrolledIntoView=E.getAdjacentEl=E.wrap=E.isType=E.getType=E.generateId=E.generateChars=E.getRandomNumber=void 0;var O=function(ne,J){return Math.floor(Math.random()*(J-ne)+ne)};E.getRandomNumber=O;var A=function(ne){return Array.from({length:ne},function(){return(0,E.getRandomNumber)(0,36).toString(36)}).join("")};E.generateChars=A;var I=function(ne,J){var Te=ne.id||ne.name&&"".concat(ne.name,"-").concat((0,E.generateChars)(2))||(0,E.generateChars)(4);return Te=Te.replace(/(:|\.|\[|\]|,)/g,""),Te="".concat(J,"-").concat(Te),Te};E.generateId=I;var M=function(ne){return Object.prototype.toString.call(ne).slice(8,-1)};E.getType=M;var j=function(ne,J){return J!=null&&(0,E.getType)(J)===ne};E.isType=j;var H=function(ne,J){return J===void 0&&(J=document.createElement("div")),ne.parentNode&&(ne.nextSibling?ne.parentNode.insertBefore(J,ne.nextSibling):ne.parentNode.appendChild(J)),J.appendChild(ne)};E.wrap=H;var z=function(ne,J,Te){Te===void 0&&(Te=1);for(var ae="".concat(Te>0?"next":"previous","ElementSibling"),T=ne[ae];T;){if(T.matches(J))return T;T=T[ae]}return T};E.getAdjacentEl=z;var W=function(ne,J,Te){if(Te===void 0&&(Te=1),!ne)return!1;var ae;return Te>0?ae=J.scrollTop+J.offsetHeight>=ne.offsetTop+ne.offsetHeight:ae=ne.offsetTop>=J.scrollTop,ae};E.isScrolledIntoView=W;var Z=function(ne){return typeof ne!="string"?ne:ne.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};E.sanitise=Z,E.strToEl=function(){var ne=document.createElement("div");return function(J){var Te=J.trim();ne.innerHTML=Te;for(var ae=ne.children[0];ne.firstChild;)ne.removeChild(ne.firstChild);return ae}}();var ie=function(ne,J){var Te=ne.value,ae=ne.label,T=ae===void 0?Te:ae,D=J.value,V=J.label,B=V===void 0?D:V;return T.localeCompare(B,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};E.sortByAlpha=ie;var q=function(ne,J){var Te=ne.score,ae=Te===void 0?0:Te,T=J.score,D=T===void 0?0:T;return ae-D};E.sortByScore=q;var te=function(ne,J,Te){Te===void 0&&(Te=null);var ae=new CustomEvent(J,{detail:Te,bubbles:!0,cancelable:!0});return ne.dispatchEvent(ae)};E.dispatchEvent=te;var Ae=function(ne,J,Te){return Te===void 0&&(Te="value"),ne.some(function(ae){return typeof J=="string"?ae[Te]===J.trim():ae[Te]===J})};E.existsInArray=Ae;var Xe=function(ne){return JSON.parse(JSON.stringify(ne))};E.cloneObject=Xe;var Fe=function(ne,J){var Te=Object.keys(ne).sort(),ae=Object.keys(J).sort();return Te.filter(function(T){return ae.indexOf(T)<0})};E.diff=Fe;var me=function(ne){if(typeof ne<"u")try{return JSON.parse(ne)}catch{return ne}return{}};E.parseCustomProperties=me},273:function(w,E){var O=this&&this.__spreadArray||function(I,M,j){if(j||arguments.length===2)for(var H=0,z=M.length,W;H<z;H++)(W||!(H in M))&&(W||(W=Array.prototype.slice.call(M,0,H)),W[H]=M[H]);return I.concat(W||Array.prototype.slice.call(M))};Object.defineProperty(E,"__esModule",{value:!0}),E.defaultState=void 0,E.defaultState=[];function A(I,M){switch(I===void 0&&(I=E.defaultState),M===void 0&&(M={}),M.type){case"ADD_CHOICE":{var j=M,H={id:j.id,elementId:j.elementId,groupId:j.groupId,value:j.value,label:j.label||j.value,disabled:j.disabled||!1,selected:!1,active:!0,score:9999,customProperties:j.customProperties,placeholder:j.placeholder||!1};return O(O([],I,!0),[H],!1)}case"ADD_ITEM":{var z=M;return z.choiceId>-1?I.map(function(q){var te=q;return te.id===parseInt("".concat(z.choiceId),10)&&(te.selected=!0),te}):I}case"REMOVE_ITEM":{var W=M;return W.choiceId&&W.choiceId>-1?I.map(function(q){var te=q;return te.id===parseInt("".concat(W.choiceId),10)&&(te.selected=!1),te}):I}case"FILTER_CHOICES":{var Z=M;return I.map(function(q){var te=q;return te.active=Z.results.some(function(Ae){var Xe=Ae.item,Fe=Ae.score;return Xe.id===te.id?(te.score=Fe,!0):!1}),te})}case"ACTIVATE_CHOICES":{var ie=M;return I.map(function(q){var te=q;return te.active=ie.active,te})}case"CLEAR_CHOICES":return E.defaultState;default:return I}}E.default=A},871:function(w,E){var O=this&&this.__spreadArray||function(I,M,j){if(j||arguments.length===2)for(var H=0,z=M.length,W;H<z;H++)(W||!(H in M))&&(W||(W=Array.prototype.slice.call(M,0,H)),W[H]=M[H]);return I.concat(W||Array.prototype.slice.call(M))};Object.defineProperty(E,"__esModule",{value:!0}),E.defaultState=void 0,E.defaultState=[];function A(I,M){switch(I===void 0&&(I=E.defaultState),M===void 0&&(M={}),M.type){case"ADD_GROUP":{var j=M;return O(O([],I,!0),[{id:j.id,value:j.value,active:j.active,disabled:j.disabled}],!1)}case"CLEAR_CHOICES":return[];default:return I}}E.default=A},655:function(w,E,O){var A=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(E,"__esModule",{value:!0}),E.defaultState=void 0;var I=O(791),M=A(O(52)),j=A(O(871)),H=A(O(273)),z=A(O(502)),W=O(799);E.defaultState={groups:[],items:[],choices:[],loading:!1};var Z=(0,I.combineReducers)({items:M.default,groups:j.default,choices:H.default,loading:z.default}),ie=function(q,te){var Ae=q;if(te.type==="CLEAR_ALL")Ae=E.defaultState;else if(te.type==="RESET_TO")return(0,W.cloneObject)(te.state);return Z(Ae,te)};E.default=ie},52:function(w,E){var O=this&&this.__spreadArray||function(I,M,j){if(j||arguments.length===2)for(var H=0,z=M.length,W;H<z;H++)(W||!(H in M))&&(W||(W=Array.prototype.slice.call(M,0,H)),W[H]=M[H]);return I.concat(W||Array.prototype.slice.call(M))};Object.defineProperty(E,"__esModule",{value:!0}),E.defaultState=void 0,E.defaultState=[];function A(I,M){switch(I===void 0&&(I=E.defaultState),M===void 0&&(M={}),M.type){case"ADD_ITEM":{var j=M,H=O(O([],I,!0),[{id:j.id,choiceId:j.choiceId,groupId:j.groupId,value:j.value,label:j.label,active:!0,highlighted:!1,customProperties:j.customProperties,placeholder:j.placeholder||!1,keyCode:null}],!1);return H.map(function(W){var Z=W;return Z.highlighted=!1,Z})}case"REMOVE_ITEM":return I.map(function(W){var Z=W;return Z.id===M.id&&(Z.active=!1),Z});case"HIGHLIGHT_ITEM":{var z=M;return I.map(function(W){var Z=W;return Z.id===z.id&&(Z.highlighted=z.highlighted),Z})}default:return I}}E.default=A},502:function(w,E){Object.defineProperty(E,"__esModule",{value:!0}),E.defaultState=void 0,E.defaultState=!1;var O=function(A,I){switch(A===void 0&&(A=E.defaultState),I===void 0&&(I={}),I.type){case"SET_IS_LOADING":return I.isLoading;default:return A}};E.default=O},744:function(w,E,O){var A=this&&this.__spreadArray||function(z,W,Z){if(Z||arguments.length===2)for(var ie=0,q=W.length,te;ie<q;ie++)(te||!(ie in W))&&(te||(te=Array.prototype.slice.call(W,0,ie)),te[ie]=W[ie]);return z.concat(te||Array.prototype.slice.call(W))},I=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(E,"__esModule",{value:!0});var M=O(791),j=I(O(655)),H=function(){function z(){this._store=(0,M.createStore)(j.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return z.prototype.subscribe=function(W){this._store.subscribe(W)},z.prototype.dispatch=function(W){this._store.dispatch(W)},Object.defineProperty(z.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"activeItems",{get:function(){return this.items.filter(function(W){return W.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(W){return W.active&&W.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"activeChoices",{get:function(){return this.choices.filter(function(W){return W.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"selectableChoices",{get:function(){return this.choices.filter(function(W){return W.disabled!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter(function(W){return W.placeholder!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"placeholderChoice",{get:function(){return A([],this.choices,!0).reverse().find(function(W){return W.placeholder===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"activeGroups",{get:function(){var W=this,Z=W.groups,ie=W.choices;return Z.filter(function(q){var te=q.active===!0&&q.disabled===!1,Ae=ie.some(function(Xe){return Xe.active===!0&&Xe.disabled===!1});return te&&Ae},[])},enumerable:!1,configurable:!0}),z.prototype.isLoading=function(){return this.state.loading},z.prototype.getChoiceById=function(W){return this.activeChoices.find(function(Z){return Z.id===parseInt(W,10)})},z.prototype.getGroupById=function(W){return this.groups.find(function(Z){return Z.id===W})},z}();E.default=H},686:function(w,E){Object.defineProperty(E,"__esModule",{value:!0});var O={containerOuter:function(A,I,M,j,H,z,W){var Z=A.classNames.containerOuter,ie=Object.assign(document.createElement("div"),{className:Z});return ie.dataset.type=z,I&&(ie.dir=I),j&&(ie.tabIndex=0),M&&(ie.setAttribute("role",H?"combobox":"listbox"),H&&ie.setAttribute("aria-autocomplete","list")),ie.setAttribute("aria-haspopup","true"),ie.setAttribute("aria-expanded","false"),W&&ie.setAttribute("aria-labelledby",W),ie},containerInner:function(A){var I=A.classNames.containerInner;return Object.assign(document.createElement("div"),{className:I})},itemList:function(A,I){var M=A.classNames,j=M.list,H=M.listSingle,z=M.listItems;return Object.assign(document.createElement("div"),{className:"".concat(j," ").concat(I?H:z)})},placeholder:function(A,I){var M,j=A.allowHTML,H=A.classNames.placeholder;return Object.assign(document.createElement("div"),(M={className:H},M[j?"innerHTML":"innerText"]=I,M))},item:function(A,I,M){var j,H,z=A.allowHTML,W=A.classNames,Z=W.item,ie=W.button,q=W.highlightedState,te=W.itemSelectable,Ae=W.placeholder,Xe=I.id,Fe=I.value,me=I.label,ne=I.customProperties,J=I.active,Te=I.disabled,ae=I.highlighted,T=I.placeholder,D=Object.assign(document.createElement("div"),(j={className:Z},j[z?"innerHTML":"innerText"]=me,j));if(Object.assign(D.dataset,{item:"",id:Xe,value:Fe,customProperties:ne}),J&&D.setAttribute("aria-selected","true"),Te&&D.setAttribute("aria-disabled","true"),T&&D.classList.add(Ae),D.classList.add(ae?q:te),M){Te&&D.classList.remove(te),D.dataset.deletable="";var V="Remove item",B=Object.assign(document.createElement("button"),(H={type:"button",className:ie},H[z?"innerHTML":"innerText"]=V,H));B.setAttribute("aria-label","".concat(V,": '").concat(Fe,"'")),B.dataset.button="",D.appendChild(B)}return D},choiceList:function(A,I){var M=A.classNames.list,j=Object.assign(document.createElement("div"),{className:M});return I||j.setAttribute("aria-multiselectable","true"),j.setAttribute("role","listbox"),j},choiceGroup:function(A,I){var M,j=A.allowHTML,H=A.classNames,z=H.group,W=H.groupHeading,Z=H.itemDisabled,ie=I.id,q=I.value,te=I.disabled,Ae=Object.assign(document.createElement("div"),{className:"".concat(z," ").concat(te?Z:"")});return Ae.setAttribute("role","group"),Object.assign(Ae.dataset,{group:"",id:ie,value:q}),te&&Ae.setAttribute("aria-disabled","true"),Ae.appendChild(Object.assign(document.createElement("div"),(M={className:W},M[j?"innerHTML":"innerText"]=q,M))),Ae},choice:function(A,I,M){var j,H=A.allowHTML,z=A.classNames,W=z.item,Z=z.itemChoice,ie=z.itemSelectable,q=z.selectedState,te=z.itemDisabled,Ae=z.placeholder,Xe=I.id,Fe=I.value,me=I.label,ne=I.groupId,J=I.elementId,Te=I.disabled,ae=I.selected,T=I.placeholder,D=Object.assign(document.createElement("div"),(j={id:J},j[H?"innerHTML":"innerText"]=me,j.className="".concat(W," ").concat(Z),j));return ae&&D.classList.add(q),T&&D.classList.add(Ae),D.setAttribute("role",ne&&ne>0?"treeitem":"option"),Object.assign(D.dataset,{choice:"",id:Xe,value:Fe,selectText:M}),Te?(D.classList.add(te),D.dataset.choiceDisabled="",D.setAttribute("aria-disabled","true")):(D.classList.add(ie),D.dataset.choiceSelectable=""),D},input:function(A,I){var M=A.classNames,j=M.input,H=M.inputCloned,z=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(j," ").concat(H),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return z.setAttribute("role","textbox"),z.setAttribute("aria-autocomplete","list"),z.setAttribute("aria-label",I),z},dropdown:function(A){var I=A.classNames,M=I.list,j=I.listDropdown,H=document.createElement("div");return H.classList.add(M,j),H.setAttribute("aria-expanded","false"),H},notice:function(A,I,M){var j,H=A.allowHTML,z=A.classNames,W=z.item,Z=z.itemChoice,ie=z.noResults,q=z.noChoices;M===void 0&&(M="");var te=[W,Z];return M==="no-choices"?te.push(q):M==="no-results"&&te.push(ie),Object.assign(document.createElement("div"),(j={},j[H?"innerHTML":"innerText"]=I,j.className=te.join(" "),j))},option:function(A){var I=A.label,M=A.value,j=A.customProperties,H=A.active,z=A.disabled,W=new Option(I,M,!1,H);return j&&(W.dataset.customProperties="".concat(j)),W.disabled=!!z,W}};E.default=O},996:function(w){var E=function(J){return O(J)&&!A(J)};function O(ne){return!!ne&&typeof ne=="object"}function A(ne){var J=Object.prototype.toString.call(ne);return J==="[object RegExp]"||J==="[object Date]"||j(ne)}var I=typeof Symbol=="function"&&Symbol.for,M=I?Symbol.for("react.element"):60103;function j(ne){return ne.$$typeof===M}function H(ne){return Array.isArray(ne)?[]:{}}function z(ne,J){return J.clone!==!1&&J.isMergeableObject(ne)?Fe(H(ne),ne,J):ne}function W(ne,J,Te){return ne.concat(J).map(function(ae){return z(ae,Te)})}function Z(ne,J){if(!J.customMerge)return Fe;var Te=J.customMerge(ne);return typeof Te=="function"?Te:Fe}function ie(ne){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(ne).filter(function(J){return ne.propertyIsEnumerable(J)}):[]}function q(ne){return Object.keys(ne).concat(ie(ne))}function te(ne,J){try{return J in ne}catch{return!1}}function Ae(ne,J){return te(ne,J)&&!(Object.hasOwnProperty.call(ne,J)&&Object.propertyIsEnumerable.call(ne,J))}function Xe(ne,J,Te){var ae={};return Te.isMergeableObject(ne)&&q(ne).forEach(function(T){ae[T]=z(ne[T],Te)}),q(J).forEach(function(T){Ae(ne,T)||(te(ne,T)&&Te.isMergeableObject(J[T])?ae[T]=Z(T,Te)(ne[T],J[T],Te):ae[T]=z(J[T],Te))}),ae}function Fe(ne,J,Te){Te=Te||{},Te.arrayMerge=Te.arrayMerge||W,Te.isMergeableObject=Te.isMergeableObject||E,Te.cloneUnlessOtherwiseSpecified=z;var ae=Array.isArray(J),T=Array.isArray(ne),D=ae===T;return D?ae?Te.arrayMerge(ne,J,Te):Xe(ne,J,Te):z(J,Te)}Fe.all=function(J,Te){if(!Array.isArray(J))throw new Error("first argument should be an array");return J.reduce(function(ae,T){return Fe(ae,T,Te)},{})};var me=Fe;w.exports=me},221:function(w,E,O){O.r(E),O.d(E,{default:function(){return vr}});function A(se){return Array.isArray?Array.isArray(se):Ae(se)==="[object Array]"}const I=1/0;function M(se){if(typeof se=="string")return se;let K=se+"";return K=="0"&&1/se==-I?"-0":K}function j(se){return se==null?"":M(se)}function H(se){return typeof se=="string"}function z(se){return typeof se=="number"}function W(se){return se===!0||se===!1||ie(se)&&Ae(se)=="[object Boolean]"}function Z(se){return typeof se=="object"}function ie(se){return Z(se)&&se!==null}function q(se){return se!=null}function te(se){return!se.trim().length}function Ae(se){return se==null?se===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(se)}const Xe="Incorrect 'index' type",Fe=se=>`Invalid value for key ${se}`,me=se=>`Pattern length exceeds max of ${se}.`,ne=se=>`Missing ${se} property in key`,J=se=>`Property 'weight' in key '${se}' must be a positive integer`,Te=Object.prototype.hasOwnProperty;class ae{constructor(K){this._keys=[],this._keyMap={};let oe=0;K.forEach(ue=>{let Ee=T(ue);oe+=Ee.weight,this._keys.push(Ee),this._keyMap[Ee.id]=Ee,oe+=Ee.weight}),this._keys.forEach(ue=>{ue.weight/=oe})}get(K){return this._keyMap[K]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function T(se){let K=null,oe=null,ue=null,Ee=1,ye=null;if(H(se)||A(se))ue=se,K=D(se),oe=V(se);else{if(!Te.call(se,"name"))throw new Error(ne("name"));const be=se.name;if(ue=be,Te.call(se,"weight")&&(Ee=se.weight,Ee<=0))throw new Error(J(be));K=D(be),oe=V(be),ye=se.getFn}return{path:K,id:oe,weight:Ee,src:ue,getFn:ye}}function D(se){return A(se)?se:se.split(".")}function V(se){return A(se)?se.join("."):se}function B(se,K){let oe=[],ue=!1;const Ee=(ye,be,Re)=>{if(q(ye))if(!be[Re])oe.push(ye);else{let De=be[Re];const Ue=ye[De];if(!q(Ue))return;if(Re===be.length-1&&(H(Ue)||z(Ue)||W(Ue)))oe.push(j(Ue));else if(A(Ue)){ue=!0;for(let Be=0,Je=Ue.length;Be<Je;Be+=1)Ee(Ue[Be],be,Re+1)}else be.length&&Ee(Ue,be,Re+1)}};return Ee(se,H(K)?K.split("."):K,0),ue?oe:oe[0]}var he={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(se,K)=>se.score===K.score?se.idx<K.idx?-1:1:se.score<K.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:B,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const Le=/[^ ]+/g;function He(se=1,K=3){const oe=new Map,ue=Math.pow(10,K);return{get(Ee){const ye=Ee.match(Le).length;if(oe.has(ye))return oe.get(ye);const be=1/Math.pow(ye,.5*se),Re=parseFloat(Math.round(be*ue)/ue);return oe.set(ye,Re),Re},clear(){oe.clear()}}}class lt{constructor({getFn:K=he.getFn,fieldNormWeight:oe=he.fieldNormWeight}={}){this.norm=He(oe,3),this.getFn=K,this.isCreated=!1,this.setIndexRecords()}setSources(K=[]){this.docs=K}setIndexRecords(K=[]){this.records=K}setKeys(K=[]){this.keys=K,this._keysMap={},K.forEach((oe,ue)=>{this._keysMap[oe.id]=ue})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,H(this.docs[0])?this.docs.forEach((K,oe)=>{this._addString(K,oe)}):this.docs.forEach((K,oe)=>{this._addObject(K,oe)}),this.norm.clear())}add(K){const oe=this.size();H(K)?this._addString(K,oe):this._addObject(K,oe)}removeAt(K){this.records.splice(K,1);for(let oe=K,ue=this.size();oe<ue;oe+=1)this.records[oe].i-=1}getValueForItemAtKeyId(K,oe){return K[this._keysMap[oe]]}size(){return this.records.length}_addString(K,oe){if(!q(K)||te(K))return;let ue={v:K,i:oe,n:this.norm.get(K)};this.records.push(ue)}_addObject(K,oe){let ue={i:oe,$:{}};this.keys.forEach((Ee,ye)=>{let be=Ee.getFn?Ee.getFn(K):this.getFn(K,Ee.path);if(q(be)){if(A(be)){let Re=[];const De=[{nestedArrIndex:-1,value:be}];for(;De.length;){const{nestedArrIndex:Ue,value:Be}=De.pop();if(q(Be))if(H(Be)&&!te(Be)){let Je={v:Be,i:Ue,n:this.norm.get(Be)};Re.push(Je)}else A(Be)&&Be.forEach((Je,$e)=>{De.push({nestedArrIndex:$e,value:Je})})}ue.$[ye]=Re}else if(H(be)&&!te(be)){let Re={v:be,n:this.norm.get(be)};ue.$[ye]=Re}}}),this.records.push(ue)}toJSON(){return{keys:this.keys,records:this.records}}}function Ye(se,K,{getFn:oe=he.getFn,fieldNormWeight:ue=he.fieldNormWeight}={}){const Ee=new lt({getFn:oe,fieldNormWeight:ue});return Ee.setKeys(se.map(T)),Ee.setSources(K),Ee.create(),Ee}function xt(se,{getFn:K=he.getFn,fieldNormWeight:oe=he.fieldNormWeight}={}){const{keys:ue,records:Ee}=se,ye=new lt({getFn:K,fieldNormWeight:oe});return ye.setKeys(ue),ye.setIndexRecords(Ee),ye}function Oe(se,{errors:K=0,currentLocation:oe=0,expectedLocation:ue=0,distance:Ee=he.distance,ignoreLocation:ye=he.ignoreLocation}={}){const be=K/se.length;if(ye)return be;const Re=Math.abs(ue-oe);return Ee?be+Re/Ee:Re?1:be}function ut(se=[],K=he.minMatchCharLength){let oe=[],ue=-1,Ee=-1,ye=0;for(let be=se.length;ye<be;ye+=1){let Re=se[ye];Re&&ue===-1?ue=ye:!Re&&ue!==-1&&(Ee=ye-1,Ee-ue+1>=K&&oe.push([ue,Ee]),ue=-1)}return se[ye-1]&&ye-ue>=K&&oe.push([ue,ye-1]),oe}const Ve=32;function Ct(se,K,oe,{location:ue=he.location,distance:Ee=he.distance,threshold:ye=he.threshold,findAllMatches:be=he.findAllMatches,minMatchCharLength:Re=he.minMatchCharLength,includeMatches:De=he.includeMatches,ignoreLocation:Ue=he.ignoreLocation}={}){if(K.length>Ve)throw new Error(me(Ve));const Be=K.length,Je=se.length,$e=Math.max(0,Math.min(ue,Je));let Ie=ye,Ht=$e;const yn=Re>1||De,Zt=yn?Array(Je):[];let In;for(;(In=se.indexOf(K,Ht))>-1;){let Yt=Oe(K,{currentLocation:In,expectedLocation:$e,distance:Ee,ignoreLocation:Ue});if(Ie=Math.min(Yt,Ie),Ht=In+Be,yn){let Vt=0;for(;Vt<Be;)Zt[In+Vt]=1,Vt+=1}}Ht=-1;let Kn=[],Zn=1,Nn=Be+Je;const Ds=1<<Be-1;for(let Yt=0;Yt<Be;Yt+=1){let Vt=0,ct=Nn;for(;Vt<ct;)Oe(K,{errors:Yt,currentLocation:$e+ct,expectedLocation:$e,distance:Ee,ignoreLocation:Ue})<=Ie?Vt=ct:Nn=ct,ct=Math.floor((Nn-Vt)/2+Vt);Nn=ct;let Bi=Math.max(1,$e-ct+1),Mn=be?Je:Math.min($e+ct,Je)+Be,pr=Array(Mn+2);pr[Mn+1]=(1<<Yt)-1;for(let Hn=Mn;Hn>=Bi;Hn-=1){let Mt=Hn-1,xr=oe[se.charAt(Mt)];if(yn&&(Zt[Mt]=+!!xr),pr[Hn]=(pr[Hn+1]<<1|1)&xr,Yt&&(pr[Hn]|=(Kn[Hn+1]|Kn[Hn])<<1|1|Kn[Hn+1]),pr[Hn]&Ds&&(Zn=Oe(K,{errors:Yt,currentLocation:Mt,expectedLocation:$e,distance:Ee,ignoreLocation:Ue}),Zn<=Ie)){if(Ie=Zn,Ht=Mt,Ht<=$e)break;Bi=Math.max(1,2*$e-Ht)}}if(Oe(K,{errors:Yt+1,currentLocation:$e,expectedLocation:$e,distance:Ee,ignoreLocation:Ue})>Ie)break;Kn=pr}const Li={isMatch:Ht>=0,score:Math.max(.001,Zn)};if(yn){const Yt=ut(Zt,Re);Yt.length?De&&(Li.indices=Yt):Li.isMatch=!1}return Li}function St(se){let K={};for(let oe=0,ue=se.length;oe<ue;oe+=1){const Ee=se.charAt(oe);K[Ee]=(K[Ee]||0)|1<<ue-oe-1}return K}class yt{constructor(K,{location:oe=he.location,threshold:ue=he.threshold,distance:Ee=he.distance,includeMatches:ye=he.includeMatches,findAllMatches:be=he.findAllMatches,minMatchCharLength:Re=he.minMatchCharLength,isCaseSensitive:De=he.isCaseSensitive,ignoreLocation:Ue=he.ignoreLocation}={}){if(this.options={location:oe,threshold:ue,distance:Ee,includeMatches:ye,findAllMatches:be,minMatchCharLength:Re,isCaseSensitive:De,ignoreLocation:Ue},this.pattern=De?K:K.toLowerCase(),this.chunks=[],!this.pattern.length)return;const Be=($e,Ie)=>{this.chunks.push({pattern:$e,alphabet:St($e),startIndex:Ie})},Je=this.pattern.length;if(Je>Ve){let $e=0;const Ie=Je%Ve,Ht=Je-Ie;for(;$e<Ht;)Be(this.pattern.substr($e,Ve),$e),$e+=Ve;if(Ie){const yn=Je-Ve;Be(this.pattern.substr(yn),yn)}}else Be(this.pattern,0)}searchIn(K){const{isCaseSensitive:oe,includeMatches:ue}=this.options;if(oe||(K=K.toLowerCase()),this.pattern===K){let Ht={isMatch:!0,score:0};return ue&&(Ht.indices=[[0,K.length-1]]),Ht}const{location:Ee,distance:ye,threshold:be,findAllMatches:Re,minMatchCharLength:De,ignoreLocation:Ue}=this.options;let Be=[],Je=0,$e=!1;this.chunks.forEach(({pattern:Ht,alphabet:yn,startIndex:Zt})=>{const{isMatch:In,score:Kn,indices:Zn}=Ct(K,Ht,yn,{location:Ee+Zt,distance:ye,threshold:be,findAllMatches:Re,minMatchCharLength:De,includeMatches:ue,ignoreLocation:Ue});In&&($e=!0),Je+=Kn,In&&Zn&&(Be=[...Be,...Zn])});let Ie={isMatch:$e,score:$e?Je/this.chunks.length:1};return $e&&ue&&(Ie.indices=Be),Ie}}class fn{constructor(K){this.pattern=K}static isMultiMatch(K){return ft(K,this.multiRegex)}static isSingleMatch(K){return ft(K,this.singleRegex)}search(){}}function ft(se,K){const oe=se.match(K);return oe?oe[1]:null}class hn extends fn{constructor(K){super(K)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(K){const oe=K===this.pattern;return{isMatch:oe,score:oe?0:1,indices:[0,this.pattern.length-1]}}}class Cn extends fn{constructor(K){super(K)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(K){const ue=K.indexOf(this.pattern)===-1;return{isMatch:ue,score:ue?0:1,indices:[0,K.length-1]}}}class Qr extends fn{constructor(K){super(K)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(K){const oe=K.startsWith(this.pattern);return{isMatch:oe,score:oe?0:1,indices:[0,this.pattern.length-1]}}}class Dt extends fn{constructor(K){super(K)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(K){const oe=!K.startsWith(this.pattern);return{isMatch:oe,score:oe?0:1,indices:[0,K.length-1]}}}class Nt extends fn{constructor(K){super(K)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(K){const oe=K.endsWith(this.pattern);return{isMatch:oe,score:oe?0:1,indices:[K.length-this.pattern.length,K.length-1]}}}class ht extends fn{constructor(K){super(K)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(K){const oe=!K.endsWith(this.pattern);return{isMatch:oe,score:oe?0:1,indices:[0,K.length-1]}}}class tr extends fn{constructor(K,{location:oe=he.location,threshold:ue=he.threshold,distance:Ee=he.distance,includeMatches:ye=he.includeMatches,findAllMatches:be=he.findAllMatches,minMatchCharLength:Re=he.minMatchCharLength,isCaseSensitive:De=he.isCaseSensitive,ignoreLocation:Ue=he.ignoreLocation}={}){super(K),this._bitapSearch=new yt(K,{location:oe,threshold:ue,distance:Ee,includeMatches:ye,findAllMatches:be,minMatchCharLength:Re,isCaseSensitive:De,ignoreLocation:Ue})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(K){return this._bitapSearch.searchIn(K)}}class Ne extends fn{constructor(K){super(K)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(K){let oe=0,ue;const Ee=[],ye=this.pattern.length;for(;(ue=K.indexOf(this.pattern,oe))>-1;)oe=ue+ye,Ee.push([ue,oe-1]);const be=!!Ee.length;return{isMatch:be,score:be?0:1,indices:Ee}}}const Xn=[hn,Ne,Qr,Dt,ht,Nt,Cn,tr],Fr=Xn.length,nr=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Sr="|";function Un(se,K={}){return se.split(Sr).map(oe=>{let ue=oe.trim().split(nr).filter(ye=>ye&&!!ye.trim()),Ee=[];for(let ye=0,be=ue.length;ye<be;ye+=1){const Re=ue[ye];let De=!1,Ue=-1;for(;!De&&++Ue<Fr;){const Be=Xn[Ue];let Je=Be.isMultiMatch(Re);Je&&(Ee.push(new Be(Je,K)),De=!0)}if(!De)for(Ue=-1;++Ue<Fr;){const Be=Xn[Ue];let Je=Be.isSingleMatch(Re);if(Je){Ee.push(new Be(Je,K));break}}}return Ee})}const kr=new Set([tr.type,Ne.type]);class On{constructor(K,{isCaseSensitive:oe=he.isCaseSensitive,includeMatches:ue=he.includeMatches,minMatchCharLength:Ee=he.minMatchCharLength,ignoreLocation:ye=he.ignoreLocation,findAllMatches:be=he.findAllMatches,location:Re=he.location,threshold:De=he.threshold,distance:Ue=he.distance}={}){this.query=null,this.options={isCaseSensitive:oe,includeMatches:ue,minMatchCharLength:Ee,findAllMatches:be,ignoreLocation:ye,location:Re,threshold:De,distance:Ue},this.pattern=oe?K:K.toLowerCase(),this.query=Un(this.pattern,this.options)}static condition(K,oe){return oe.useExtendedSearch}searchIn(K){const oe=this.query;if(!oe)return{isMatch:!1,score:1};const{includeMatches:ue,isCaseSensitive:Ee}=this.options;K=Ee?K:K.toLowerCase();let ye=0,be=[],Re=0;for(let De=0,Ue=oe.length;De<Ue;De+=1){const Be=oe[De];be.length=0,ye=0;for(let Je=0,$e=Be.length;Je<$e;Je+=1){const Ie=Be[Je],{isMatch:Ht,indices:yn,score:Zt}=Ie.search(K);if(Ht){if(ye+=1,Re+=Zt,ue){const In=Ie.constructor.type;kr.has(In)?be=[...be,...yn]:be.push(yn)}}else{Re=0,ye=0,be.length=0;break}}if(ye){let Je={isMatch:!0,score:Re/ye};return ue&&(Je.indices=be),Je}}return{isMatch:!1,score:1}}}const en=[];function gi(...se){en.push(...se)}function dr(se,K){for(let oe=0,ue=en.length;oe<ue;oe+=1){let Ee=en[oe];if(Ee.condition(se,K))return new Ee(se,K)}return new yt(se,K)}const Ur={AND:"$and",OR:"$or"},Ut={PATH:"$path",PATTERN:"$val"},Se=se=>!!(se[Ur.AND]||se[Ur.OR]),Gt=se=>!!se[Ut.PATH],It=se=>!A(se)&&Z(se)&&!Se(se),Lt=se=>({[Ur.AND]:Object.keys(se).map(K=>({[K]:se[K]}))});function Hr(se,K,{auto:oe=!0}={}){const ue=Ee=>{let ye=Object.keys(Ee);const be=Gt(Ee);if(!be&&ye.length>1&&!Se(Ee))return ue(Lt(Ee));if(It(Ee)){const De=be?Ee[Ut.PATH]:ye[0],Ue=be?Ee[Ut.PATTERN]:Ee[De];if(!H(Ue))throw new Error(Fe(De));const Be={keyId:V(De),pattern:Ue};return oe&&(Be.searcher=dr(Ue,K)),Be}let Re={children:[],operator:ye[0]};return ye.forEach(De=>{const Ue=Ee[De];A(Ue)&&Ue.forEach(Be=>{Re.children.push(ue(Be))})}),Re};return Se(se)||(se=Lt(se)),ue(se)}function Di(se,{ignoreFieldNorm:K=he.ignoreFieldNorm}){se.forEach(oe=>{let ue=1;oe.matches.forEach(({key:Ee,norm:ye,score:be})=>{const Re=Ee?Ee.weight:null;ue*=Math.pow(be===0&&Re?Number.EPSILON:be,(Re||1)*(K?1:ye))}),oe.score=ue})}function as(se,K){const oe=se.matches;K.matches=[],q(oe)&&oe.forEach(ue=>{if(!q(ue.indices)||!ue.indices.length)return;const{indices:Ee,value:ye}=ue;let be={indices:Ee,value:ye};ue.key&&(be.key=ue.key.src),ue.idx>-1&&(be.refIndex=ue.idx),K.matches.push(be)})}function mt(se,K){K.score=se.score}function gr(se,K,{includeMatches:oe=he.includeMatches,includeScore:ue=he.includeScore}={}){const Ee=[];return oe&&Ee.push(as),ue&&Ee.push(mt),se.map(ye=>{const{idx:be}=ye,Re={item:K[be],refIndex:be};return Ee.length&&Ee.forEach(De=>{De(ye,Re)}),Re})}class vr{constructor(K,oe={},ue){this.options={...he,...oe},this.options.useExtendedSearch,this._keyStore=new ae(this.options.keys),this.setCollection(K,ue)}setCollection(K,oe){if(this._docs=K,oe&&!(oe instanceof lt))throw new Error(Xe);this._myIndex=oe||Ye(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(K){q(K)&&(this._docs.push(K),this._myIndex.add(K))}remove(K=()=>!1){const oe=[];for(let ue=0,Ee=this._docs.length;ue<Ee;ue+=1){const ye=this._docs[ue];K(ye,ue)&&(this.removeAt(ue),ue-=1,Ee-=1,oe.push(ye))}return oe}removeAt(K){this._docs.splice(K,1),this._myIndex.removeAt(K)}getIndex(){return this._myIndex}search(K,{limit:oe=-1}={}){const{includeMatches:ue,includeScore:Ee,shouldSort:ye,sortFn:be,ignoreFieldNorm:Re}=this.options;let De=H(K)?H(this._docs[0])?this._searchStringList(K):this._searchObjectList(K):this._searchLogical(K);return Di(De,{ignoreFieldNorm:Re}),ye&&De.sort(be),z(oe)&&oe>-1&&(De=De.slice(0,oe)),gr(De,this._docs,{includeMatches:ue,includeScore:Ee})}_searchStringList(K){const oe=dr(K,this.options),{records:ue}=this._myIndex,Ee=[];return ue.forEach(({v:ye,i:be,n:Re})=>{if(!q(ye))return;const{isMatch:De,score:Ue,indices:Be}=oe.searchIn(ye);De&&Ee.push({item:ye,idx:be,matches:[{score:Ue,value:ye,norm:Re,indices:Be}]})}),Ee}_searchLogical(K){const oe=Hr(K,this.options),ue=(Re,De,Ue)=>{if(!Re.children){const{keyId:Je,searcher:$e}=Re,Ie=this._findMatches({key:this._keyStore.get(Je),value:this._myIndex.getValueForItemAtKeyId(De,Je),searcher:$e});return Ie&&Ie.length?[{idx:Ue,item:De,matches:Ie}]:[]}const Be=[];for(let Je=0,$e=Re.children.length;Je<$e;Je+=1){const Ie=Re.children[Je],Ht=ue(Ie,De,Ue);if(Ht.length)Be.push(...Ht);else if(Re.operator===Ur.AND)return[]}return Be},Ee=this._myIndex.records,ye={},be=[];return Ee.forEach(({$:Re,i:De})=>{if(q(Re)){let Ue=ue(oe,Re,De);Ue.length&&(ye[De]||(ye[De]={idx:De,item:Re,matches:[]},be.push(ye[De])),Ue.forEach(({matches:Be})=>{ye[De].matches.push(...Be)}))}}),be}_searchObjectList(K){const oe=dr(K,this.options),{keys:ue,records:Ee}=this._myIndex,ye=[];return Ee.forEach(({$:be,i:Re})=>{if(!q(be))return;let De=[];ue.forEach((Ue,Be)=>{De.push(...this._findMatches({key:Ue,value:be[Be],searcher:oe}))}),De.length&&ye.push({idx:Re,item:be,matches:De})}),ye}_findMatches({key:K,value:oe,searcher:ue}){if(!q(oe))return[];let Ee=[];if(A(oe))oe.forEach(({v:ye,i:be,n:Re})=>{if(!q(ye))return;const{isMatch:De,score:Ue,indices:Be}=ue.searchIn(ye);De&&Ee.push({score:Ue,key:K,value:ye,idx:be,norm:Re,indices:Be})});else{const{v:ye,n:be}=oe,{isMatch:Re,score:De,indices:Ue}=ue.searchIn(ye);Re&&Ee.push({score:De,key:K,value:ye,norm:be,indices:Ue})}return Ee}}vr.version="6.6.2",vr.createIndex=Ye,vr.parseIndex=xt,vr.config=he,vr.parseQuery=Hr,gi(On)},791:function(w,E,O){O.r(E),O.d(E,{__DO_NOT_USE__ActionTypes:function(){return q},applyMiddleware:function(){return ae},bindActionCreators:function(){return J},combineReducers:function(){return me},compose:function(){return Te},createStore:function(){return Ae},legacy_createStore:function(){return Xe}});function A(T){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},A(T)}function I(T,D){if(A(T)!=="object"||T===null)return T;var V=T[Symbol.toPrimitive];if(V!==void 0){var B=V.call(T,D||"default");if(A(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(T)}function M(T){var D=I(T,"string");return A(D)==="symbol"?D:String(D)}function j(T,D,V){return D=M(D),D in T?Object.defineProperty(T,D,{value:V,enumerable:!0,configurable:!0,writable:!0}):T[D]=V,T}function H(T,D){var V=Object.keys(T);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(T);D&&(B=B.filter(function(ee){return Object.getOwnPropertyDescriptor(T,ee).enumerable})),V.push.apply(V,B)}return V}function z(T){for(var D=1;D<arguments.length;D++){var V=arguments[D]!=null?arguments[D]:{};D%2?H(Object(V),!0).forEach(function(B){j(T,B,V[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(V)):H(Object(V)).forEach(function(B){Object.defineProperty(T,B,Object.getOwnPropertyDescriptor(V,B))})}return T}function W(T){return"Minified Redux error #"+T+"; visit https://redux.js.org/Errors?code="+T+" for the full message or use the non-minified dev environment for full errors. "}var Z=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ie=function(){return Math.random().toString(36).substring(7).split("").join(".")},q={INIT:"@@redux/INIT"+ie(),REPLACE:"@@redux/REPLACE"+ie(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ie()}};function te(T){if(typeof T!="object"||T===null)return!1;for(var D=T;Object.getPrototypeOf(D)!==null;)D=Object.getPrototypeOf(D);return Object.getPrototypeOf(T)===D}function Ae(T,D,V){var B;if(typeof D=="function"&&typeof V=="function"||typeof V=="function"&&typeof arguments[3]=="function")throw new Error(W(0));if(typeof D=="function"&&typeof V>"u"&&(V=D,D=void 0),typeof V<"u"){if(typeof V!="function")throw new Error(W(1));return V(Ae)(T,D)}if(typeof T!="function")throw new Error(W(2));var ee=T,ce=D,Ce=[],ve=Ce,he=!1;function Le(){ve===Ce&&(ve=Ce.slice())}function He(){if(he)throw new Error(W(3));return ce}function lt(ut){if(typeof ut!="function")throw new Error(W(4));if(he)throw new Error(W(5));var Ve=!0;return Le(),ve.push(ut),function(){if(Ve){if(he)throw new Error(W(6));Ve=!1,Le();var St=ve.indexOf(ut);ve.splice(St,1),Ce=null}}}function Ye(ut){if(!te(ut))throw new Error(W(7));if(typeof ut.type>"u")throw new Error(W(8));if(he)throw new Error(W(9));try{he=!0,ce=ee(ce,ut)}finally{he=!1}for(var Ve=Ce=ve,Ct=0;Ct<Ve.length;Ct++){var St=Ve[Ct];St()}return ut}function xt(ut){if(typeof ut!="function")throw new Error(W(10));ee=ut,Ye({type:q.REPLACE})}function Oe(){var ut,Ve=lt;return ut={subscribe:function(St){if(typeof St!="object"||St===null)throw new Error(W(11));function yt(){St.next&&St.next(He())}yt();var fn=Ve(yt);return{unsubscribe:fn}}},ut[Z]=function(){return this},ut}return Ye({type:q.INIT}),B={dispatch:Ye,subscribe:lt,getState:He,replaceReducer:xt},B[Z]=Oe,B}var Xe=Ae;function Fe(T){Object.keys(T).forEach(function(D){var V=T[D],B=V(void 0,{type:q.INIT});if(typeof B>"u")throw new Error(W(12));if(typeof V(void 0,{type:q.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(W(13))})}function me(T){for(var D=Object.keys(T),V={},B=0;B<D.length;B++){var ee=D[B];typeof T[ee]=="function"&&(V[ee]=T[ee])}var ce=Object.keys(V),Ce;try{Fe(V)}catch(ve){Ce=ve}return function(he,Le){if(he===void 0&&(he={}),Ce)throw Ce;for(var He=!1,lt={},Ye=0;Ye<ce.length;Ye++){var xt=ce[Ye],Oe=V[xt],ut=he[xt],Ve=Oe(ut,Le);if(typeof Ve>"u")throw Le&&Le.type,new Error(W(14));lt[xt]=Ve,He=He||Ve!==ut}return He=He||ce.length!==Object.keys(he).length,He?lt:he}}function ne(T,D){return function(){return D(T.apply(this,arguments))}}function J(T,D){if(typeof T=="function")return ne(T,D);if(typeof T!="object"||T===null)throw new Error(W(16));var V={};for(var B in T){var ee=T[B];typeof ee=="function"&&(V[B]=ne(ee,D))}return V}function Te(){for(var T=arguments.length,D=new Array(T),V=0;V<T;V++)D[V]=arguments[V];return D.length===0?function(B){return B}:D.length===1?D[0]:D.reduce(function(B,ee){return function(){return B(ee.apply(void 0,arguments))}})}function ae(){for(var T=arguments.length,D=new Array(T),V=0;V<T;V++)D[V]=arguments[V];return function(B){return function(){var ee=B.apply(void 0,arguments),ce=function(){throw new Error(W(15))},Ce={getState:ee.getState,dispatch:function(){return ce.apply(void 0,arguments)}},ve=D.map(function(he){return he(Ce)});return ce=Te.apply(void 0,ve)(ee.dispatch),z(z({},ee),{},{dispatch:ce})}}}}},h={};function x(w){var E=h[w];if(E!==void 0)return E.exports;var O=h[w]={exports:{}};return a[w].call(O.exports,O,O.exports,x),O.exports}(function(){x.n=function(w){var E=w&&w.__esModule?function(){return w.default}:function(){return w};return x.d(E,{a:E}),E}})(),function(){x.d=function(w,E){for(var O in E)x.o(E,O)&&!x.o(w,O)&&Object.defineProperty(w,O,{enumerable:!0,get:E[O]})}}(),function(){x.o=function(w,E){return Object.prototype.hasOwnProperty.call(w,E)}}(),function(){x.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})}}();var p={};return function(){var w=x(373),E=x.n(w);x(187),x(883),x(789),x(686),p.default=E()}(),p=p.default,p}()})})(o0);var z_=o0.exports;const G_=Dc(z_);var Pe;(function(i){i[i.QR_CODE=0]="QR_CODE",i[i.AZTEC=1]="AZTEC",i[i.CODABAR=2]="CODABAR",i[i.CODE_39=3]="CODE_39",i[i.CODE_93=4]="CODE_93",i[i.CODE_128=5]="CODE_128",i[i.DATA_MATRIX=6]="DATA_MATRIX",i[i.MAXICODE=7]="MAXICODE",i[i.ITF=8]="ITF",i[i.EAN_13=9]="EAN_13",i[i.EAN_8=10]="EAN_8",i[i.PDF_417=11]="PDF_417",i[i.RSS_14=12]="RSS_14",i[i.RSS_EXPANDED=13]="RSS_EXPANDED",i[i.UPC_A=14]="UPC_A",i[i.UPC_E=15]="UPC_E",i[i.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var mh=new Map([[Pe.QR_CODE,"QR_CODE"],[Pe.AZTEC,"AZTEC"],[Pe.CODABAR,"CODABAR"],[Pe.CODE_39,"CODE_39"],[Pe.CODE_93,"CODE_93"],[Pe.CODE_128,"CODE_128"],[Pe.DATA_MATRIX,"DATA_MATRIX"],[Pe.MAXICODE,"MAXICODE"],[Pe.ITF,"ITF"],[Pe.EAN_13,"EAN_13"],[Pe.EAN_8,"EAN_8"],[Pe.PDF_417,"PDF_417"],[Pe.RSS_14,"RSS_14"],[Pe.RSS_EXPANDED,"RSS_EXPANDED"],[Pe.UPC_A,"UPC_A"],[Pe.UPC_E,"UPC_E"],[Pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),wh;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.URL=1]="URL"})(wh||(wh={}));function Y_(i){return Object.values(Pe).includes(i)}var Ri;(function(i){i[i.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",i[i.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ri||(Ri={}));var Lr=function(){function i(){}return i.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",i.SCAN_DEFAULT_FPS=2,i.DEFAULT_DISABLE_FLIP=!1,i.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,i.DEFAULT_SUPPORTED_SCAN_TYPE=[Ri.SCAN_TYPE_CAMERA,Ri.SCAN_TYPE_FILE],i}(),a0=function(){function i(l,a){this.format=l,this.formatName=a}return i.prototype.toString=function(){return this.formatName},i.create=function(l){if(!mh.has(l))throw"".concat(l," not in html5QrcodeSupportedFormatsTextMap");return new i(l,mh.get(l))},i}(),Eh=function(){function i(){}return i.createFromText=function(l){var a={text:l};return{decodedText:l,result:a}},i.createFromQrcodeResult=function(l){return{decodedText:l.text,result:l}},i}(),Ic;(function(i){i[i.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",i[i.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",i[i.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ic||(Ic={}));var l0=function(){function i(){}return i.createFrom=function(l){return{errorMessage:l,type:Ic.UNKWOWN_ERROR}},i}(),c0=function(){function i(l){this.verbose=l}return i.prototype.log=function(l){this.verbose&&console.log(l)},i.prototype.warn=function(l){this.verbose&&console.warn(l)},i.prototype.logError=function(l,a){(this.verbose||a===!0)&&console.error(l)},i.prototype.logErrors=function(l){if(l.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(l)},i}();function Gr(i){return typeof i>"u"||i===null}function X_(i,l,a){return i>a?a:i<l?l:i}var bs=function(){function i(){}return i.codeParseError=function(l){return"QR code parse error, error = ".concat(l)},i.errorGettingUserMedia=function(l){return"Error getting userMedia, error = ".concat(l)},i.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},i.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},i.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},i.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},i.scannerPaused=function(){return"Scanner paused"},i}(),kt=function(){function i(){}return i.scanningStatus=function(){return"Scanning"},i.idleStatus=function(){return"Idle"},i.errorStatus=function(){return"Error"},i.permissionStatus=function(){return"Permission"},i.noCameraFoundErrorStatus=function(){return"No Cameras"},i.lastMatch=function(l){return"Last Match: ".concat(l)},i.codeScannerTitle=function(){return"Code Scanner"},i.cameraPermissionTitle=function(){return"Request Camera Permissions"},i.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},i.noCameraFound=function(){return"No camera found"},i.scanButtonStopScanningText=function(){return"Stop Scanning"},i.scanButtonStartScanningText=function(){return"Start Scanning"},i.torchOnButton=function(){return"Switch On Torch"},i.torchOffButton=function(){return"Switch Off Torch"},i.torchOnFailedMessage=function(){return"Failed to turn on torch"},i.torchOffFailedMessage=function(){return"Failed to turn off torch"},i.scanButtonScanningStarting=function(){return"Launching Camera..."},i.textIfCameraScanSelected=function(){return"Scan an Image File"},i.textIfFileScanSelected=function(){return"Scan using camera directly"},i.selectCamera=function(){return"Select Camera"},i.fileSelectionChooseImage=function(){return"Choose Image"},i.fileSelectionChooseAnother=function(){return"Choose Another"},i.fileSelectionNoImageSelected=function(){return"No image choosen"},i.anonymousCameraPrefix=function(){return"Anonymous Camera"},i.dragAndDropMessage=function(){return"Or drop an image to scan"},i.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},i.zoom=function(){return"zoom"},i.loadingImage=function(){return"Loading image..."},i.cameraScanAltText=function(){return"Camera based scan"},i.fileScanAltText=function(){return"Fule based scan"},i}(),_h=function(){function i(){}return i.poweredBy=function(){return"Powered by "},i.reportIssues=function(){return"Report issues"},i}(),u0=function(){function i(){}return i.isMediaStreamConstraintsValid=function(l,a){if(typeof l!="object"){var h=typeof l;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var x=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(x),w=Object.keys(l),E=0,O=w;E<O.length;E++){var A=O[E];if(p.has(A))return a.logError("".concat(A," is not supported videoConstaints."),!0),!1}return!0},i}(),bc={exports:{}};(function(i,l){(function(a,h){h(l)})(Xr,function(a){function h(y){return y==null}var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,e){y.__proto__=e}||function(y,e){for(var t in e)e.hasOwnProperty(t)&&(y[t]=e[t])};function p(y,e){x(y,e);function t(){this.constructor=y}y.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function w(y,e){var t=Object.setPrototypeOf;t?t(y,e):y.__proto__=e}function E(y,e){e===void 0&&(e=y.constructor);var t=Error.captureStackTrace;t&&t(y,e)}var O=function(y){p(e,y);function e(t){var n=this.constructor,s=y.call(this,t)||this;return Object.defineProperty(s,"name",{value:n.name,enumerable:!1}),w(s,n.prototype),E(s),s}return e}(Error);class A extends O{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}A.kind="Exception";class I extends A{}I.kind="ArgumentException";class M extends A{}M.kind="IllegalArgumentException";class j{constructor(e){if(this.binarizer=e,e===null)throw new M("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,s){const o=this.binarizer.getLuminanceSource().crop(e,t,n,s);return new j(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new j(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new j(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class H extends A{static getChecksumInstance(){return new H}}H.kind="ChecksumException";class z{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class W{static arraycopy(e,t,n,s,o){for(;o--;)n[s++]=e[t++]}static currentTimeMillis(){return Date.now()}}class Z extends A{}Z.kind="IndexOutOfBoundsException";class ie extends Z{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}ie.kind="ArrayIndexOutOfBoundsException";class q{static fill(e,t){for(let n=0,s=e.length;n<s;n++)e[n]=t}static fillWithin(e,t,n,s){q.rangeCheck(e.length,t,n);for(let o=t;o<n;o++)e[o]=s}static rangeCheck(e,t,n){if(t>n)throw new M("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new ie(t);if(n>e)throw new ie(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(o=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(o=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let n=0,s=e.length;n<s;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const s=n-t,o=new Int32Array(s);return W.arraycopy(e,t,o,0,s),o}static binarySearch(e,t,n){n===void 0&&(n=q.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const u=o+s>>1,f=n(t,e[u]);if(f>0)s=u+1;else if(f<0)o=u-1;else return u}return-s-1}static numberComparator(e,t){return e-t}}class te{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}te.MIN_VALUE_32_BITS=-2147483648,te.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ae{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=Ae.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=Ae.makeArray(e);W.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let s=Math.floor(e/32),o=n[s];o&=~((1<<(e&31))-1);const u=n.length;for(;o===0;){if(++s===u)return t;o=n[s]}const f=s*32+te.numberOfTrailingZeros(o);return f>t?t:f}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let s=Math.floor(e/32),o=~n[s];o&=~((1<<(e&31))-1);const u=n.length;for(;o===0;){if(++s===u)return t;o=~n[s]}const f=s*32+te.numberOfTrailingZeros(o);return f>t?t:f}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new M;if(t===e)return;t--;const n=Math.floor(e/32),s=Math.floor(t/32),o=this.bits;for(let u=n;u<=s;u++){const f=u>n?0:e&31,m=(2<<(u<s?31:t&31))-(1<<f);o[u]|=m}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new M;if(t===e)return!0;t--;const s=Math.floor(e/32),o=Math.floor(t/32),u=this.bits;for(let f=s;f<=o;f++){const g=f>s?0:e&31,C=(2<<(f<o?31:t&31))-(1<<g)&4294967295;if((u[f]&C)!==(n?C:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new M("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new M("Sizes don't match");const t=this.bits;for(let n=0,s=t.length;n<s;n++)t[n]^=e.bits[n]}toBytes(e,t,n,s){for(let o=0;o<s;o++){let u=0;for(let f=0;f<8;f++)this.get(e)&&(u|=1<<7-f),e++;t[n+o]=u}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,s=this.bits;for(let o=0;o<n;o++){let u=s[o];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[t-o]=u}if(this.size!==n*32){const o=n*32-this.size;let u=e[0]>>>o;for(let f=1;f<n;f++){const g=e[f];u|=g<<32-o,e[f-1]=u,u=g>>>o}e[n-1]=u}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Ae))return!1;const t=e;return this.size===t.size&&q.equals(this.bits,t.bits)}hashCode(){return 31*this.size+q.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new Ae(this.size,this.bits.slice())}}var Xe;(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Xe||(Xe={}));var Fe=Xe;class me extends A{static getFormatInstance(){return new me}}me.kind="FormatException";var ne;(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"})(ne||(ne={}));class J{constructor(e,t,n,...s){this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,J.VALUE_IDENTIFIER_TO_ECI.set(e,this),J.NAME_TO_ECI.set(n,this);const o=this.values;for(let u=0,f=o.length;u!==f;u++){const g=o[u];J.VALUES_TO_ECI.set(g,this)}for(const u of s)J.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new me("incorect value");const t=J.VALUES_TO_ECI.get(e);if(t===void 0)throw new me("incorect value");return t}static getCharacterSetECIByName(e){const t=J.NAME_TO_ECI.get(e);if(t===void 0)throw new me("incorect value");return t}equals(e){if(!(e instanceof J))return!1;const t=e;return this.getName()===t.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(ne.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(ne.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(ne.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(ne.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(ne.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(ne.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(ne.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(ne.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(ne.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(ne.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(ne.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(ne.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(ne.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(ne.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(ne.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(ne.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(ne.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(ne.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(ne.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(ne.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(ne.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(ne.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(ne.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(ne.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(ne.Big5,28,"Big5"),J.GB18030=new J(ne.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(ne.EUC_KR,30,"EUC_KR","EUC-KR");class Te extends A{}Te.kind="UnsupportedOperationException";class ae{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!ae.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof J?e:J.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(ae.isDecodeFallbackSupported(n)){let s="";for(let o=0,u=e.length;o<u;o++){let f=e[o].toString(16);f.length<2&&(f="0"+f),s+="%"+f}return decodeURIComponent(s)}if(n.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Te(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(J.UTF8)||e.equals(J.ISO8859_1)||e.equals(J.ASCII)}static encodeFallback(e){const n=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<n.length;o++)s.push(n[o].charCodeAt(0));return new Uint8Array(s)}}class T{static castAsNonUtf8Char(e,t=null){const n=t?t.getName():this.ISO88591;return ae.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(t!=null&&t.get(Fe.CHARACTER_SET)!==void 0)return t.get(Fe.CHARACTER_SET).toString();const n=e.length;let s=!0,o=!0,u=!0,f=0,g=0,m=0,C=0,b=0,N=0,U=0,v=0,L=0,F=0,Y=0;const le=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let fe=0;fe<n&&(s||o||u);fe++){const de=e[fe]&255;u&&(f>0?de&128?f--:u=!1:de&128&&(de&64?(f++,de&32?(f++,de&16?(f++,de&8?u=!1:C++):m++):g++):u=!1)),s&&(de>127&&de<160?s=!1:de>159&&(de<192||de===215||de===247)&&Y++),o&&(b>0?de<64||de===127||de>252?o=!1:b--:de===128||de===160||de>239?o=!1:de>160&&de<224?(N++,v=0,U++,U>L&&(L=U)):de>127?(b++,U=0,v++,v>F&&(F=v)):(U=0,v=0))}return u&&f>0&&(u=!1),o&&b>0&&(o=!1),u&&(le||g+m+C>0)?T.UTF8:o&&(T.ASSUME_SHIFT_JIS||L>=3||F>=3)?T.SHIFT_JIS:s&&o?L===2&&N===2||Y*10>=n?T.SHIFT_JIS:T.ISO88591:s?T.ISO88591:o?T.SHIFT_JIS:u?T.UTF8:T.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;function s(u,f,g,m,C,b){if(u==="%%")return"%";if(t[++n]===void 0)return;u=m?parseInt(m.substr(1)):void 0;let N=C?parseInt(C.substr(1)):void 0,U;switch(b){case"s":U=t[n];break;case"c":U=t[n][0];break;case"f":U=parseFloat(t[n]).toFixed(u);break;case"p":U=parseFloat(t[n]).toPrecision(u);break;case"e":U=parseFloat(t[n]).toExponential(u);break;case"x":U=parseInt(t[n]).toString(N||16);break;case"d":U=parseFloat(parseInt(t[n],N||10).toPrecision(u)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(N);let v=parseInt(g),L=g&&g[0]+""=="0"?"0":" ";for(;U.length<v;)U=f!==void 0?U+L:L+U;return U}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,t){return ae.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}T.SHIFT_JIS=J.SJIS.getName(),T.GB2312="GB2312",T.ISO88591=J.ISO8859_1.getName(),T.EUC_JP="EUC_JP",T.UTF8=J.UTF8.getName(),T.PLATFORM_DEFAULT_ENCODING=T.UTF8,T.ASSUME_SHIFT_JIS=!1;class D{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=T.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let s=t;t<t+n;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class V{constructor(e,t,n,s){if(this.width=e,this.height=t,this.rowSize=n,this.bits=s,t==null&&(t=e),this.height=t,e<1||t<1)throw new M("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,s=new V(n,t);for(let o=0;o<t;o++){const u=e[o];for(let f=0;f<n;f++)u[f]&&s.set(f,o)}return s}static parseFromString(e,t,n){if(e===null)throw new M("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,u=0,f=-1,g=0,m=0;for(;m<e.length;)if(e.charAt(m)===`
`||e.charAt(m)==="\r"){if(o>u){if(f===-1)f=o-u;else if(o-u!==f)throw new M("row lengths do not match");u=o,g++}m++}else if(e.substring(m,m+t.length)===t)m+=t.length,s[o]=!0,o++;else if(e.substring(m,m+n.length)===n)m+=n.length,s[o]=!1,o++;else throw new M("illegal character encountered: "+e.substring(m));if(o>u){if(f===-1)f=o-u;else if(o-u!==f)throw new M("row lengths do not match");g++}const C=new V(f,g);for(let b=0;b<o;b++)s[b]&&C.set(Math.floor(b%f),Math.floor(b/f));return C}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new M("input matrix dimensions do not match");const t=new Ae(Math.floor(this.width/32)+1),n=this.rowSize,s=this.bits;for(let o=0,u=this.height;o<u;o++){const f=o*n,g=e.getRow(o,t).getBitArray();for(let m=0;m<n;m++)s[f+m]^=g[m]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,s){if(t<0||e<0)throw new M("Left and top must be nonnegative");if(s<1||n<1)throw new M("Height and width must be at least 1");const o=e+n,u=t+s;if(u>this.height||o>this.width)throw new M("The region must fit inside the matrix");const f=this.rowSize,g=this.bits;for(let m=t;m<u;m++){const C=m*f;for(let b=e;b<o;b++)g[C+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new Ae(this.width):t.clear();const n=this.rowSize,s=this.bits,o=e*n;for(let u=0;u<n;u++)t.setBulk(u*32,s[o+u]);return t}setRow(e,t){W.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new Ae(e),s=new Ae(e);for(let o=0,u=Math.floor((t+1)/2);o<u;o++)n=this.getRow(o,n),s=this.getRow(t-1-o,s),n.reverse(),s.reverse(),this.setRow(o,s),this.setRow(t-1-o,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,s=this.bits;let o=e,u=t,f=-1,g=-1;for(let m=0;m<t;m++)for(let C=0;C<n;C++){const b=s[m*n+C];if(b!==0){if(m<u&&(u=m),m>g&&(g=m),C*32<o){let N=0;for(;!(b<<31-N&4294967295);)N++;C*32+N<o&&(o=C*32+N)}if(C*32+31>f){let N=31;for(;!(b>>>N);)N--;C*32+N>f&&(f=C*32+N)}}}return f<o||g<u?null:Int32Array.from([o,u,f-o+1,g-u+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;const s=n/e;let o=n%e*32;const u=t[n];let f=0;for(;!(u<<31-f&4294967295);)f++;return o+=f,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&t[n]===0;)n--;if(n<0)return null;const s=Math.floor(n/e);let o=Math.floor(n%e)*32;const u=t[n];let f=31;for(;!(u>>>f);)f--;return o+=f,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof V))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&q.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+q.hashCode(this.bits),e}toString(e="X ",t="  ",n=`
`){return this.buildToString(e,t,n)}buildToString(e,t,n){let s=new D;for(let o=0,u=this.height;o<u;o++){for(let f=0,g=this.width;f<g;f++)s.append(this.get(f,o)?e:t);s.append(n)}return s.toString()}clone(){return new V(this.width,this.height,this.rowSize,this.bits.slice())}}class B extends A{static getNotFoundInstance(){return new B}}B.kind="NotFoundException";class ee extends z{constructor(e){super(e),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),s=n.getWidth();t==null||t.getSize()<s?t=new Ae(s):t.clear(),this.initArrays(s);const o=n.getRow(e,this.luminances),u=this.buckets;for(let g=0;g<s;g++)u[(o[g]&255)>>ee.LUMINANCE_SHIFT]++;const f=ee.estimateBlackPoint(u);if(s<3)for(let g=0;g<s;g++)(o[g]&255)<f&&t.set(g);else{let g=o[0]&255,m=o[1]&255;for(let C=1;C<s-1;C++){const b=o[C+1]&255;(m*4-g-b)/2<f&&t.set(C),g=m,m=b}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),s=new V(t,n);this.initArrays(t);const o=this.buckets;for(let g=1;g<5;g++){const m=Math.floor(n*g/5),C=e.getRow(m,this.luminances),b=Math.floor(t*4/5);for(let N=Math.floor(t/5);N<b;N++){const U=C[N]&255;o[U>>ee.LUMINANCE_SHIFT]++}}const u=ee.estimateBlackPoint(o),f=e.getMatrix();for(let g=0;g<n;g++){const m=g*t;for(let C=0;C<t;C++)(f[m+C]&255)<u&&s.set(C,g)}return s}createBinarizer(e){return new ee(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<ee.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,s=0,o=0;for(let C=0;C<t;C++)e[C]>o&&(s=C,o=e[C]),e[C]>n&&(n=e[C]);let u=0,f=0;for(let C=0;C<t;C++){const b=C-s,N=e[C]*b*b;N>f&&(u=C,f=N)}if(s>u){const C=s;s=u,u=C}if(u-s<=t/16)throw new B;let g=u-1,m=-1;for(let C=u-1;C>s;C--){const b=C-s,N=b*b*(u-C)*(n-e[C]);N>m&&(g=C,m=N)}return g<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class ce extends ee{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=ce.MINIMUM_DIMENSION&&n>=ce.MINIMUM_DIMENSION){const s=e.getMatrix();let o=t>>ce.BLOCK_SIZE_POWER;t&ce.BLOCK_SIZE_MASK&&o++;let u=n>>ce.BLOCK_SIZE_POWER;n&ce.BLOCK_SIZE_MASK&&u++;const f=ce.calculateBlackPoints(s,o,u,t,n),g=new V(t,n);ce.calculateThresholdForBlock(s,o,u,t,n,f,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ce(e)}static calculateThresholdForBlock(e,t,n,s,o,u,f){const g=o-ce.BLOCK_SIZE,m=s-ce.BLOCK_SIZE;for(let C=0;C<n;C++){let b=C<<ce.BLOCK_SIZE_POWER;b>g&&(b=g);const N=ce.cap(C,2,n-3);for(let U=0;U<t;U++){let v=U<<ce.BLOCK_SIZE_POWER;v>m&&(v=m);const L=ce.cap(U,2,t-3);let F=0;for(let le=-2;le<=2;le++){const fe=u[N+le];F+=fe[L-2]+fe[L-1]+fe[L]+fe[L+1]+fe[L+2]}const Y=F/25;ce.thresholdBlock(e,v,b,Y,s,f)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,s,o,u){for(let f=0,g=n*o+t;f<ce.BLOCK_SIZE;f++,g+=o)for(let m=0;m<ce.BLOCK_SIZE;m++)(e[g+m]&255)<=s&&u.set(t+m,n+f)}static calculateBlackPoints(e,t,n,s,o){const u=o-ce.BLOCK_SIZE,f=s-ce.BLOCK_SIZE,g=new Array(n);for(let m=0;m<n;m++){g[m]=new Int32Array(t);let C=m<<ce.BLOCK_SIZE_POWER;C>u&&(C=u);for(let b=0;b<t;b++){let N=b<<ce.BLOCK_SIZE_POWER;N>f&&(N=f);let U=0,v=255,L=0;for(let Y=0,le=C*s+N;Y<ce.BLOCK_SIZE;Y++,le+=s){for(let fe=0;fe<ce.BLOCK_SIZE;fe++){const de=e[le+fe]&255;U+=de,de<v&&(v=de),de>L&&(L=de)}if(L-v>ce.MIN_DYNAMIC_RANGE)for(Y++,le+=s;Y<ce.BLOCK_SIZE;Y++,le+=s)for(let fe=0;fe<ce.BLOCK_SIZE;fe++)U+=e[le+fe]&255}let F=U>>ce.BLOCK_SIZE_POWER*2;if(L-v<=ce.MIN_DYNAMIC_RANGE&&(F=v/2,m>0&&b>0)){const Y=(g[m-1][b]+2*g[m][b-1]+g[m-1][b-1])/4;v<Y&&(F=Y)}g[m][b]=F}}return g}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class Ce{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,s){throw new Te("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Te("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Te("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new D;for(let n=0;n<this.height;n++){const s=this.getRow(n,e);for(let o=0;o<this.width;o++){const u=s[o]&255;let f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",t.append(f)}t.append(`
`)}return t.toString()}}class ve extends Ce{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),s=this.getWidth();for(let o=0;o<s;o++)n[o]=255-(n[o]&255);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let s=0;s<t;s++)n[s]=255-(e[s]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,s){return new ve(this.delegate.crop(e,t,n,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ve(this.delegate.rotateCounterClockwise45())}}class he extends Ce{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return he.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const s=new Uint8ClampedArray(t*n);for(let o=0,u=0,f=e.length;o<f;o+=4,u++){let g;if(e[o+3]===0)g=255;else{const C=e[o],b=e[o+1],N=e[o+2];g=306*C+601*b+117*N+512>>10}s[u]=g}return s}getRow(e,t){if(e<0||e>=this.getHeight())throw new M("Requested row is outside the image: "+e);const n=this.getWidth(),s=e*n;return t===null?t=this.buffer.slice(s,s+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(s,s+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,s){return super.crop(e,t,n,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),s=e*he.DEGREE_TO_RADIANS,o=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*u),g=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*u);return t.width=f,t.height=g,n.translate(f/2,g/2),n.rotate(s),n.drawImage(this.canvas,o/-2,u/-2),this.buffer=he.makeBufferFromCanvasImageData(t),this}invert(){return new ve(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class Le{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var He=(globalThis||Xr||self||window||void 0)&&(globalThis||Xr||self||window||void 0).__awaiter||function(y,e,t,n){function s(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function f(C){try{m(n.next(C))}catch(b){u(b)}}function g(C){try{m(n.throw(C))}catch(b){u(b)}}function m(C){C.done?o(C.value):s(C.value).then(f,g)}m((n=n.apply(y,e||[])).next())})};class lt{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return He(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const s=n.kind==="video"?"videoinput":n.kind;if(s!=="videoinput")continue;const o=n.deviceId||n.id,u=n.label||`Video device ${t.length+1}`,f=n.groupId,g={deviceId:o,label:u,kind:s,groupId:f};t.push(g)}return t})}getVideoInputDevices(){return He(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new Le(t.deviceId,t.label))})}findDeviceById(e){return He(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(n=>n.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return He(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return He(this,void 0,void 0,function*(){this.reset();let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const s={video:n};return yield this.decodeOnceFromConstraints(s,t)})}decodeOnceFromConstraints(e,t){return He(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return He(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return He(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return He(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,t,n)})}decodeFromConstraints(e,t,n){return He(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,t,n)})}decodeFromStream(e,t,n){return He(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(s,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return He(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return He(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new I(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new I(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new I("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new I("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(e===void 0&&t===void 0)throw new I("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new I("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new I("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new I("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new I("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new I("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(n,t);return n.src=e,s}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return He(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return He(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;const s=(o,u)=>{if(this._stopAsyncDecode){u(new B("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(e);o(f)}catch(f){const g=t&&f instanceof B,C=(f instanceof H||f instanceof me)&&n;if(g||C)return setTimeout(s,this._timeBetweenDecodingAttempts,o,u);u(f)}};return new Promise((o,u)=>s(o,u))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);t(s,null),setTimeout(n,this.timeBetweenScansMillis)}catch(s){t(null,s);const o=s instanceof H||s instanceof me,u=s instanceof B;(o||u)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,n=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new he(t),s=new ce(n);return new j(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const n=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=s+"px",t.width=n,t.height=s,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ye{constructor(e,t,n=t==null?0:8*t.length,s,o,u=W.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=s,this.format=o,this.timestamp=u,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=s,this.format=o,this.resultMetadata=null,u==null?this.timestamp=W.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const n=new Array(t.length+e.length);W.arraycopy(t,0,n,0,t.length),W.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var xt;(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xt||(xt={}));var Oe=xt,ut;(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ut||(ut={}));var Ve=ut;class Ct{constructor(e,t,n,s,o=-1,u=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class St{exp(e){return this.expTable[e]}log(e){if(e===0)throw new M;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class yt{constructor(e,t){if(t.length===0)throw new M;this.field=e;const n=t.length;if(n>1&&t[0]===0){let s=1;for(;s<n&&t[s]===0;)s++;s===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-s),W.arraycopy(t,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let n;if(e===1){n=0;for(let u=0,f=t.length;u!==f;u++){const g=t[u];n=St.addOrSubtract(n,g)}return n}n=t[0];const s=t.length,o=this.field;for(let u=1;u<s;u++)n=St.addOrSubtract(o.multiply(e,n),t[u]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const u=t;t=n,n=u}let s=new Int32Array(n.length);const o=n.length-t.length;W.arraycopy(n,0,s,0,o);for(let u=o;u<n.length;u++)s[u]=St.addOrSubtract(t[u-o],n[u]);return new yt(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,s=e.coefficients,o=s.length,u=new Int32Array(n+o-1),f=this.field;for(let g=0;g<n;g++){const m=t[g];for(let C=0;C<o;C++)u[g+C]=St.addOrSubtract(u[g+C],f.multiply(m,s[C]))}return new yt(f,u)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,n=this.field,s=new Int32Array(t),o=this.coefficients;for(let u=0;u<t;u++)s[u]=n.multiply(o[u],e);return new yt(n,s)}multiplyByMonomial(e,t){if(e<0)throw new M;if(t===0)return this.field.getZero();const n=this.coefficients,s=n.length,o=new Int32Array(s+e),u=this.field;for(let f=0;f<s;f++)o[f]=u.multiply(n[f],t);return new yt(u,o)}divide(e){if(!this.field.equals(e.field))throw new M("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new M("Divide by 0");const t=this.field;let n=t.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),u=t.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const f=s.getDegree()-e.getDegree(),g=t.multiply(s.getCoefficient(s.getDegree()),u),m=e.multiplyByMonomial(f,g),C=t.buildMonomial(f,g);n=n.addOrSubtract(C),s=s.addOrSubtract(m)}return[n,s]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){const s=this.field.log(n);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class fn extends A{}fn.kind="ArithmeticException";class ft extends St{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const s=new Int32Array(t);let o=1;for(let f=0;f<t;f++)s[f]=o,o*=2,o>=t&&(o^=e,o&=t-1);this.expTable=s;const u=new Int32Array(t);for(let f=0;f<t-1;f++)u[s[f]]=f;this.logTable=u,this.zero=new yt(this,Int32Array.from([0])),this.one=new yt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new M;if(t===0)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new yt(this,n)}inverse(e){if(e===0)throw new fn;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+te.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ft.AZTEC_DATA_12=new ft(4201,4096,1),ft.AZTEC_DATA_10=new ft(1033,1024,1),ft.AZTEC_DATA_6=new ft(67,64,1),ft.AZTEC_PARAM=new ft(19,16,1),ft.QR_CODE_FIELD_256=new ft(285,256,0),ft.DATA_MATRIX_FIELD_256=new ft(301,256,1),ft.AZTEC_DATA_8=ft.DATA_MATRIX_FIELD_256,ft.MAXICODE_FIELD_64=ft.AZTEC_DATA_6;class hn extends A{}hn.kind="ReedSolomonException";class Cn extends A{}Cn.kind="IllegalStateException";class Qr{constructor(e){this.field=e}decode(e,t){const n=this.field,s=new yt(n,e),o=new Int32Array(t);let u=!0;for(let U=0;U<t;U++){const v=s.evaluateAt(n.exp(U+n.getGeneratorBase()));o[o.length-1-U]=v,v!==0&&(u=!1)}if(u)return;const f=new yt(n,o),g=this.runEuclideanAlgorithm(n.buildMonomial(t,1),f,t),m=g[0],C=g[1],b=this.findErrorLocations(m),N=this.findErrorMagnitudes(C,b);for(let U=0;U<b.length;U++){const v=e.length-1-n.log(b[U]);if(v<0)throw new hn("Bad error location");e[v]=ft.addOrSubtract(e[v],N[U])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const U=e;e=t,t=U}const s=this.field;let o=e,u=t,f=s.getZero(),g=s.getOne();for(;u.getDegree()>=(n/2|0);){let U=o,v=f;if(o=u,f=g,o.isZero())throw new hn("r_{i-1} was zero");u=U;let L=s.getZero();const F=o.getCoefficient(o.getDegree()),Y=s.inverse(F);for(;u.getDegree()>=o.getDegree()&&!u.isZero();){const le=u.getDegree()-o.getDegree(),fe=s.multiply(u.getCoefficient(u.getDegree()),Y);L=L.addOrSubtract(s.buildMonomial(le,fe)),u=u.addOrSubtract(o.multiplyByMonomial(le,fe))}if(g=L.multiply(f).addOrSubtract(v),u.getDegree()>=o.getDegree())throw new Cn("Division algorithm failed to reduce polynomial?")}const m=g.getCoefficient(0);if(m===0)throw new hn("sigmaTilde(0) was zero");const C=s.inverse(m),b=g.multiplyScalar(C),N=u.multiplyScalar(C);return[b,N]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let s=0;const o=this.field;for(let u=1;u<o.getSize()&&s<t;u++)e.evaluateAt(u)===0&&(n[s]=o.inverse(u),s++);if(s!==t)throw new hn("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,s=new Int32Array(n),o=this.field;for(let u=0;u<n;u++){const f=o.inverse(t[u]);let g=1;for(let m=0;m<n;m++)if(u!==m){const C=o.multiply(t[m],f),b=C&1?C&-2:C|1;g=o.multiply(g,b)}s[u]=o.multiply(e.evaluateAt(f),o.inverse(g)),o.getGeneratorBase()!==0&&(s[u]=o.multiply(s[u],f))}return s}}var Dt;(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"})(Dt||(Dt={}));class Nt{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),s=this.correctBits(n),o=Nt.convertBoolArrayToByteArray(s),u=Nt.getEncodedData(s),f=new Ct(o,u,null,null);return f.setNumBits(s.length),f}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=Dt.UPPER,s=Dt.UPPER,o="",u=0;for(;u<t;)if(s===Dt.BINARY){if(t-u<5)break;let f=Nt.readCode(e,u,5);if(u+=5,f===0){if(t-u<11)break;f=Nt.readCode(e,u,11)+31,u+=11}for(let g=0;g<f;g++){if(t-u<8){u=t;break}const m=Nt.readCode(e,u,8);o+=T.castAsNonUtf8Char(m),u+=8}s=n}else{let f=s===Dt.DIGIT?4:5;if(t-u<f)break;let g=Nt.readCode(e,u,f);u+=f;let m=Nt.getCharacter(s,g);m.startsWith("CTRL_")?(n=s,s=Nt.getTable(m.charAt(5)),m.charAt(6)==="L"&&(n=s)):(o+=m,s=n)}return o}static getTable(e){switch(e){case"L":return Dt.LOWER;case"P":return Dt.PUNCT;case"M":return Dt.MIXED;case"D":return Dt.DIGIT;case"B":return Dt.BINARY;case"U":default:return Dt.UPPER}}static getCharacter(e,t){switch(e){case Dt.UPPER:return Nt.UPPER_TABLE[t];case Dt.LOWER:return Nt.LOWER_TABLE[t];case Dt.MIXED:return Nt.MIXED_TABLE[t];case Dt.PUNCT:return Nt.PUNCT_TABLE[t];case Dt.DIGIT:return Nt.DIGIT_TABLE[t];default:throw new Cn("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=ft.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=ft.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=ft.AZTEC_DATA_10):(n=12,t=ft.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/n;if(o<s)throw new me;let u=e.length%n,f=new Int32Array(o);for(let N=0;N<o;N++,u+=n)f[N]=Nt.readCode(e,u,n);try{new Qr(t).decode(f,o-s)}catch(N){throw new me(N)}let g=(1<<n)-1,m=0;for(let N=0;N<s;N++){let U=f[N];if(U===0||U===g)throw new me;(U===1||U===g-1)&&m++}let C=new Array(s*n-m),b=0;for(let N=0;N<s;N++){let U=f[N];if(U===1||U===g-1)C.fill(U>1,b,b+n-1),b+=n-1;else for(let v=n-1;v>=0;--v)C[b++]=(U&1<<v)!==0}return C}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),s=(t?11:14)+n*4,o=new Int32Array(s),u=new Array(this.totalBitsInLayer(n,t));if(t)for(let f=0;f<o.length;f++)o[f]=f;else{let f=s+1+2*te.truncDivision(te.truncDivision(s,2)-1,15),g=s/2,m=te.truncDivision(f,2);for(let C=0;C<g;C++){let b=C+te.truncDivision(C,15);o[g-C-1]=m-b-1,o[g+C]=m+b+1}}for(let f=0,g=0;f<n;f++){let m=(n-f)*4+(t?9:12),C=f*2,b=s-1-C;for(let N=0;N<m;N++){let U=N*2;for(let v=0;v<2;v++)u[g+U+v]=e.get(o[C+v],o[C+N]),u[g+2*m+U+v]=e.get(o[C+N],o[b-v]),u[g+4*m+U+v]=e.get(o[b-v],o[b-N]),u[g+6*m+U+v]=e.get(o[b-N],o[C+v])}g+=m*8}return u}static readCode(e,t,n){let s=0;for(let o=t;o<t+n;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,t){let n=e.length-t;return n>=8?Nt.readCode(e,t,8):Nt.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=Nt.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ht{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,s){const o=e-n,u=t-s;return Math.sqrt(o*o+u*u)}static sum(e){let t=0;for(let n=0,s=e.length;n!==s;n++){const o=e[n];t+=o}return t}}class tr{static floatToIntBits(e){return e}}tr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Ne){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*tr.floatToIntBits(this.x)+tr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,u,f;if(n>=t&&n>=s?(u=e[0],o=e[1],f=e[2]):s>=n&&s>=t?(u=e[1],o=e[0],f=e[2]):(u=e[2],o=e[0],f=e[1]),this.crossProductZ(o,u,f)<0){const g=o;o=f,f=g}e[0]=o,e[1]=u,e[2]=f}static distance(e,t){return ht.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const s=t.x,o=t.y;return(n.x-s)*(e.y-o)-(n.y-o)*(e.x-s)}}class Xn{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Fr extends Xn{constructor(e,t,n,s,o){super(e,t),this.compact=n,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class nr{constructor(e,t,n,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=nr.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=t/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new B}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,s=this.downInit,o=!1,u=!0,f=!1,g=!1,m=!1,C=!1,b=!1;const N=this.width,U=this.height;for(;u;){u=!1;let v=!0;for(;(v||!g)&&t<N;)v=this.containsBlackPoint(n,s,t,!1),v?(t++,u=!0,g=!0):g||t++;if(t>=N){o=!0;break}let L=!0;for(;(L||!m)&&s<U;)L=this.containsBlackPoint(e,t,s,!0),L?(s++,u=!0,m=!0):m||s++;if(s>=U){o=!0;break}let F=!0;for(;(F||!C)&&e>=0;)F=this.containsBlackPoint(n,s,e,!1),F?(e--,u=!0,C=!0):C||e--;if(e<0){o=!0;break}let Y=!0;for(;(Y||!b)&&n>=0;)Y=this.containsBlackPoint(e,t,n,!0),Y?(n--,u=!0,b=!0):b||n--;if(n<0){o=!0;break}u&&(f=!0)}if(!o&&f){const v=t-e;let L=null;for(let fe=1;L===null&&fe<v;fe++)L=this.getBlackPointOnSegment(e,s-fe,e+fe,s);if(L==null)throw new B;let F=null;for(let fe=1;F===null&&fe<v;fe++)F=this.getBlackPointOnSegment(e,n+fe,e+fe,n);if(F==null)throw new B;let Y=null;for(let fe=1;Y===null&&fe<v;fe++)Y=this.getBlackPointOnSegment(t,n+fe,t-fe,n);if(Y==null)throw new B;let le=null;for(let fe=1;le===null&&fe<v;fe++)le=this.getBlackPointOnSegment(t,s-fe,t-fe,s);if(le==null)throw new B;return this.centerEdges(le,L,Y,F)}else throw new B}getBlackPointOnSegment(e,t,n,s){const o=ht.round(ht.distance(e,t,n,s)),u=(n-e)/o,f=(s-t)/o,g=this.image;for(let m=0;m<o;m++){const C=ht.round(e+m*u),b=ht.round(t+m*f);if(g.get(C,b))return new Ne(C,b)}return null}centerEdges(e,t,n,s){const o=e.getX(),u=e.getY(),f=t.getX(),g=t.getY(),m=n.getX(),C=n.getY(),b=s.getX(),N=s.getY(),U=nr.CORR;return o<this.width/2?[new Ne(b-U,N+U),new Ne(f+U,g+U),new Ne(m-U,C-U),new Ne(o+U,u-U)]:[new Ne(b+U,N+U),new Ne(f+U,g-U),new Ne(m-U,C+U),new Ne(o-U,u-U)]}containsBlackPoint(e,t,n,s){const o=this.image;if(s){for(let u=e;u<=t;u++)if(o.get(u,n))return!0}else for(let u=e;u<=t;u++)if(o.get(n,u))return!0;return!1}}nr.INIT_SIZE=10,nr.CORR=1;class Sr{static checkAndNudgePoints(e,t){const n=e.getWidth(),s=e.getHeight();let o=!0;for(let u=0;u<t.length&&o;u+=2){const f=Math.floor(t[u]),g=Math.floor(t[u+1]);if(f<-1||f>n||g<-1||g>s)throw new B;o=!1,f===-1?(t[u]=0,o=!0):f===n&&(t[u]=n-1,o=!0),g===-1?(t[u+1]=0,o=!0):g===s&&(t[u+1]=s-1,o=!0)}o=!0;for(let u=t.length-2;u>=0&&o;u-=2){const f=Math.floor(t[u]),g=Math.floor(t[u+1]);if(f<-1||f>n||g<-1||g>s)throw new B;o=!1,f===-1?(t[u]=0,o=!0):f===n&&(t[u]=n-1,o=!0),g===-1?(t[u+1]=0,o=!0):g===s&&(t[u+1]=s-1,o=!0)}}}class Un{constructor(e,t,n,s,o,u,f,g,m){this.a11=e,this.a21=t,this.a31=n,this.a12=s,this.a22=o,this.a32=u,this.a13=f,this.a23=g,this.a33=m}static quadrilateralToQuadrilateral(e,t,n,s,o,u,f,g,m,C,b,N,U,v,L,F){const Y=Un.quadrilateralToSquare(e,t,n,s,o,u,f,g);return Un.squareToQuadrilateral(m,C,b,N,U,v,L,F).times(Y)}transformPoints(e){const t=e.length,n=this.a11,s=this.a12,o=this.a13,u=this.a21,f=this.a22,g=this.a23,m=this.a31,C=this.a32,b=this.a33;for(let N=0;N<t;N+=2){const U=e[N],v=e[N+1],L=o*U+g*v+b;e[N]=(n*U+u*v+m)/L,e[N+1]=(s*U+f*v+C)/L}}transformPointsWithValues(e,t){const n=this.a11,s=this.a12,o=this.a13,u=this.a21,f=this.a22,g=this.a23,m=this.a31,C=this.a32,b=this.a33,N=e.length;for(let U=0;U<N;U++){const v=e[U],L=t[U],F=o*v+g*L+b;e[U]=(n*v+u*L+m)/F,t[U]=(s*v+f*L+C)/F}}static squareToQuadrilateral(e,t,n,s,o,u,f,g){const m=e-n+o-f,C=t-s+u-g;if(m===0&&C===0)return new Un(n-e,o-n,e,s-t,u-s,t,0,0,1);{const b=n-o,N=f-o,U=s-u,v=g-u,L=b*v-N*U,F=(m*v-N*C)/L,Y=(b*C-m*U)/L;return new Un(n-e+F*n,f-e+Y*f,e,s-t+F*s,g-t+Y*g,t,F,Y,1)}}static quadrilateralToSquare(e,t,n,s,o,u,f,g){return Un.squareToQuadrilateral(e,t,n,s,o,u,f,g).buildAdjoint()}buildAdjoint(){return new Un(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Un(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class kr extends Sr{sampleGrid(e,t,n,s,o,u,f,g,m,C,b,N,U,v,L,F,Y,le,fe){const de=Un.quadrilateralToQuadrilateral(s,o,u,f,g,m,C,b,N,U,v,L,F,Y,le,fe);return this.sampleGridWithTransform(e,t,n,de)}sampleGridWithTransform(e,t,n,s){if(t<=0||n<=0)throw new B;const o=new V(t,n),u=new Float32Array(2*t);for(let f=0;f<n;f++){const g=u.length,m=f+.5;for(let C=0;C<g;C+=2)u[C]=C/2+.5,u[C+1]=m;s.transformPoints(u),Sr.checkAndNudgePoints(e,u);try{for(let C=0;C<g;C+=2)e.get(Math.floor(u[C]),Math.floor(u[C+1]))&&o.set(C/2,f)}catch{throw new B}}return o}}class On{static setGridSampler(e){On.gridSampler=e}static getInstance(){return On.gridSampler}}On.gridSampler=new kr;class en{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new Ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class gi{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let u=n[0];n[0]=n[2],n[2]=u}this.extractParameters(n);let s=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Fr(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new B;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let s=0;for(let u=0;u<4;u++){let f=n[(this.shift+u)%4];this.compact?(s<<=7,s+=f>>1&127):(s<<=10,s+=(f>>2&992)+(f>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,t){let n=0;e.forEach((s,o,u)=>{let f=(s>>t-2<<1)+(s&1);n=(n<<3)+f}),n=((n&1)<<11)+(n>>1);for(let s=0;s<4;s++)if(te.bitCount(n^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new B}getCorrectedParameterData(e,t){let n,s;t?(n=7,s=2):(n=10,s=4);let o=n-s,u=new Int32Array(n);for(let g=n-1;g>=0;--g)u[g]=e&15,e>>=4;try{new Qr(ft.AZTEC_PARAM).decode(u,o)}catch{throw new B}let f=0;for(let g=0;g<s;g++)f=(f<<4)+u[g];return f}getBullsEyeCorners(e){let t=e,n=e,s=e,o=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(t,u,1,-1),N=this.getFirstDifferent(n,u,1,1),U=this.getFirstDifferent(s,u,-1,1),v=this.getFirstDifferent(o,u,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(v,b)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(b,N,U,v))break}t=b,n=N,s=U,o=v,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new B;this.compact=this.nbCenterLayers===5;let f=new Ne(t.getX()+.5,t.getY()-.5),g=new Ne(n.getX()+.5,n.getY()+.5),m=new Ne(s.getX()-.5,s.getY()+.5),C=new Ne(o.getX()-.5,o.getY()-.5);return this.expandSquare([f,g,m,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,s;try{let f=new nr(this.image).detect();e=f[0],t=f[1],n=f[2],s=f[3]}catch{let g=this.image.getWidth()/2,m=this.image.getHeight()/2;e=this.getFirstDifferent(new en(g+7,m-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new en(g+7,m+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new en(g-7,m+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new en(g-7,m-7),!1,-1,-1).toResultPoint()}let o=ht.round((e.getX()+s.getX()+t.getX()+n.getX())/4),u=ht.round((e.getY()+s.getY()+t.getY()+n.getY())/4);try{let f=new nr(this.image,15,o,u).detect();e=f[0],t=f[1],n=f[2],s=f[3]}catch{e=this.getFirstDifferent(new en(o+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new en(o+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new en(o-7,u+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new en(o-7,u-7),!1,-1,-1).toResultPoint()}return o=ht.round((e.getX()+s.getX()+t.getX()+n.getX())/4),u=ht.round((e.getY()+s.getY()+t.getY()+n.getY())/4),new en(o,u)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,s,o){let u=On.getInstance(),f=this.getDimension(),g=f/2-this.nbCenterLayers,m=f/2+this.nbCenterLayers;return u.sampleGrid(e,f,f,g,g,m,g,m,m,g,m,t.getX(),t.getY(),n.getX(),n.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,t,n){let s=0,o=this.distanceResultPoint(e,t),u=o/n,f=e.getX(),g=e.getY(),m=u*(t.getX()-e.getX())/o,C=u*(t.getY()-e.getY())/o;for(let b=0;b<n;b++)this.image.get(ht.round(f+b*m),ht.round(g+b*C))&&(s|=1<<n-b-1);return s}isWhiteOrBlackRectangle(e,t,n,s){let o=3;e=new en(e.getX()-o,e.getY()+o),t=new en(t.getX()-o,t.getY()-o),n=new en(n.getX()+o,n.getY()-o),s=new en(s.getX()+o,s.getY()+o);let u=this.getColor(s,e);if(u===0)return!1;let f=this.getColor(e,t);return f!==u||(f=this.getColor(t,n),f!==u)?!1:(f=this.getColor(n,s),f===u)}getColor(e,t){let n=this.distancePoint(e,t),s=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,u=0,f=e.getX(),g=e.getY(),m=this.image.get(e.getX(),e.getY()),C=Math.ceil(n);for(let N=0;N<C;N++)f+=s,g+=o,this.image.get(ht.round(f),ht.round(g))!==m&&u++;let b=u/n;return b>.1&&b<.9?0:b<=.1===m?1:-1}getFirstDifferent(e,t,n,s){let o=e.getX()+n,u=e.getY()+s;for(;this.isValid(o,u)&&this.image.get(o,u)===t;)o+=n,u+=s;for(o-=n,u-=s;this.isValid(o,u)&&this.image.get(o,u)===t;)o+=n;for(o-=n;this.isValid(o,u)&&this.image.get(o,u)===t;)u+=s;return u-=s,new en(o,u)}expandSquare(e,t,n){let s=n/(2*t),o=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),f=(e[0].getX()+e[2].getX())/2,g=(e[0].getY()+e[2].getY())/2,m=new Ne(f+s*o,g+s*u),C=new Ne(f-s*o,g-s*u);o=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),f=(e[1].getX()+e[3].getX())/2,g=(e[1].getY()+e[3].getY())/2;let b=new Ne(f+s*o,g+s*u),N=new Ne(f-s*o,g-s*u);return[m,b,C,N]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ht.round(e.getX()),n=ht.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return ht.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ht.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(te.truncDivision(this.nbLayers-4,8)+1)+15}}class dr{decode(e,t=null){let n=null,s=new gi(e.getBlackMatrix()),o=null,u=null;try{let C=s.detectMirror(!1);o=C.getPoints(),this.reportFoundResultPoints(t,o),u=new Nt().decode(C)}catch(C){n=C}if(u==null)try{let C=s.detectMirror(!0);o=C.getPoints(),this.reportFoundResultPoints(t,o),u=new Nt().decode(C)}catch(C){throw n??C}let f=new Ye(u.getText(),u.getRawBytes(),u.getNumBits(),o,Oe.AZTEC,W.currentTimeMillis()),g=u.getByteSegments();g!=null&&f.putMetadata(Ve.BYTE_SEGMENTS,g);let m=u.getECLevel();return m!=null&&f.putMetadata(Ve.ERROR_CORRECTION_LEVEL,m),f}reportFoundResultPoints(e,t){if(e!=null){let n=e.get(Fe.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((s,o,u)=>{n.foundPossibleResultPoint(s)})}}reset(){}}class Ur extends lt{constructor(e=500){super(new dr,e)}}class Ut{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(Fe.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),u=this.doDecode(o,t),f=u.getResultMetadata();let g=270;f!==null&&f.get(Ve.ORIENTATION)===!0&&(g=g+f.get(Ve.ORIENTATION)%360),u.putMetadata(Ve.ORIENTATION,g);const m=u.getResultPoints();if(m!==null){const C=o.getHeight();for(let b=0;b<m.length;b++)m[b]=new Ne(C-m[b].getY()-1,m[b].getX())}return u}else throw new B}}reset(){}doDecode(e,t){const n=e.getWidth(),s=e.getHeight();let o=new Ae(n);const u=t&&t.get(Fe.TRY_HARDER)===!0,f=Math.max(1,s>>(u?8:5));let g;u?g=s:g=15;const m=Math.trunc(s/2);for(let C=0;C<g;C++){const b=Math.trunc((C+1)/2),N=(C&1)===0,U=m+f*(N?b:-b);if(U<0||U>=s)break;try{o=e.getBlackRow(U,o)}catch{continue}for(let v=0;v<2;v++){if(v===1&&(o.reverse(),t&&t.get(Fe.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;t.forEach((F,Y)=>L.set(Y,F)),L.delete(Fe.NEED_RESULT_POINT_CALLBACK),t=L}try{const L=this.decodeRow(U,o,t);if(v===1){L.putMetadata(Ve.ORIENTATION,180);const F=L.getResultPoints();F!==null&&(F[0]=new Ne(n-F[0].getX()-1,F[0].getY()),F[1]=new Ne(n-F[1].getX()-1,F[1].getY()))}return L}catch{}}}throw new B}static recordPattern(e,t,n){const s=n.length;for(let m=0;m<s;m++)n[m]=0;const o=e.getSize();if(t>=o)throw new B;let u=!e.get(t),f=0,g=t;for(;g<o;){if(e.get(g)!==u)n[f]++;else{if(++f===s)break;n[f]=1,u=!u}g++}if(!(f===s||f===s-1&&g===o))throw new B}static recordPatternInReverse(e,t,n){let s=n.length,o=e.get(t);for(;t>0&&s>=0;)e.get(--t)!==o&&(s--,o=!o);if(s>=0)throw new B;Ut.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const s=e.length;let o=0,u=0;for(let m=0;m<s;m++)o+=e[m],u+=t[m];if(o<u)return Number.POSITIVE_INFINITY;const f=o/u;n*=f;let g=0;for(let m=0;m<s;m++){const C=e[m],b=t[m]*f,N=C>b?C-b:b-C;if(N>n)return Number.POSITIVE_INFINITY;g+=N}return g/o}}class Se extends Ut{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),u=n,f=!1;const g=6;for(let m=n;m<t;m++)if(e.get(m)!==f)o[s]++;else{if(s===g-1){let C=Se.MAX_AVG_VARIANCE,b=-1;for(let N=Se.CODE_START_A;N<=Se.CODE_START_C;N++){const U=Ut.patternMatchVariance(o,Se.CODE_PATTERNS[N],Se.MAX_INDIVIDUAL_VARIANCE);U<C&&(C=U,b=N)}if(b>=0&&e.isRange(Math.max(0,u-(m-u)/2),u,!1))return Int32Array.from([u,m,b]);u+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,f=!f}throw new B}static decodeCode(e,t,n){Ut.recordPattern(e,n,t);let s=Se.MAX_AVG_VARIANCE,o=-1;for(let u=0;u<Se.CODE_PATTERNS.length;u++){const f=Se.CODE_PATTERNS[u],g=this.patternMatchVariance(t,f,Se.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,o=u)}if(o>=0)return o;throw new B}decodeRow(e,t,n){const s=n&&n.get(Fe.ASSUME_GS1)===!0,o=Se.findStartPattern(t),u=o[2];let f=0;const g=new Uint8Array(20);g[f++]=u;let m;switch(u){case Se.CODE_START_A:m=Se.CODE_CODE_A;break;case Se.CODE_START_B:m=Se.CODE_CODE_B;break;case Se.CODE_START_C:m=Se.CODE_CODE_C;break;default:throw new me}let C=!1,b=!1,N="",U=o[0],v=o[1];const L=Int32Array.from([0,0,0,0,0,0]);let F=0,Y=0,le=u,fe=0,de=!0,ke=!1,tt=!1;for(;!C;){const wt=b;switch(b=!1,F=Y,Y=Se.decodeCode(t,L,v),g[f++]=Y,Y!==Se.CODE_STOP&&(de=!0),Y!==Se.CODE_STOP&&(fe++,le+=fe*Y),U=v,v+=L.reduce((Ja,Bo)=>Ja+Bo,0),Y){case Se.CODE_START_A:case Se.CODE_START_B:case Se.CODE_START_C:throw new me}switch(m){case Se.CODE_CODE_A:if(Y<64)tt===ke?N+=String.fromCharCode(" ".charCodeAt(0)+Y):N+=String.fromCharCode(" ".charCodeAt(0)+Y+128),tt=!1;else if(Y<96)tt===ke?N+=String.fromCharCode(Y-64):N+=String.fromCharCode(Y+64),tt=!1;else switch(Y!==Se.CODE_STOP&&(de=!1),Y){case Se.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+=String.fromCharCode(29));break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_A:!ke&&tt?(ke=!0,tt=!1):ke&&tt?(ke=!1,tt=!1):tt=!0;break;case Se.CODE_SHIFT:b=!0,m=Se.CODE_CODE_B;break;case Se.CODE_CODE_B:m=Se.CODE_CODE_B;break;case Se.CODE_CODE_C:m=Se.CODE_CODE_C;break;case Se.CODE_STOP:C=!0;break}break;case Se.CODE_CODE_B:if(Y<96)tt===ke?N+=String.fromCharCode(" ".charCodeAt(0)+Y):N+=String.fromCharCode(" ".charCodeAt(0)+Y+128),tt=!1;else switch(Y!==Se.CODE_STOP&&(de=!1),Y){case Se.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+=String.fromCharCode(29));break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_B:!ke&&tt?(ke=!0,tt=!1):ke&&tt?(ke=!1,tt=!1):tt=!0;break;case Se.CODE_SHIFT:b=!0,m=Se.CODE_CODE_A;break;case Se.CODE_CODE_A:m=Se.CODE_CODE_A;break;case Se.CODE_CODE_C:m=Se.CODE_CODE_C;break;case Se.CODE_STOP:C=!0;break}break;case Se.CODE_CODE_C:if(Y<100)Y<10&&(N+="0"),N+=Y;else switch(Y!==Se.CODE_STOP&&(de=!1),Y){case Se.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+=String.fromCharCode(29));break;case Se.CODE_CODE_A:m=Se.CODE_CODE_A;break;case Se.CODE_CODE_B:m=Se.CODE_CODE_B;break;case Se.CODE_STOP:C=!0;break}break}wt&&(m=m===Se.CODE_CODE_A?Se.CODE_CODE_B:Se.CODE_CODE_A)}const Pn=v-U;if(v=t.getNextUnset(v),!t.isRange(v,Math.min(t.getSize(),v+(v-U)/2),!1))throw new B;if(le-=fe*F,le%103!==F)throw new H;const Jt=N.length;if(Jt===0)throw new B;Jt>0&&de&&(m===Se.CODE_CODE_C?N=N.substring(0,Jt-2):N=N.substring(0,Jt-1));const En=(o[1]+o[0])/2,Ft=U+Pn/2,$t=g.length,vn=new Uint8Array($t);for(let wt=0;wt<$t;wt++)vn[wt]=g[wt];const Nr=[new Ne(En,e),new Ne(Ft,e)];return new Ye(N,vn,0,Nr,Oe.CODE_128,new Date().getTime())}}Se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Se.MAX_AVG_VARIANCE=.25,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.CODE_SHIFT=98,Se.CODE_CODE_C=99,Se.CODE_CODE_B=100,Se.CODE_CODE_A=101,Se.CODE_FNC_1=102,Se.CODE_FNC_2=97,Se.CODE_FNC_3=96,Se.CODE_FNC_4_A=101,Se.CODE_FNC_4_B=100,Se.CODE_START_A=103,Se.CODE_START_B=104,Se.CODE_START_C=105,Se.CODE_STOP=106;class Gt extends Ut{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Gt.findAsteriskPattern(t,s),u=t.getNextSet(o[1]),f=t.getSize(),g,m;do{Gt.recordPattern(t,u,s);let L=Gt.toNarrowWidePattern(s);if(L<0)throw new B;g=Gt.patternToChar(L),this.decodeRowResult+=g,m=u;for(let F of s)u+=F;u=t.getNextSet(u)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let L of s)C+=L;let b=u-m-C;if(u!==f&&b*2<C)throw new B;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,F=0;for(let Y=0;Y<L;Y++)F+=Gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(L)!==Gt.ALPHABET_STRING.charAt(F%43))throw new H;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new B;let N;this.extendedMode?N=Gt.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let U=(o[1]+o[0])/2,v=m+C/2;return new Ye(N,null,0,[new Ne(U,e),new Ne(v,e)],Oe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),s=e.getNextSet(0),o=0,u=s,f=!1,g=t.length;for(let m=s;m<n;m++)if(e.get(m)!==f)t[o]++;else{if(o===g-1){if(this.toNarrowWidePattern(t)===Gt.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((m-u)/2)),u,!1))return[u,m];u+=t[0]+t[1],t.copyWithin(0,2,2+o-1),t[o-1]=0,t[o]=0,o--}else o++;t[o]=1,f=!f}throw new B}static toNarrowWidePattern(e){let t=e.length,n=0,s;do{let o=2147483647;for(let g of e)g<o&&g>n&&(o=g);n=o,s=0;let u=0,f=0;for(let g=0;g<t;g++){let m=e[g];m>n&&(f|=1<<t-1-g,s++,u+=m)}if(s===3){for(let g=0;g<t&&s>0;g++){let m=e[g];if(m>n&&(s--,m*2>=u))return-1}return f}}while(s>3);return-1}static patternToChar(e){for(let t=0;t<Gt.CHARACTER_ENCODINGS.length;t++)if(Gt.CHARACTER_ENCODINGS[t]===e)return Gt.ALPHABET_STRING.charAt(t);if(e===Gt.ASTERISK_ENCODING)return"*";throw new B}static decodeExtended(e){let t=e.length,n="";for(let s=0;s<t;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let u=e.charAt(s+1),f="\0";switch(o){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new me;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new me;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new me;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new me;break}n+=f,s++}else n+=o}return n}}Gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Gt.ASTERISK_ENCODING=148;class It extends Ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let s=this.decodeStart(t),o=this.decodeEnd(t),u=new D;It.decodeMiddle(t,s[1],o[0],u);let f=u.toString(),g=null;n!=null&&(g=n.get(Fe.ALLOWED_LENGTHS)),g==null&&(g=It.DEFAULT_ALLOWED_LENGTHS);let m=f.length,C=!1,b=0;for(let v of g){if(m===v){C=!0;break}v>b&&(b=v)}if(!C&&m>b&&(C=!0),!C)throw new me;const N=[new Ne(s[1],e),new Ne(o[0],e)];return new Ye(f,null,0,N,Oe.ITF,new Date().getTime())}static decodeMiddle(e,t,n,s){let o=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(o.fill(0),u.fill(0),f.fill(0);t<n;){Ut.recordPattern(e,t,o);for(let m=0;m<5;m++){let C=2*m;u[m]=o[C],f[m]=o[C+1]}let g=It.decodeDigit(u);s.append(g.toString()),g=this.decodeDigit(f),s.append(g.toString()),o.forEach(function(m){t+=m})}}decodeStart(e){let t=It.skipWhiteSpace(e),n=It.findGuardPattern(e,t,It.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=this.narrowLineWidth*10;n=n<t?n:t;for(let s=t-1;n>0&&s>=0&&!e.get(s);s--)n--;if(n!==0)throw new B}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new B;return n}decodeEnd(e){e.reverse();try{let t=It.skipWhiteSpace(e),n;try{n=It.findGuardPattern(e,t,It.END_PATTERN_REVERSED[0])}catch(o){o instanceof B&&(n=It.findGuardPattern(e,t,It.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let s=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-s,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let s=n.length,o=new Int32Array(s),u=e.getSize(),f=!1,g=0,m=t;o.fill(0);for(let C=t;C<u;C++)if(e.get(C)!==f)o[g]++;else{if(g===s-1){if(Ut.patternMatchVariance(o,n,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return[m,C];m+=o[0]+o[1],W.arraycopy(o,2,o,0,g-1),o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,f=!f}throw new B}static decodeDigit(e){let t=It.MAX_AVG_VARIANCE,n=-1,s=It.PATTERNS.length;for(let o=0;o<s;o++){let u=It.PATTERNS[o],f=Ut.patternMatchVariance(e,u,It.MAX_INDIVIDUAL_VARIANCE);f<t?(t=f,n=o):f===t&&(n=-1)}if(n>=0)return n%10;throw new B}}It.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],It.MAX_AVG_VARIANCE=.38,It.MAX_INDIVIDUAL_VARIANCE=.5,It.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],It.START_PATTERN=Int32Array.from([1,1,1,1]),It.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Lt extends Ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,n,s=0,o=Int32Array.from([0,0,0]);for(;!t;){o=Int32Array.from([0,0,0]),n=Lt.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let u=n[0];s=n[1];let f=u-(s-u);f>=0&&(t=e.isRange(f,u,!1))}return n}static checkChecksum(e){return Lt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return Lt.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let s=t-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new me;n+=o}n*=3;for(let s=t-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new me;n+=o}return(1e3-n)%10}static decodeEnd(e,t){return Lt.findGuardPattern(e,t,!1,Lt.START_END_PATTERN,new Int32Array(Lt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,s){return this.findGuardPattern(e,t,n,s,new Int32Array(s.length))}static findGuardPattern(e,t,n,s,o){let u=e.getSize();t=n?e.getNextUnset(t):e.getNextSet(t);let f=0,g=t,m=s.length,C=n;for(let b=t;b<u;b++)if(e.get(b)!==C)o[f]++;else{if(f===m-1){if(Ut.patternMatchVariance(o,s,Lt.MAX_INDIVIDUAL_VARIANCE)<Lt.MAX_AVG_VARIANCE)return Int32Array.from([g,b]);g+=o[0]+o[1];let N=o.slice(2,o.length-1);for(let U=0;U<f-1;U++)o[U]=N[U];o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,C=!C}throw new B}static decodeDigit(e,t,n,s){this.recordPattern(e,n,t);let o=this.MAX_AVG_VARIANCE,u=-1,f=s.length;for(let g=0;g<f;g++){let m=s[g],C=Ut.patternMatchVariance(t,m,Lt.MAX_INDIVIDUAL_VARIANCE);C<o&&(o=C,u=g)}if(u>=0)return u;throw new B}}Lt.MAX_AVG_VARIANCE=.48,Lt.MAX_INDIVIDUAL_VARIANCE=.7,Lt.START_END_PATTERN=Int32Array.from([1,1,1]),Lt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Lt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Lt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Hr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,s),u=s.toString(),f=Hr.parseExtensionString(u),g=[new Ne((n[0]+n[1])/2,e),new Ne(o,e)],m=new Ye(u,null,0,g,Oe.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(e,t,n){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),u=t[1],f=0;for(let m=0;m<5&&u<o;m++){let C=Lt.decodeDigit(e,s,u,Lt.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let b of s)u+=b;C>=10&&(f|=1<<4-m),m!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new B;let g=this.determineCheckDigit(f);if(Hr.extensionChecksum(n.toString())!==g)throw new B;return u}static extensionChecksum(e){let t=e.length,n=0;for(let s=t-2;s>=0;s-=2)n+=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let s=t-1;s>=0;s-=2)n+=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new B}static parseExtensionString(e){if(e.length!==5)return null;let t=Hr.parseExtension5String(e);return t==null?null:new Map([[Ve.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let n=parseInt(e.substring(1)),s=(n/100).toString(),o=n%100,u=o<10?"0"+o:o.toString();return t+s+"."+u}}class Di{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,s),u=s.toString(),f=Di.parseExtensionString(u),g=[new Ne((n[0]+n[1])/2,e),new Ne(o,e)],m=new Ye(u,null,0,g,Oe.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(e,t,n){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),u=t[1],f=0;for(let g=0;g<2&&u<o;g++){let m=Lt.decodeDigit(e,s,u,Lt.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+m%10);for(let C of s)u+=C;m>=10&&(f|=1<<1-g),g!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new B;if(parseInt(n.toString())%4!==f)throw new B;return u}static parseExtensionString(e){return e.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(e)]])}}class as{static decodeRow(e,t,n){let s=Lt.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Hr().decodeRow(e,t,s)}catch{return new Di().decodeRow(e,t,s)}}}as.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class mt extends Lt{constructor(){super(),this.decodeRowStringBuffer="",mt.L_AND_G_PATTERNS=mt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=mt.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let s=0;s<t.length;s++)n[s]=t[t.length-s-1];mt.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let s=mt.findStartGuardPattern(t),o=n==null?null:n.get(Fe.NEED_RESULT_POINT_CALLBACK);if(o!=null){const de=new Ne((s[0]+s[1])/2,e);o.foundPossibleResultPoint(de)}let u=this.decodeMiddle(t,s,this.decodeRowStringBuffer),f=u.rowOffset,g=u.resultString;if(o!=null){const de=new Ne(f,e);o.foundPossibleResultPoint(de)}let m=this.decodeEnd(t,f);if(o!=null){const de=new Ne((m[0]+m[1])/2,e);o.foundPossibleResultPoint(de)}let C=m[1],b=C+(C-m[0]);if(b>=t.getSize()||!t.isRange(C,b,!1))throw new B;let N=g.toString();if(N.length<8)throw new me;if(!mt.checkChecksum(N))throw new H;let U=(s[1]+s[0])/2,v=(m[1]+m[0])/2,L=this.getBarcodeFormat(),F=[new Ne(U,e),new Ne(v,e)],Y=new Ye(N,null,0,F,L,new Date().getTime()),le=0;try{let de=as.decodeRow(e,t,m[1]);Y.putMetadata(Ve.UPC_EAN_EXTENSION,de.getText()),Y.putAllMetadata(de.getResultMetadata()),Y.addResultPoints(de.getResultPoints()),le=de.getText().length}catch{}let fe=n==null?null:n.get(Fe.ALLOWED_EAN_EXTENSIONS);if(fe!=null){let de=!1;for(let ke in fe)if(le.toString()===ke){de=!0;break}if(!de)throw new B}return Y}decodeEnd(e,t){return mt.findGuardPattern(e,t,!1,mt.START_END_PATTERN,new Int32Array(mt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return mt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return mt.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let s=t-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new me;n+=o}n*=3;for(let s=t-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new me;n+=o}return(1e3-n)%10}}class gr extends mt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),u=t[1],f=0;for(let m=0;m<6&&u<o;m++){let C=mt.decodeDigit(e,s,u,mt.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let b of s)u+=b;C>=10&&(f|=1<<5-m)}n=gr.determineFirstDigit(n,f),u=mt.findGuardPattern(e,u,!0,mt.MIDDLE_PATTERN,new Int32Array(mt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<6&&u<o;m++){let C=mt.decodeDigit(e,s,u,mt.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+C);for(let b of s)u+=b}return{rowOffset:u,resultString:n}}getBarcodeFormat(){return Oe.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e,e;throw new B}}gr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class vr extends mt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),u=t[1];for(let g=0;g<4&&u<o;g++){let m=mt.decodeDigit(e,s,u,mt.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+m);for(let C of s)u+=C}u=mt.findGuardPattern(e,u,!0,mt.MIDDLE_PATTERN,new Int32Array(mt.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&u<o;g++){let m=mt.decodeDigit(e,s,u,mt.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+m);for(let C of s)u+=C}return{rowOffset:u,resultString:n}}getBarcodeFormat(){return Oe.EAN_8}}class se extends mt{constructor(){super(...arguments),this.ean13Reader=new gr}getBarcodeFormat(){return Oe.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let n=new Ye(t.substring(1),null,null,e.getResultPoints(),Oe.UPC_A);return e.getResultMetadata()!=null&&n.putAllMetadata(e.getResultMetadata()),n}else throw new B}reset(){this.ean13Reader.reset()}}class K extends mt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const s=this.decodeMiddleCounters.map(m=>m);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let u=t[1],f=0;for(let m=0;m<6&&u<o;m++){const C=K.decodeDigit(e,s,u,K.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let b of s)u+=b;C>=10&&(f|=1<<5-m)}let g=K.determineNumSysAndCheckDigit(n,f);return{rowOffset:u,resultString:g}}decodeEnd(e,t){return K.findGuardPatternWithoutCounters(e,t,!0,K.MIDDLE_END_PATTERN)}checkChecksum(e){return mt.checkChecksum(K.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let s=0;s<10;s++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][s]){let o=String.fromCharCode("0".charCodeAt(0)+n),u=String.fromCharCode("0".charCodeAt(0)+s);return o+e+u}throw B.getNotFoundInstance()}getBarcodeFormat(){return Oe.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),n=new D;n.append(e.charAt(0));let s=t[5];switch(s){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(s),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(s);break}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}K.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),K.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class oe extends Ut{constructor(e){super();let t=e==null?null:e.get(Fe.POSSIBLE_FORMATS),n=[];h(t)?(n.push(new gr),n.push(new se),n.push(new vr),n.push(new K)):(t.indexOf(Oe.EAN_13)>-1&&n.push(new gr),t.indexOf(Oe.UPC_A)>-1&&n.push(new se),t.indexOf(Oe.EAN_8)>-1&&n.push(new vr),t.indexOf(Oe.UPC_E)>-1&&n.push(new K)),this.readers=n}decodeRow(e,t,n){for(let s of this.readers)try{const o=s.decodeRow(e,t,n),u=o.getBarcodeFormat()===Oe.EAN_13&&o.getText().charAt(0)==="0",f=n==null?null:n.get(Fe.POSSIBLE_FORMATS),g=f==null||f.includes(Oe.UPC_A);if(u&&g){const m=o.getRawBytes(),C=new Ye(o.getText().substring(1),m,m?m.length:null,o.getResultPoints(),Oe.UPC_A);return C.putAllMetadata(o.getResultMetadata()),C}return o}catch{}throw new B}reset(){for(let e of this.readers)e.reset()}}class ue extends Ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(Ut.patternMatchVariance(e,t[n],ue.MAX_INDIVIDUAL_VARIANCE)<ue.MAX_AVG_VARIANCE)return n;throw new B}static count(e){return ht.sum(new Int32Array(e))}static increment(e,t){let n=0,s=t[0];for(let o=1;o<e.length;o++)t[o]>s&&(s=t[o],n=o);e[n]++}static decrement(e,t){let n=0,s=t[0];for(let o=1;o<e.length;o++)t[o]<s&&(s=t[o],n=o);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t+e[2]+e[3],s=t/n;if(s>=ue.MIN_FINDER_PATTERN_RATIO&&s<=ue.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let f of e)f>u&&(u=f),f<o&&(o=f);return u<10*o}return!1}}ue.MAX_AVG_VARIANCE=.2,ue.MAX_INDIVIDUAL_VARIANCE=.45,ue.MIN_FINDER_PATTERN_RATIO=9.5/12,ue.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ee{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Ee))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ye{constructor(e,t,n,s,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Ne(n,o)),this.resultPoints.push(new Ne(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ye))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class be{constructor(){}static getRSSvalue(e,t,n){let s=0;for(let g of e)s+=g;let o=0,u=0,f=e.length;for(let g=0;g<f-1;g++){let m;for(m=1,u|=1<<g;m<e[g];m++,u&=~(1<<g)){let C=be.combins(s-m-1,f-g-2);if(n&&u===0&&s-m-(f-g-1)>=f-g-1&&(C-=be.combins(s-m-(f-g),f-g-2)),f-g-1>1){let b=0;for(let N=s-m-(f-g-2);N>t;N--)b+=be.combins(s-m-N-1,f-g-3);C-=b*(f-1-g)}else s-m>t&&C--;o+=C}s-=m}return o}static combins(e,t){let n,s;e-t>t?(s=t,n=e-t):(s=e-t,n=t);let o=1,u=1;for(let f=e;f>n;f--)o*=f,u<=s&&(o/=u,u++);for(;u<=s;)o/=u,u++;return o}}class Re{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let n=12*t,s=new Ae(n),o=0,f=e[0].getRightChar().getValue();for(let g=11;g>=0;--g)f&1<<g&&s.set(o),o++;for(let g=1;g<e.length;++g){let m=e[g],C=m.getLeftChar().getValue();for(let b=11;b>=0;--b)C&1<<b&&s.set(o),o++;if(m.getRightChar()!=null){let b=m.getRightChar().getValue();for(let N=11;N>=0;--N)b&1<<N&&s.set(o),o++}}return s}}class De{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ue{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Be extends Ue{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Be.FNC1}}Be.FNC1="$";class Je extends Ue{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $e extends Ue{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new me;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$e.FNC1}isSecondDigitFNC1(){return this.secondDigit===$e.FNC1}isAnyFNC1(){return this.firstDigit===$e.FNC1||this.secondDigit===$e.FNC1}}$e.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new B;let t=e.substring(0,2);for(let o of Ie.TWO_DIGIT_DATA_LENGTH)if(o[0]===t)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,o[2],e):Ie.processFixedAI(2,o[1],e);if(e.length<3)throw new B;let n=e.substring(0,3);for(let o of Ie.THREE_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,o[2],e):Ie.processFixedAI(3,o[1],e);for(let o of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,o[2],e):Ie.processFixedAI(4,o[1],e);if(e.length<4)throw new B;let s=e.substring(0,4);for(let o of Ie.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,o[2],e):Ie.processFixedAI(4,o[1],e);throw new B}static processFixedAI(e,t,n){if(n.length<e)throw new B;let s=n.substring(0,e);if(n.length<e+t)throw new B;let o=n.substring(e,e+t),u=n.substring(e+t),f="("+s+")"+o,g=Ie.parseFieldsInGeneralPurpose(u);return g==null?f:f+g}static processVariableAI(e,t,n){let s=n.substring(0,e),o;n.length<e+t?o=n.length:o=e+t;let u=n.substring(e,o),f=n.substring(o),g="("+s+")"+u,m=Ie.parseFieldsInGeneralPurpose(f);return m==null?g:g+m}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class Ht{constructor(e){this.buffer=new D,this.information=e}decodeAllCodes(e,t){let n=t,s=null;do{let o=this.decodeGeneralPurposeField(n,s),u=Ie.parseFieldsInGeneralPurpose(o.getNewString());if(u!=null&&e.append(u),o.isRemaining()?s=""+o.getRemainingValue():s=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new $e(this.information.getSize(),$e.FNC1,$e.FNC1):new $e(this.information.getSize(),o-1,$e.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),n=(t-8)/11,s=(t-8)%11;return new $e(e+7,n,s)}extractNumericValueFromBitArray(e,t){return Ht.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let s=0;for(let o=0;o<n;++o)e.get(t+o)&&(s|=1<<n-o-1);return s}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new Je(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Je(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Je(this.current.getPosition(),this.buffer.toString()):t=new Je(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new De(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Je(this.current.getPosition(),this.buffer.toString());return new De(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new De(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Je(this.current.getPosition(),this.buffer.toString());return new De(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new De(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Je(this.current.getPosition(),this.buffer.toString());return new De(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new De(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Be(e+5,Be.FNC1);if(t>=5&&t<15)return new Be(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Be(e+7,""+(n+1));if(n>=90&&n<116)return new Be(e+7,""+(n+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new me}return new Be(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Be(e+5,Be.FNC1);if(t>=5&&t<15)return new Be(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Be(e+6,""+(n+33));let s;switch(n){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Cn("Decoding invalid alphanumeric value: "+n)}return new Be(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class yn{constructor(e){this.information=e,this.generalDecoder=new Ht(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Zt extends yn{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}Zt.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let s=0;s<13;s++){let o=e.charAt(s+t).charCodeAt(0)-"0".charCodeAt(0);n+=s&1?o:3*o}n=10-n%10,n===10&&(n=0),e.append(n)}}Zt.GTIN_SIZE=40;class In extends Zt{constructor(e){super(e)}parseInformation(){let e=new D;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,In.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,In.HEADER_SIZE+44)}}In.HEADER_SIZE=1+1+2;class Kn extends yn{constructor(e){super(e)}parseInformation(){let e=new D;return this.getGeneralDecoder().decodeAllCodes(e,Kn.HEADER_SIZE)}}Kn.HEADER_SIZE=2+1+2;class Zn extends Zt{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,s);let o=this.checkWeight(s),u=1e5;for(let f=0;f<5;++f)o/u===0&&e.append("0"),u/=10;e.append(o)}}class Nn extends Zn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Nn.HEADER_SIZE+Zn.GTIN_SIZE+Nn.WEIGHT_SIZE)throw new B;let e=new D;return this.encodeCompressedGtin(e,Nn.HEADER_SIZE),this.encodeCompressedWeight(e,Nn.HEADER_SIZE+Zn.GTIN_SIZE,Nn.WEIGHT_SIZE),e.toString()}}Nn.HEADER_SIZE=4+1,Nn.WEIGHT_SIZE=15;class Ds extends Nn{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Li extends Nn{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Yt extends Zt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Yt.HEADER_SIZE+Zt.GTIN_SIZE)throw new B;let e=new D;this.encodeCompressedGtin(e,Yt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Yt.HEADER_SIZE+Zt.GTIN_SIZE,Yt.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(Yt.HEADER_SIZE+Zt.GTIN_SIZE+Yt.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}Yt.HEADER_SIZE=5+1+2,Yt.LAST_DIGIT_SIZE=2;class Vt extends Zt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Vt.HEADER_SIZE+Zt.GTIN_SIZE)throw new B;let e=new D;this.encodeCompressedGtin(e,Vt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Zt.GTIN_SIZE,Vt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Zt.GTIN_SIZE+Vt.LAST_DIGIT_SIZE,Vt.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Vt.HEADER_SIZE+Zt.GTIN_SIZE+Vt.LAST_DIGIT_SIZE+Vt.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}Vt.HEADER_SIZE=5+1+2,Vt.LAST_DIGIT_SIZE=2,Vt.FIRST_THREE_DIGITS_SIZE=10;class ct extends Zn{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=ct.HEADER_SIZE+ct.GTIN_SIZE+ct.WEIGHT_SIZE+ct.DATE_SIZE)throw new B;let e=new D;return this.encodeCompressedGtin(e,ct.HEADER_SIZE),this.encodeCompressedWeight(e,ct.HEADER_SIZE+ct.GTIN_SIZE,ct.WEIGHT_SIZE),this.encodeCompressedDate(e,ct.HEADER_SIZE+ct.GTIN_SIZE+ct.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,ct.DATE_SIZE);if(n==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=n%32;n/=32;let o=n%12+1;n/=12;let u=n;u/10==0&&e.append("0"),e.append(u),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}ct.HEADER_SIZE=7+1,ct.WEIGHT_SIZE=20,ct.DATE_SIZE=16;function Bi(y){try{if(y.get(1))return new In(y);if(!y.get(2))return new Kn(y);switch(Ht.extractNumericValueFromBitArray(y,1,4)){case 4:return new Ds(y);case 5:return new Li(y)}switch(Ht.extractNumericValueFromBitArray(y,1,5)){case 12:return new Yt(y);case 13:return new Vt(y)}switch(Ht.extractNumericValueFromBitArray(y,1,7)){case 56:return new ct(y,"310","11");case 57:return new ct(y,"320","11");case 58:return new ct(y,"310","13");case 59:return new ct(y,"320","13");case 60:return new ct(y,"310","15");case 61:return new ct(y,"320","15");case 62:return new ct(y,"310","17");case 63:return new ct(y,"320","17")}}catch(e){throw console.log(e),new Cn("unknown decoder: "+y)}}class Mn{constructor(e,t,n,s){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Mn?Mn.equalsOrNull(e.leftchar,t.leftchar)&&Mn.equalsOrNull(e.rightchar,t.rightchar)&&Mn.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Mn.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class pr{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof pr?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((s,o)=>{t.forEach(u=>{s.getLeftChar().getValue()===u.getLeftChar().getValue()&&s.getRightChar().getValue()===u.getRightChar().getValue()&&s.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(n=!0)})}),n}}class we extends ue{constructor(e){super(...arguments),this.pairs=new Array(we.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return we.constructResult(this.decodeRow2pairs(e,t))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,we.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(o){if(o instanceof B){if(!this.pairs.length)throw new B;n=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new B}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let s=this.rows[n];this.pairs.length=0;for(let u of e)this.pairs.push(u.getPairs());if(this.pairs.push(s.getPairs()),!we.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,n+1)}catch(u){this.verbose&&console.log(u)}}throw new B}static isValidSequence(e){for(let t of we.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=t[s]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,s=!1,o=!1;for(;n<this.rows.length;){let u=this.rows[n];if(u.getRowNumber()>e){o=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),n++}o||s||we.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new pr(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length){for(let s of n.getPairs())for(let o of e)if(Mn.equals(s,o))break}}static isPartialRow(e,t){for(let n of t){let s=!0;for(let o of e){let u=!1;for(let f of n.getPairs())if(o.equals(f)){u=!0;break}if(!u){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=Re.buildBitArray(e),s=Bi(t).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints(),f=[o[0],o[1],u[0],u[1]];return new Ye(s,null,null,f,Oe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(n==null)return!1;let s=n.getChecksumPortion(),o=2;for(let f=1;f<this.pairs.size();++f){let g=this.pairs.get(f);s+=g.getLeftChar().getChecksumPortion(),o++;let m=g.getRightChar();m!=null&&(s+=m.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let s=t.length%2==0;this.startFromEven&&(s=!s);let o,u=!0,f=-1;do this.findNextPair(e,t,f),o=this.parseFoundFinderPattern(e,n,s),o==null?f=we.getNextSecondBar(e,this.startEnd[0]):u=!1;while(u);let g=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new B;let m;try{m=this.decodeDataCharacter(e,o,s,!1)}catch(C){m=null,this.verbose&&console.log(C)}return new Mn(g,m,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,n){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),u;n>=0?u=n:this.isEmptyPair(t)?u=0:u=t[t.length-1].getFinderPattern().getStartEnd()[1];let f=t.length%2!=0;this.startFromEven&&(f=!f);let g=!1;for(;u<o&&(g=!e.get(u),!!g);)u++;let m=0,C=u;for(let b=u;b<o;b++)if(e.get(b)!=g)s[m]++;else{if(m==3){if(f&&we.reverseCounters(s),we.isFinderPattern(s)){this.startEnd[0]=C,this.startEnd[1]=b;return}f&&we.reverseCounters(s),C+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,m--}else m++;s[m]=1,g=!g}throw new B}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let s=e[n];e[n]=e[t-n-1],e[t-n-1]=s}}parseFoundFinderPattern(e,t,n){let s,o,u;if(n){let m=this.startEnd[0]-1;for(;m>=0&&!e.get(m);)m--;m++,s=this.startEnd[0]-m,o=m,u=this.startEnd[1]}else o=this.startEnd[0],u=e.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];let f=this.getDecodeFinderCounters();W.arraycopy(f,0,f,1,f.length-1),f[0]=s;let g;try{g=this.parseFinderValue(f,we.FINDER_PATTERNS)}catch{return null}return new ye(g,[o,u],o,u,t)}decodeDataCharacter(e,t,n,s){let o=this.getDataCharacterCounters();for(let Ft=0;Ft<o.length;Ft++)o[Ft]=0;if(s)we.recordPatternInReverse(e,t.getStartEnd()[0],o);else{we.recordPattern(e,t.getStartEnd()[1],o);for(let Ft=0,$t=o.length-1;Ft<$t;Ft++,$t--){let vn=o[Ft];o[Ft]=o[$t],o[$t]=vn}}let u=17,f=ht.sum(new Int32Array(o))/u,g=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(f-g)/g>.3)throw new B;let m=this.getOddCounts(),C=this.getEvenCounts(),b=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Ft=0;Ft<o.length;Ft++){let $t=1*o[Ft]/f,vn=$t+.5;if(vn<1){if($t<.3)throw new B;vn=1}else if(vn>8){if($t>8.7)throw new B;vn=8}let Nr=Ft/2;Ft&1?(C[Nr]=vn,N[Nr]=$t-vn):(m[Nr]=vn,b[Nr]=$t-vn)}this.adjustOddEvenCounts(u);let U=4*t.getValue()+(n?0:2)+(s?0:1)-1,v=0,L=0;for(let Ft=m.length-1;Ft>=0;Ft--){if(we.isNotA1left(t,n,s)){let $t=we.WEIGHTS[U][2*Ft];L+=m[Ft]*$t}v+=m[Ft]}let F=0;for(let Ft=C.length-1;Ft>=0;Ft--)if(we.isNotA1left(t,n,s)){let $t=we.WEIGHTS[U][2*Ft+1];F+=C[Ft]*$t}let Y=L+F;if(v&1||v>13||v<4)throw new B;let le=(13-v)/2,fe=we.SYMBOL_WIDEST[le],de=9-fe,ke=be.getRSSvalue(m,fe,!0),tt=be.getRSSvalue(C,de,!1),Pn=we.EVEN_TOTAL_SUBSET[le],Jt=we.GSUM[le],En=ke*Pn+tt+Jt;return new Ee(En,Y)}static isNotA1left(e,t,n){return!(e.getValue()==0&&t&&n)}adjustOddEvenCounts(e){let t=ht.sum(new Int32Array(this.getOddCounts())),n=ht.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;t>13?o=!0:t<4&&(s=!0);let u=!1,f=!1;n>13?f=!0:n<4&&(u=!0);let g=t+n-e,m=(t&1)==1,C=(n&1)==0;if(g==1)if(m){if(C)throw new B;o=!0}else{if(!C)throw new B;f=!0}else if(g==-1)if(m){if(C)throw new B;s=!0}else{if(!C)throw new B;u=!0}else if(g==0){if(m){if(!C)throw new B;t<n?(s=!0,f=!0):(o=!0,u=!0)}else if(C)throw new B}else throw new B;if(s){if(o)throw new B;we.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&we.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new B;we.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&we.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}we.SYMBOL_WIDEST=[7,5,4,3,1],we.EVEN_TOTAL_SUBSET=[4,20,52,104,204],we.GSUM=[0,348,1388,2948,3988],we.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],we.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],we.FINDER_PAT_A=0,we.FINDER_PAT_B=1,we.FINDER_PAT_C=2,we.FINDER_PAT_D=3,we.FINDER_PAT_E=4,we.FINDER_PAT_F=5,we.FINDER_PATTERN_SEQUENCES=[[we.FINDER_PAT_A,we.FINDER_PAT_A],[we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B],[we.FINDER_PAT_A,we.FINDER_PAT_C,we.FINDER_PAT_B,we.FINDER_PAT_D],[we.FINDER_PAT_A,we.FINDER_PAT_E,we.FINDER_PAT_B,we.FINDER_PAT_D,we.FINDER_PAT_C],[we.FINDER_PAT_A,we.FINDER_PAT_E,we.FINDER_PAT_B,we.FINDER_PAT_D,we.FINDER_PAT_D,we.FINDER_PAT_F],[we.FINDER_PAT_A,we.FINDER_PAT_E,we.FINDER_PAT_B,we.FINDER_PAT_D,we.FINDER_PAT_E,we.FINDER_PAT_F,we.FINDER_PAT_F],[we.FINDER_PAT_A,we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B,we.FINDER_PAT_C,we.FINDER_PAT_C,we.FINDER_PAT_D,we.FINDER_PAT_D],[we.FINDER_PAT_A,we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B,we.FINDER_PAT_C,we.FINDER_PAT_C,we.FINDER_PAT_D,we.FINDER_PAT_E,we.FINDER_PAT_E],[we.FINDER_PAT_A,we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B,we.FINDER_PAT_C,we.FINDER_PAT_C,we.FINDER_PAT_D,we.FINDER_PAT_E,we.FINDER_PAT_F,we.FINDER_PAT_F],[we.FINDER_PAT_A,we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B,we.FINDER_PAT_C,we.FINDER_PAT_D,we.FINDER_PAT_D,we.FINDER_PAT_E,we.FINDER_PAT_E,we.FINDER_PAT_F,we.FINDER_PAT_F]],we.MAX_PAIRS=11;class Hn extends Ee{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mt extends ue{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const s=this.decodePair(t,!1,e,n);Mt.addOrTally(this.possibleLeftPairs,s),t.reverse();let o=this.decodePair(t,!0,e,n);Mt.addOrTally(this.possibleRightPairs,o),t.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Mt.checkChecksum(u,f))return Mt.constructResult(u,f)}throw new B}static addOrTally(e,t){if(t==null)return;let n=!1;for(let s of e)if(s.getValue()===t.getValue()){s.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),s=new String(n).toString(),o=new D;for(let m=13-s.length;m>0;m--)o.append("0");o.append(s);let u=0;for(let m=0;m<13;m++){let C=o.charAt(m).charCodeAt(0)-"0".charCodeAt(0);u+=m&1?C:3*C}u=10-u%10,u===10&&(u=0),o.append(u.toString());let f=e.getFinderPattern().getResultPoints(),g=t.getFinderPattern().getResultPoints();return new Ye(o.toString(),null,0,[f[0],f[1],g[0],g[1]],Oe.RSS_14,new Date().getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,n===s}decodePair(e,t,n,s){try{let o=this.findFinderPattern(e,t),u=this.parseFoundFinderPattern(e,n,t,o),f=s==null?null:s.get(Fe.NEED_RESULT_POINT_CALLBACK);if(f!=null){let C=(o[0]+o[1])/2;t&&(C=e.getSize()-1-C),f.foundPossibleResultPoint(new Ne(C,n))}let g=this.decodeDataCharacter(e,u,!0),m=this.decodeDataCharacter(e,u,!1);return new Hn(1597*g.getValue()+m.getValue(),g.getChecksumPortion()+4*m.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(e,t,n){let s=this.getDataCharacterCounters();for(let F=0;F<s.length;F++)s[F]=0;if(n)Ut.recordPatternInReverse(e,t.getStartEnd()[0],s);else{Ut.recordPattern(e,t.getStartEnd()[1]+1,s);for(let F=0,Y=s.length-1;F<Y;F++,Y--){let le=s[F];s[F]=s[Y],s[Y]=le}}let o=n?16:15,u=ht.sum(new Int32Array(s))/o,f=this.getOddCounts(),g=this.getEvenCounts(),m=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let F=0;F<s.length;F++){let Y=s[F]/u,le=Math.floor(Y+.5);le<1?le=1:le>8&&(le=8);let fe=Math.floor(F/2);F&1?(g[fe]=le,C[fe]=Y-le):(f[fe]=le,m[fe]=Y-le)}this.adjustOddEvenCounts(n,o);let b=0,N=0;for(let F=f.length-1;F>=0;F--)N*=9,N+=f[F],b+=f[F];let U=0,v=0;for(let F=g.length-1;F>=0;F--)U*=9,U+=g[F],v+=g[F];let L=N+3*U;if(n){if(b&1||b>12||b<4)throw new B;let F=(12-b)/2,Y=Mt.OUTSIDE_ODD_WIDEST[F],le=9-Y,fe=be.getRSSvalue(f,Y,!1),de=be.getRSSvalue(g,le,!0),ke=Mt.OUTSIDE_EVEN_TOTAL_SUBSET[F],tt=Mt.OUTSIDE_GSUM[F];return new Ee(fe*ke+de+tt,L)}else{if(v&1||v>10||v<4)throw new B;let F=(10-v)/2,Y=Mt.INSIDE_ODD_WIDEST[F],le=9-Y,fe=be.getRSSvalue(f,Y,!0),de=be.getRSSvalue(g,le,!1),ke=Mt.INSIDE_ODD_TOTAL_SUBSET[F],tt=Mt.INSIDE_GSUM[F];return new Ee(de*ke+fe+tt,L)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let s=e.getSize(),o=!1,u=0;for(;u<s&&(o=!e.get(u),t!==o);)u++;let f=0,g=u;for(let m=u;m<s;m++)if(e.get(m)!==o)n[f]++;else{if(f===3){if(ue.isFinderPattern(n))return[g,m];g+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,f--}else f++;n[f]=1,o=!o}throw new B}parseFoundFinderPattern(e,t,n,s){let o=e.get(s[0]),u=s[0]-1;for(;u>=0&&o!==e.get(u);)u--;u++;const f=s[0]-u,g=this.getDecodeFinderCounters(),m=new Int32Array(g.length);W.arraycopy(g,0,m,1,g.length-1),m[0]=f;const C=this.parseFinderValue(m,Mt.FINDER_PATTERNS);let b=u,N=s[1];return n&&(b=e.getSize()-1-b,N=e.getSize()-1-N),new ye(C,[u,s[1]],b,N,t)}adjustOddEvenCounts(e,t){let n=ht.sum(new Int32Array(this.getOddCounts())),s=ht.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1,f=!1,g=!1;e?(n>12?u=!0:n<4&&(o=!0),s>12?g=!0:s<4&&(f=!0)):(n>11?u=!0:n<5&&(o=!0),s>10?g=!0:s<4&&(f=!0));let m=n+s-t,C=(n&1)===(e?1:0),b=(s&1)===1;if(m===1)if(C){if(b)throw new B;u=!0}else{if(!b)throw new B;g=!0}else if(m===-1)if(C){if(b)throw new B;o=!0}else{if(!b)throw new B;f=!0}else if(m===0){if(C){if(!b)throw new B;n<s?(o=!0,g=!0):(u=!0,f=!0)}else if(b)throw new B}else throw new B;if(o){if(u)throw new B;ue.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ue.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new B;ue.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ue.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mt.OUTSIDE_GSUM=[0,161,961,2015,2715],Mt.INSIDE_GSUM=[0,336,1036,1516],Mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mt.INSIDE_ODD_WIDEST=[2,4,6,8],Mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xr extends Ut{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const n=e?e.get(Fe.POSSIBLE_FORMATS):null,s=e&&e.get(Fe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n?((n.includes(Oe.EAN_13)||n.includes(Oe.UPC_A)||n.includes(Oe.EAN_8)||n.includes(Oe.UPC_E))&&this.readers.push(new oe(e)),n.includes(Oe.CODE_39)&&this.readers.push(new Gt(s)),n.includes(Oe.CODE_128)&&this.readers.push(new Se),n.includes(Oe.ITF)&&this.readers.push(new It),n.includes(Oe.RSS_14)&&this.readers.push(new Mt),n.includes(Oe.RSS_EXPANDED)&&this.readers.push(new we(this.verbose))):(this.readers.push(new oe(e)),this.readers.push(new Gt),this.readers.push(new oe(e)),this.readers.push(new Se),this.readers.push(new It),this.readers.push(new Mt),this.readers.push(new we(this.verbose)))}decodeRow(e,t,n){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,t,n)}catch{}throw new B}reset(){this.readers.forEach(e=>e.reset())}}class Co extends lt{constructor(e=500,t){super(new xr(t),e,t)}}class vt{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class bt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dt{constructor(e,t,n,s,o,u){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=u;let f=0;const g=u.getECCodewords(),m=u.getECBlocks();for(let C of m)f+=C.getCount()*(C.getDataCodewords()+g);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(e&1||t&1)throw new me;for(let n of dt.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new me}toString(){return""+this.versionNumber}static buildVersions(){return[new dt(1,10,10,8,8,new vt(5,new bt(1,3))),new dt(2,12,12,10,10,new vt(7,new bt(1,5))),new dt(3,14,14,12,12,new vt(10,new bt(1,8))),new dt(4,16,16,14,14,new vt(12,new bt(1,12))),new dt(5,18,18,16,16,new vt(14,new bt(1,18))),new dt(6,20,20,18,18,new vt(18,new bt(1,22))),new dt(7,22,22,20,20,new vt(20,new bt(1,30))),new dt(8,24,24,22,22,new vt(24,new bt(1,36))),new dt(9,26,26,24,24,new vt(28,new bt(1,44))),new dt(10,32,32,14,14,new vt(36,new bt(1,62))),new dt(11,36,36,16,16,new vt(42,new bt(1,86))),new dt(12,40,40,18,18,new vt(48,new bt(1,114))),new dt(13,44,44,20,20,new vt(56,new bt(1,144))),new dt(14,48,48,22,22,new vt(68,new bt(1,174))),new dt(15,52,52,24,24,new vt(42,new bt(2,102))),new dt(16,64,64,14,14,new vt(56,new bt(2,140))),new dt(17,72,72,16,16,new vt(36,new bt(4,92))),new dt(18,80,80,18,18,new vt(48,new bt(4,114))),new dt(19,88,88,20,20,new vt(56,new bt(4,144))),new dt(20,96,96,22,22,new vt(68,new bt(4,174))),new dt(21,104,104,24,24,new vt(56,new bt(6,136))),new dt(22,120,120,18,18,new vt(68,new bt(6,175))),new dt(23,132,132,20,20,new vt(62,new bt(8,163))),new dt(24,144,144,22,22,new vt(62,new bt(8,156),new bt(2,155))),new dt(25,8,18,6,16,new vt(7,new bt(1,5))),new dt(26,8,32,6,14,new vt(11,new bt(1,10))),new dt(27,12,26,10,24,new vt(14,new bt(1,16))),new dt(28,12,36,10,16,new vt(18,new bt(1,22))),new dt(29,16,36,14,16,new vt(24,new bt(1,32))),new dt(30,16,48,14,22,new vt(28,new bt(1,49)))]}}dt.VERSIONS=dt.buildVersions();class Ls{constructor(e){const t=e.getHeight();if(t<8||t>144||t&1)throw new me;this.version=Ls.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new V(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return dt.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,s=0;const o=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let f=!1,g=!1,m=!1,C=!1;do if(n===o&&s===0&&!f)e[t++]=this.readCorner1(o,u)&255,n-=2,s+=2,f=!0;else if(n===o-2&&s===0&&u&3&&!g)e[t++]=this.readCorner2(o,u)&255,n-=2,s+=2,g=!0;else if(n===o+4&&s===2&&!(u&7)&&!m)e[t++]=this.readCorner3(o,u)&255,n-=2,s+=2,m=!0;else if(n===o-2&&s===0&&(u&7)===4&&!C)e[t++]=this.readCorner4(o,u)&255,n-=2,s+=2,C=!0;else{do n<o&&s>=0&&!this.readMappingMatrix.get(s,n)&&(e[t++]=this.readUtah(n,s,o,u)&255),n-=2,s+=2;while(n>=0&&s<u);n+=1,s+=3;do n>=0&&s<u&&!this.readMappingMatrix.get(s,n)&&(e[t++]=this.readUtah(n,s,o,u)&255),n+=2,s-=2;while(n<o&&s>=0);n+=3,s+=1}while(n<o||s<u);if(t!==this.version.getTotalCodewords())throw new me;return e}readModule(e,t,n,s){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,s){let o=0;return this.readModule(e-2,t-2,n,s)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,s)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,s)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,s)&&(o|=1),o<<=1,this.readModule(e-1,t,n,s)&&(o|=1),o<<=1,this.readModule(e,t-2,n,s)&&(o|=1),o<<=1,this.readModule(e,t-1,n,s)&&(o|=1),o<<=1,this.readModule(e,t,n,s)&&(o|=1),o}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new M("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),u=t/s|0,f=n/o|0,g=u*s,m=f*o,C=new V(m,g);for(let b=0;b<u;++b){const N=b*s;for(let U=0;U<f;++U){const v=U*o;for(let L=0;L<s;++L){const F=b*(s+2)+1+L,Y=N+L;for(let le=0;le<o;++le){const fe=U*(o+2)+1+le;if(e.get(fe,F)){const de=v+le;C.set(de,Y)}}}}}return C}}class ls{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let s=0;const o=n.getECBlocks();for(let L of o)s+=L.getCount();const u=new Array(s);let f=0;for(let L of o)for(let F=0;F<L.getCount();F++){const Y=L.getDataCodewords(),le=n.getECCodewords()+Y;u[f++]=new ls(Y,new Uint8Array(le))}const m=u[0].codewords.length-n.getECCodewords(),C=m-1;let b=0;for(let L=0;L<C;L++)for(let F=0;F<f;F++)u[F].codewords[L]=e[b++];const N=t.getVersionNumber()===24,U=N?8:f;for(let L=0;L<U;L++)u[L].codewords[m-1]=e[b++];const v=u[0].codewords.length;for(let L=m;L<v;L++)for(let F=0;F<f;F++){const Y=N?(F+8)%f:F,le=N&&Y>7?L-1:L;u[Y].codewords[le]=e[b++]}if(b!==e.length)throw new M;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class cs{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new M(""+e);let t=0,n=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(n>0){const u=8-n,f=e<u?e:u,g=u-f,m=255>>8-f<<g;t=(o[s]&m)>>g,e-=f,n+=f,n===8&&(n=0,s++)}if(e>0){for(;e>=8;)t=t<<8|o[s]&255,s++,e-=8;if(e>0){const u=8-e,f=255>>u<<u;t=t<<e|(o[s]&f)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=s,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var nn;(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"})(nn||(nn={}));class mr{static decode(e){const t=new cs(e),n=new D,s=new D,o=new Array;let u=nn.ASCII_ENCODE;do if(u===nn.ASCII_ENCODE)u=this.decodeAsciiSegment(t,n,s);else{switch(u){case nn.C40_ENCODE:this.decodeC40Segment(t,n);break;case nn.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case nn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case nn.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case nn.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new me}u=nn.ASCII_ENCODE}while(u!==nn.PAD_ENCODE&&t.available()>0);return s.length()>0&&n.append(s.toString()),new Ct(e,n.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,t,n){let s=!1;do{let o=e.readBits(8);if(o===0)throw new me;if(o<=128)return s&&(o+=128),t.append(String.fromCharCode(o-1)),nn.ASCII_ENCODE;if(o===129)return nn.PAD_ENCODE;if(o<=229){const u=o-130;u<10&&t.append("0"),t.append(""+u)}else switch(o){case 230:return nn.C40_ENCODE;case 231:return nn.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:s=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return nn.ANSIX12_ENCODE;case 239:return nn.TEXT_ENCODE;case 240:return nn.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return nn.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const s=[];let o=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),s);for(let f=0;f<3;f++){const g=s[f];switch(o){case 0:if(g<3)o=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const m=this.C40_BASIC_SET_CHARS[g];n?(t.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):t.append(m)}else throw new me;break;case 1:n?(t.append(String.fromCharCode(g+128)),n=!1):t.append(String.fromCharCode(g)),o=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const m=this.C40_SHIFT2_SET_CHARS[g];n?(t.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):t.append(m)}else switch(g){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new me}o=0;break;case 3:n?(t.append(String.fromCharCode(g+224)),n=!1):t.append(String.fromCharCode(g+96)),o=0;break;default:throw new me}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,s=[],o=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),s);for(let f=0;f<3;f++){const g=s[f];switch(o){case 0:if(g<3)o=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const m=this.TEXT_BASIC_SET_CHARS[g];n?(t.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):t.append(m)}else throw new me;break;case 1:n?(t.append(String.fromCharCode(g+128)),n=!1):t.append(String.fromCharCode(g)),o=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const m=this.TEXT_SHIFT2_SET_CHARS[g];n?(t.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):t.append(m)}else switch(g){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new me}o=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const m=this.TEXT_SHIFT3_SET_CHARS[g];n?(t.append(String.fromCharCode(m.charCodeAt(0)+128)),n=!1):t.append(m),o=0}else throw new me;break;default:throw new me}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),n);for(let o=0;o<3;o++){const u=n[o];switch(u){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(u<14)t.append(String.fromCharCode(u+44));else if(u<40)t.append(String.fromCharCode(u+51));else throw new me;break}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let s=(e<<8)+t-1,o=Math.floor(s/1600);n[0]=o,s-=o*1600,o=Math.floor(s/40),n[1]=o,n[2]=s-o*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}s&32||(s|=64),t.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let u;if(o===0?u=e.available()/8|0:o<250?u=o:u=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),u<0)throw new me;const f=new Uint8Array(u);for(let g=0;g<u;g++){if(e.available()<8)throw new me;f[g]=this.unrandomize255State(e.readBits(8),s++)}n.push(f);try{t.append(ae.decode(f,T.ISO88591))}catch(g){throw new Cn("Platform does not support required encoding: "+g.message)}}static unrandomize255State(e,t){const n=149*t%255+1,s=e-n;return s>=0?s:s+256}}mr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],mr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],mr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],mr.TEXT_SHIFT2_SET_CHARS=mr.C40_SHIFT2_SET_CHARS,mr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class za{constructor(){this.rsDecoder=new Qr(ft.DATA_MATRIX_FIELD_256)}decode(e){const t=new Ls(e),n=t.getVersion(),s=t.readCodewords(),o=ls.getDataBlocks(s,n);let u=0;for(let m of o)u+=m.getNumDataCodewords();const f=new Uint8Array(u),g=o.length;for(let m=0;m<g;m++){const C=o[m],b=C.getCodewords(),N=C.getNumDataCodewords();this.correctErrors(b,N);for(let U=0;U<N;U++)f[U*g+m]=b[U]}return mr.decode(f)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new H}for(let s=0;s<t;s++)e[s]=n[s]}}class Qt{constructor(e){this.image=e,this.rectangleDetector=new nr(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new B;t=this.shiftToModuleCenter(t);const n=t[0],s=t[1],o=t[2],u=t[3];let f=this.transitionsBetween(n,u)+1,g=this.transitionsBetween(o,u)+1;(f&1)===1&&(f+=1),(g&1)===1&&(g+=1),4*f<7*g&&4*g<7*f&&(f=g=Math.max(f,g));let m=Qt.sampleGrid(this.image,n,s,o,u,f,g);return new Xn(m,[n,s,o,u])}static shiftPoint(e,t,n){let s=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new Ne(e.getX()+s,e.getY()+o)}static moveAway(e,t,n){let s=e.getX(),o=e.getY();return s<t?s-=1:s+=1,o<n?o-=1:o+=1,new Ne(s,o)}detectSolid1(e){let t=e[0],n=e[1],s=e[3],o=e[2],u=this.transitionsBetween(t,n),f=this.transitionsBetween(n,s),g=this.transitionsBetween(s,o),m=this.transitionsBetween(o,t),C=u,b=[o,t,n,s];return C>f&&(C=f,b[0]=t,b[1]=n,b[2]=s,b[3]=o),C>g&&(C=g,b[0]=n,b[1]=s,b[2]=o,b[3]=t),C>m&&(b[0]=s,b[1]=o,b[2]=t,b[3]=n),b}detectSolid2(e){let t=e[0],n=e[1],s=e[2],o=e[3],u=this.transitionsBetween(t,o),f=Qt.shiftPoint(n,s,(u+1)*4),g=Qt.shiftPoint(s,n,(u+1)*4),m=this.transitionsBetween(f,t),C=this.transitionsBetween(g,o);return m<C?(e[0]=t,e[1]=n,e[2]=s,e[3]=o):(e[0]=n,e[1]=s,e[2]=o,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],s=e[2],o=e[3],u=this.transitionsBetween(t,o),f=this.transitionsBetween(n,o),g=Qt.shiftPoint(t,n,(f+1)*4),m=Qt.shiftPoint(s,n,(u+1)*4);u=this.transitionsBetween(g,o),f=this.transitionsBetween(m,o);let C=new Ne(o.getX()+(s.getX()-n.getX())/(u+1),o.getY()+(s.getY()-n.getY())/(u+1)),b=new Ne(o.getX()+(t.getX()-n.getX())/(f+1),o.getY()+(t.getY()-n.getY())/(f+1));if(!this.isValid(C))return this.isValid(b)?b:null;if(!this.isValid(b))return C;let N=this.transitionsBetween(g,C)+this.transitionsBetween(m,C),U=this.transitionsBetween(g,b)+this.transitionsBetween(m,b);return N>U?C:b}shiftToModuleCenter(e){let t=e[0],n=e[1],s=e[2],o=e[3],u=this.transitionsBetween(t,o)+1,f=this.transitionsBetween(s,o)+1,g=Qt.shiftPoint(t,n,f*4),m=Qt.shiftPoint(s,n,u*4);u=this.transitionsBetween(g,o)+1,f=this.transitionsBetween(m,o)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let C=(t.getX()+n.getX()+s.getX()+o.getX())/4,b=(t.getY()+n.getY()+s.getY()+o.getY())/4;t=Qt.moveAway(t,C,b),n=Qt.moveAway(n,C,b),s=Qt.moveAway(s,C,b),o=Qt.moveAway(o,C,b);let N,U;return g=Qt.shiftPoint(t,n,f*4),g=Qt.shiftPoint(g,o,u*4),N=Qt.shiftPoint(n,t,f*4),N=Qt.shiftPoint(N,s,u*4),m=Qt.shiftPoint(s,o,f*4),m=Qt.shiftPoint(m,n,u*4),U=Qt.shiftPoint(o,s,f*4),U=Qt.shiftPoint(U,t,u*4),[g,N,m,U]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,s,o,u,f){return On.getInstance().sampleGrid(e,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,t.getX(),t.getY(),o.getX(),o.getY(),s.getX(),s.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(t.getX()),u=Math.trunc(t.getY()),f=Math.abs(u-s)>Math.abs(o-n);if(f){let L=n;n=s,s=L,L=o,o=u,u=L}let g=Math.abs(o-n),m=Math.abs(u-s),C=-g/2,b=s<u?1:-1,N=n<o?1:-1,U=0,v=this.image.get(f?s:n,f?n:s);for(let L=n,F=s;L!==o;L+=N){let Y=this.image.get(f?F:L,f?L:F);if(Y!==v&&(U++,v=Y),C+=m,C>0){if(F===u)break;F+=b,C-=g}}return U}}class rr{constructor(){this.decoder=new za}decode(e,t=null){let n,s;if(t!=null&&t.has(Fe.PURE_BARCODE)){const m=rr.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(m),s=rr.NO_POINTS}else{const m=new Qt(e.getBlackMatrix()).detect();n=this.decoder.decode(m.getBits()),s=m.getPoints()}const o=n.getRawBytes(),u=new Ye(n.getText(),o,8*o.length,s,Oe.DATA_MATRIX,W.currentTimeMillis()),f=n.getByteSegments();f!=null&&u.putMetadata(Ve.BYTE_SEGMENTS,f);const g=n.getECLevel();return g!=null&&u.putMetadata(Ve.ERROR_CORRECTION_LEVEL,g),u}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new B;const s=this.moduleSize(t,e);let o=t[1];const u=n[1];let f=t[0];const m=(n[0]-f+1)/s,C=(u-o+1)/s;if(m<=0||C<=0)throw new B;const b=s/2;o+=b,f+=b;const N=new V(m,C);for(let U=0;U<C;U++){const v=o+U*s;for(let L=0;L<m;L++)e.get(f+L*s,v)&&N.set(L,U)}return N}static moduleSize(e,t){const n=t.getWidth();let s=e[0];const o=e[1];for(;s<n&&t.get(s,o);)s++;if(s===n)throw new B;const u=s-e[0];if(u===0)throw new B;return u}}rr.NO_POINTS=[];class yo extends lt{constructor(e=500){super(new rr,e)}}var pi;(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"})(pi||(pi={}));class Bt{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,Bt.FOR_BITS.set(n,this),Bt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Bt.L;case"M":return Bt.M;case"Q":return Bt.Q;case"H":return Bt.H;default:throw new I(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Bt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Bt.FOR_BITS.size)throw new M;return Bt.FOR_BITS.get(e)}}Bt.FOR_BITS=new Map,Bt.FOR_VALUE=new Map,Bt.L=new Bt(pi.L,"L",1),Bt.M=new Bt(pi.M,"M",0),Bt.Q=new Bt(pi.Q,"Q",3),Bt.H=new Bt(pi.H,"H",2);class mn{constructor(e){this.errorCorrectionLevel=Bt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return te.bitCount(e^t)}static decodeFormatInformation(e,t){const n=mn.doDecodeFormatInformation(e,t);return n!==null?n:mn.doDecodeFormatInformation(e^mn.FORMAT_INFO_MASK_QR,t^mn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,s=0;for(const o of mn.FORMAT_INFO_DECODE_LOOKUP){const u=o[0];if(u===e||u===t)return new mn(o[1]);let f=mn.numBitsDiffering(e,u);f<n&&(s=o[1],n=f),e!==t&&(f=mn.numBitsDiffering(t,u),f<n&&(s=o[1],n=f))}return n<=3?new mn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof mn))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}mn.FORMAT_INFO_MASK_QR=21522,mn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ${constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class je{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let s=0;const o=n[0].getECCodewordsPerBlock(),u=n[0].getECBlocks();for(const f of u)s+=f.getCount()*(f.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}}static getVersionForNumber(e){if(e<1||e>40)throw new M;return je.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let s=0;s<je.VERSION_DECODE_INFO.length;s++){const o=je.VERSION_DECODE_INFO[s];if(o===e)return je.getVersionForNumber(s+7);const u=mn.numBitsDiffering(e,o);u<t&&(n=s+7,t=u)}return t<=3?je.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new V(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let s=0;s<n;s++){const o=this.alignmentPatternCenters[s]-2;for(let u=0;u<n;u++)s===0&&(u===0||u===n-1)||s===n-1&&u===0||t.setRegion(this.alignmentPatternCenters[u]-2,o,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}je.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),je.VERSIONS=[new je(1,new Int32Array(0),new $(7,new k(1,19)),new $(10,new k(1,16)),new $(13,new k(1,13)),new $(17,new k(1,9))),new je(2,Int32Array.from([6,18]),new $(10,new k(1,34)),new $(16,new k(1,28)),new $(22,new k(1,22)),new $(28,new k(1,16))),new je(3,Int32Array.from([6,22]),new $(15,new k(1,55)),new $(26,new k(1,44)),new $(18,new k(2,17)),new $(22,new k(2,13))),new je(4,Int32Array.from([6,26]),new $(20,new k(1,80)),new $(18,new k(2,32)),new $(26,new k(2,24)),new $(16,new k(4,9))),new je(5,Int32Array.from([6,30]),new $(26,new k(1,108)),new $(24,new k(2,43)),new $(18,new k(2,15),new k(2,16)),new $(22,new k(2,11),new k(2,12))),new je(6,Int32Array.from([6,34]),new $(18,new k(2,68)),new $(16,new k(4,27)),new $(24,new k(4,19)),new $(28,new k(4,15))),new je(7,Int32Array.from([6,22,38]),new $(20,new k(2,78)),new $(18,new k(4,31)),new $(18,new k(2,14),new k(4,15)),new $(26,new k(4,13),new k(1,14))),new je(8,Int32Array.from([6,24,42]),new $(24,new k(2,97)),new $(22,new k(2,38),new k(2,39)),new $(22,new k(4,18),new k(2,19)),new $(26,new k(4,14),new k(2,15))),new je(9,Int32Array.from([6,26,46]),new $(30,new k(2,116)),new $(22,new k(3,36),new k(2,37)),new $(20,new k(4,16),new k(4,17)),new $(24,new k(4,12),new k(4,13))),new je(10,Int32Array.from([6,28,50]),new $(18,new k(2,68),new k(2,69)),new $(26,new k(4,43),new k(1,44)),new $(24,new k(6,19),new k(2,20)),new $(28,new k(6,15),new k(2,16))),new je(11,Int32Array.from([6,30,54]),new $(20,new k(4,81)),new $(30,new k(1,50),new k(4,51)),new $(28,new k(4,22),new k(4,23)),new $(24,new k(3,12),new k(8,13))),new je(12,Int32Array.from([6,32,58]),new $(24,new k(2,92),new k(2,93)),new $(22,new k(6,36),new k(2,37)),new $(26,new k(4,20),new k(6,21)),new $(28,new k(7,14),new k(4,15))),new je(13,Int32Array.from([6,34,62]),new $(26,new k(4,107)),new $(22,new k(8,37),new k(1,38)),new $(24,new k(8,20),new k(4,21)),new $(22,new k(12,11),new k(4,12))),new je(14,Int32Array.from([6,26,46,66]),new $(30,new k(3,115),new k(1,116)),new $(24,new k(4,40),new k(5,41)),new $(20,new k(11,16),new k(5,17)),new $(24,new k(11,12),new k(5,13))),new je(15,Int32Array.from([6,26,48,70]),new $(22,new k(5,87),new k(1,88)),new $(24,new k(5,41),new k(5,42)),new $(30,new k(5,24),new k(7,25)),new $(24,new k(11,12),new k(7,13))),new je(16,Int32Array.from([6,26,50,74]),new $(24,new k(5,98),new k(1,99)),new $(28,new k(7,45),new k(3,46)),new $(24,new k(15,19),new k(2,20)),new $(30,new k(3,15),new k(13,16))),new je(17,Int32Array.from([6,30,54,78]),new $(28,new k(1,107),new k(5,108)),new $(28,new k(10,46),new k(1,47)),new $(28,new k(1,22),new k(15,23)),new $(28,new k(2,14),new k(17,15))),new je(18,Int32Array.from([6,30,56,82]),new $(30,new k(5,120),new k(1,121)),new $(26,new k(9,43),new k(4,44)),new $(28,new k(17,22),new k(1,23)),new $(28,new k(2,14),new k(19,15))),new je(19,Int32Array.from([6,30,58,86]),new $(28,new k(3,113),new k(4,114)),new $(26,new k(3,44),new k(11,45)),new $(26,new k(17,21),new k(4,22)),new $(26,new k(9,13),new k(16,14))),new je(20,Int32Array.from([6,34,62,90]),new $(28,new k(3,107),new k(5,108)),new $(26,new k(3,41),new k(13,42)),new $(30,new k(15,24),new k(5,25)),new $(28,new k(15,15),new k(10,16))),new je(21,Int32Array.from([6,28,50,72,94]),new $(28,new k(4,116),new k(4,117)),new $(26,new k(17,42)),new $(28,new k(17,22),new k(6,23)),new $(30,new k(19,16),new k(6,17))),new je(22,Int32Array.from([6,26,50,74,98]),new $(28,new k(2,111),new k(7,112)),new $(28,new k(17,46)),new $(30,new k(7,24),new k(16,25)),new $(24,new k(34,13))),new je(23,Int32Array.from([6,30,54,78,102]),new $(30,new k(4,121),new k(5,122)),new $(28,new k(4,47),new k(14,48)),new $(30,new k(11,24),new k(14,25)),new $(30,new k(16,15),new k(14,16))),new je(24,Int32Array.from([6,28,54,80,106]),new $(30,new k(6,117),new k(4,118)),new $(28,new k(6,45),new k(14,46)),new $(30,new k(11,24),new k(16,25)),new $(30,new k(30,16),new k(2,17))),new je(25,Int32Array.from([6,32,58,84,110]),new $(26,new k(8,106),new k(4,107)),new $(28,new k(8,47),new k(13,48)),new $(30,new k(7,24),new k(22,25)),new $(30,new k(22,15),new k(13,16))),new je(26,Int32Array.from([6,30,58,86,114]),new $(28,new k(10,114),new k(2,115)),new $(28,new k(19,46),new k(4,47)),new $(28,new k(28,22),new k(6,23)),new $(30,new k(33,16),new k(4,17))),new je(27,Int32Array.from([6,34,62,90,118]),new $(30,new k(8,122),new k(4,123)),new $(28,new k(22,45),new k(3,46)),new $(30,new k(8,23),new k(26,24)),new $(30,new k(12,15),new k(28,16))),new je(28,Int32Array.from([6,26,50,74,98,122]),new $(30,new k(3,117),new k(10,118)),new $(28,new k(3,45),new k(23,46)),new $(30,new k(4,24),new k(31,25)),new $(30,new k(11,15),new k(31,16))),new je(29,Int32Array.from([6,30,54,78,102,126]),new $(30,new k(7,116),new k(7,117)),new $(28,new k(21,45),new k(7,46)),new $(30,new k(1,23),new k(37,24)),new $(30,new k(19,15),new k(26,16))),new je(30,Int32Array.from([6,26,52,78,104,130]),new $(30,new k(5,115),new k(10,116)),new $(28,new k(19,47),new k(10,48)),new $(30,new k(15,24),new k(25,25)),new $(30,new k(23,15),new k(25,16))),new je(31,Int32Array.from([6,30,56,82,108,134]),new $(30,new k(13,115),new k(3,116)),new $(28,new k(2,46),new k(29,47)),new $(30,new k(42,24),new k(1,25)),new $(30,new k(23,15),new k(28,16))),new je(32,Int32Array.from([6,34,60,86,112,138]),new $(30,new k(17,115)),new $(28,new k(10,46),new k(23,47)),new $(30,new k(10,24),new k(35,25)),new $(30,new k(19,15),new k(35,16))),new je(33,Int32Array.from([6,30,58,86,114,142]),new $(30,new k(17,115),new k(1,116)),new $(28,new k(14,46),new k(21,47)),new $(30,new k(29,24),new k(19,25)),new $(30,new k(11,15),new k(46,16))),new je(34,Int32Array.from([6,34,62,90,118,146]),new $(30,new k(13,115),new k(6,116)),new $(28,new k(14,46),new k(23,47)),new $(30,new k(44,24),new k(7,25)),new $(30,new k(59,16),new k(1,17))),new je(35,Int32Array.from([6,30,54,78,102,126,150]),new $(30,new k(12,121),new k(7,122)),new $(28,new k(12,47),new k(26,48)),new $(30,new k(39,24),new k(14,25)),new $(30,new k(22,15),new k(41,16))),new je(36,Int32Array.from([6,24,50,76,102,128,154]),new $(30,new k(6,121),new k(14,122)),new $(28,new k(6,47),new k(34,48)),new $(30,new k(46,24),new k(10,25)),new $(30,new k(2,15),new k(64,16))),new je(37,Int32Array.from([6,28,54,80,106,132,158]),new $(30,new k(17,122),new k(4,123)),new $(28,new k(29,46),new k(14,47)),new $(30,new k(49,24),new k(10,25)),new $(30,new k(24,15),new k(46,16))),new je(38,Int32Array.from([6,32,58,84,110,136,162]),new $(30,new k(4,122),new k(18,123)),new $(28,new k(13,46),new k(32,47)),new $(30,new k(48,24),new k(14,25)),new $(30,new k(42,15),new k(32,16))),new je(39,Int32Array.from([6,26,54,82,110,138,166]),new $(30,new k(20,117),new k(4,118)),new $(28,new k(40,47),new k(7,48)),new $(30,new k(43,24),new k(22,25)),new $(30,new k(10,15),new k(67,16))),new je(40,Int32Array.from([6,30,58,86,114,142,170]),new $(30,new k(19,118),new k(6,119)),new $(28,new k(18,47),new k(31,48)),new $(30,new k(34,24),new k(34,25)),new $(30,new k(20,15),new k(61,16)))];var rn;(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"})(rn||(rn={}));class Ln{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let s=0;s<t;s++)this.isMasked(n,s)&&e.flip(s,n)}}Ln.values=new Map([[rn.DATA_MASK_000,new Ln(rn.DATA_MASK_000,(y,e)=>(y+e&1)===0)],[rn.DATA_MASK_001,new Ln(rn.DATA_MASK_001,(y,e)=>(y&1)===0)],[rn.DATA_MASK_010,new Ln(rn.DATA_MASK_010,(y,e)=>e%3===0)],[rn.DATA_MASK_011,new Ln(rn.DATA_MASK_011,(y,e)=>(y+e)%3===0)],[rn.DATA_MASK_100,new Ln(rn.DATA_MASK_100,(y,e)=>(Math.floor(y/2)+Math.floor(e/3)&1)===0)],[rn.DATA_MASK_101,new Ln(rn.DATA_MASK_101,(y,e)=>y*e%6===0)],[rn.DATA_MASK_110,new Ln(rn.DATA_MASK_110,(y,e)=>y*e%6<3)],[rn.DATA_MASK_111,new Ln(rn.DATA_MASK_111,(y,e)=>(y+e+y*e%3&1)===0)]]);class xi{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new me;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const t=this.bitMatrix.getHeight();let n=0;const s=t-7;for(let o=t-1;o>=s;o--)n=this.copyBit(8,o,n);for(let o=t-8;o<t;o++)n=this.copyBit(o,8,n);if(this.parsedFormatInfo=mn.decodeFormatInformation(e,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return je.getVersionForNumber(t);let n=0;const s=e-11;for(let u=5;u>=0;u--)for(let f=e-9;f>=s;f--)n=this.copyBit(f,u,n);let o=je.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(let u=5;u>=0;u--)for(let f=e-9;f>=s;f--)n=this.copyBit(u,f,n);if(o=je.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new me}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=Ln.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,s);const o=t.buildFunctionPattern();let u=!0;const f=new Uint8Array(t.getTotalCodewords());let g=0,m=0,C=0;for(let b=s-1;b>0;b-=2){b===6&&b--;for(let N=0;N<s;N++){const U=u?s-1-N:N;for(let v=0;v<2;v++)o.get(b-v,U)||(C++,m<<=1,this.bitMatrix.get(b-v,U)&&(m|=1),C===8&&(f[g++]=m,C=0,m=0))}u=!u}if(g!==t.getTotalCodewords())throw new me;return f}remask(){if(this.parsedFormatInfo===null)return;const e=Ln.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let s=t+1,o=e.getHeight();s<o;s++)e.get(t,s)!==e.get(s,t)&&(e.flip(s,t),e.flip(t,s))}}class us{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new M;const s=t.getECBlocksForLevel(n);let o=0;const u=s.getECBlocks();for(const v of u)o+=v.getCount();const f=new Array(o);let g=0;for(const v of u)for(let L=0;L<v.getCount();L++){const F=v.getDataCodewords(),Y=s.getECCodewordsPerBlock()+F;f[g++]=new us(F,new Uint8Array(Y))}const m=f[0].codewords.length;let C=f.length-1;for(;C>=0&&f[C].codewords.length!==m;)C--;C++;const b=m-s.getECCodewordsPerBlock();let N=0;for(let v=0;v<b;v++)for(let L=0;L<g;L++)f[L].codewords[v]=e[N++];for(let v=C;v<g;v++)f[v].codewords[b]=e[N++];const U=f[0].codewords.length;for(let v=b;v<U;v++)for(let L=0;L<g;L++){const F=L<C?v:v+1;f[L].codewords[F]=e[N++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Wn;(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"})(Wn||(Wn={}));class ze{constructor(e,t,n,s){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=s,ze.FOR_BITS.set(s,this),ze.FOR_VALUE.set(e,this)}static forBits(e){const t=ze.FOR_BITS.get(e);if(t===void 0)throw new M;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof ze))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.TERMINATOR=new ze(Wn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ze.NUMERIC=new ze(Wn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ze.ALPHANUMERIC=new ze(Wn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ze.STRUCTURED_APPEND=new ze(Wn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ze.BYTE=new ze(Wn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ze.ECI=new ze(Wn.ECI,"ECI",Int32Array.from([0,0,0]),7),ze.KANJI=new ze(Wn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ze.FNC1_FIRST_POSITION=new ze(Wn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ze.FNC1_SECOND_POSITION=new ze(Wn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ze.HANZI=new ze(Wn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class zt{static decode(e,t,n,s){const o=new cs(e);let u=new D;const f=new Array;let g=-1,m=-1;try{let C=null,b=!1,N;do{if(o.available()<4)N=ze.TERMINATOR;else{const U=o.readBits(4);N=ze.forBits(U)}switch(N){case ze.TERMINATOR:break;case ze.FNC1_FIRST_POSITION:case ze.FNC1_SECOND_POSITION:b=!0;break;case ze.STRUCTURED_APPEND:if(o.available()<16)throw new me;g=o.readBits(8),m=o.readBits(8);break;case ze.ECI:const U=zt.parseECIValue(o);if(C=J.getCharacterSetECIByValue(U),C===null)throw new me;break;case ze.HANZI:const v=o.readBits(4),L=o.readBits(N.getCharacterCountBits(t));v===zt.GB2312_SUBSET&&zt.decodeHanziSegment(o,u,L);break;default:const F=o.readBits(N.getCharacterCountBits(t));switch(N){case ze.NUMERIC:zt.decodeNumericSegment(o,u,F);break;case ze.ALPHANUMERIC:zt.decodeAlphanumericSegment(o,u,F,b);break;case ze.BYTE:zt.decodeByteSegment(o,u,F,C,f,s);break;case ze.KANJI:zt.decodeKanjiSegment(o,u,F);break;default:throw new me}break}}while(N!==ze.TERMINATOR)}catch{throw new me}return new Ct(e,u.toString(),f.length===0?null:f,n===null?null:n.toString(),g,m)}static decodeHanziSegment(e,t,n){if(n*13>e.available())throw new me;const s=new Uint8Array(2*n);let o=0;for(;n>0;){const u=e.readBits(13);let f=u/96<<8&4294967295|u%96;f<959?f+=41377:f+=42657,s[o]=f>>8&255,s[o+1]=f&255,o+=2,n--}try{t.append(ae.decode(s,T.GB2312))}catch(u){throw new me(u)}}static decodeKanjiSegment(e,t,n){if(n*13>e.available())throw new me;const s=new Uint8Array(2*n);let o=0;for(;n>0;){const u=e.readBits(13);let f=u/192<<8&4294967295|u%192;f<7936?f+=33088:f+=49472,s[o]=f>>8,s[o+1]=f,o+=2,n--}try{t.append(ae.decode(s,T.SHIFT_JIS))}catch(u){throw new me(u)}}static decodeByteSegment(e,t,n,s,o,u){if(8*n>e.available())throw new me;const f=new Uint8Array(n);for(let m=0;m<n;m++)f[m]=e.readBits(8);let g;s===null?g=T.guessEncoding(f,u):g=s.getName();try{t.append(ae.decode(f,g))}catch(m){throw new me(m)}o.push(f)}static toAlphaNumericChar(e){if(e>=zt.ALPHANUMERIC_CHARS.length)throw new me;return zt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,s){const o=t.length();for(;n>1;){if(e.available()<11)throw new me;const u=e.readBits(11);t.append(zt.toAlphaNumericChar(Math.floor(u/45))),t.append(zt.toAlphaNumericChar(u%45)),n-=2}if(n===1){if(e.available()<6)throw new me;t.append(zt.toAlphaNumericChar(e.readBits(6)))}if(s)for(let u=o;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new me;const s=e.readBits(10);if(s>=1e3)throw new me;t.append(zt.toAlphaNumericChar(Math.floor(s/100))),t.append(zt.toAlphaNumericChar(Math.floor(s/10)%10)),t.append(zt.toAlphaNumericChar(s%10)),n-=3}if(n===2){if(e.available()<7)throw new me;const s=e.readBits(7);if(s>=100)throw new me;t.append(zt.toAlphaNumericChar(Math.floor(s/10))),t.append(zt.toAlphaNumericChar(s%10))}else if(n===1){if(e.available()<4)throw new me;const s=e.readBits(4);if(s>=10)throw new me;t.append(zt.toAlphaNumericChar(s))}}static parseECIValue(e){const t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){const n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){const n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new me}}zt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",zt.GB2312_SUBSET=1;class Bs{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Io{constructor(){this.rsDecoder=new Qr(ft.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(V.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new xi(e);let s=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){s=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const o=this.decodeBitMatrixParser(n,t);return o.setOther(new Bs(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,t){const n=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),u=us.getDataBlocks(o,n,s);let f=0;for(const C of u)f+=C.getNumDataCodewords();const g=new Uint8Array(f);let m=0;for(const C of u){const b=C.getCodewords(),N=C.getNumDataCodewords();this.correctErrors(b,N);for(let U=0;U<N;U++)g[m++]=b[U]}return zt.decode(g,n,s,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new H}for(let s=0;s<t;s++)e[s]=n[s]}}class fs extends Ne{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const s=(this.getX()+t)/2,o=(this.getY()+e)/2,u=(this.estimatedModuleSize+n)/2;return new fs(s,o,u)}}class hs{constructor(e,t,n,s,o,u,f){this.image=e,this.startX=t,this.startY=n,this.width=s,this.height=o,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=this.width,s=e+n,o=this.startY+t/2,u=new Int32Array(3),f=this.image;for(let g=0;g<t;g++){const m=o+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));u[0]=0,u[1]=0,u[2]=0;let C=e;for(;C<s&&!f.get(C,m);)C++;let b=0;for(;C<s;){if(f.get(C,m))if(b===1)u[1]++;else if(b===2){if(this.foundPatternCross(u)){const N=this.handlePossibleCenter(u,m,C);if(N!==null)return N}u[0]=u[2],u[1]=1,u[2]=0,b=1}else u[++b]++;else b===1&&b++,u[b]++;C++}if(this.foundPatternCross(u)){const N=this.handlePossibleCenter(u,m,s);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new B}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let s=0;s<3;s++)if(Math.abs(t-e[s])>=n)return!1;return!0}crossCheckVertical(e,t,n,s){const o=this.image,u=o.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let g=e;for(;g>=0&&o.get(t,g)&&f[1]<=n;)f[1]++,g--;if(g<0||f[1]>n)return NaN;for(;g>=0&&!o.get(t,g)&&f[0]<=n;)f[0]++,g--;if(f[0]>n)return NaN;for(g=e+1;g<u&&o.get(t,g)&&f[1]<=n;)f[1]++,g++;if(g===u||f[1]>n)return NaN;for(;g<u&&!o.get(t,g)&&f[2]<=n;)f[2]++,g++;if(f[2]>n)return NaN;const m=f[0]+f[1]+f[2];return 5*Math.abs(m-s)>=2*s?NaN:this.foundPatternCross(f)?hs.centerFromEnd(f,g):NaN}handlePossibleCenter(e,t,n){const s=e[0]+e[1]+e[2],o=hs.centerFromEnd(e,n),u=this.crossCheckVertical(t,o,2*e[1],s);if(!isNaN(u)){const f=(e[0]+e[1]+e[2])/3;for(const m of this.possibleCenters)if(m.aboutEquals(f,u,o))return m.combineEstimate(u,o,f);const g=new fs(o,u,f);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Ps extends Ne{constructor(e,t,n,s){super(e,t),this.estimatedModuleSize=n,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const s=this.count+1,o=(this.count*this.getX()+t)/s,u=(this.count*this.getY()+e)/s,f=(this.count*this.estimatedModuleSize+n)/s;return new Ps(o,u,f,s)}}class Ga{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ln{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(Fe.TRY_HARDER)!==void 0,n=e!=null&&e.get(Fe.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),u=s.getWidth();let f=Math.floor(3*o/(4*ln.MAX_MODULES));(f<ln.MIN_SKIP||t)&&(f=ln.MIN_SKIP);let g=!1;const m=new Int32Array(5);for(let b=f-1;b<o&&!g;b+=f){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;let N=0;for(let U=0;U<u;U++)if(s.get(U,b))(N&1)===1&&N++,m[N]++;else if(N&1)m[N]++;else if(N===4)if(ln.foundPatternCross(m)){if(this.handlePossibleCenter(m,b,U,n)===!0)if(f=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>m[2]&&(b+=L-m[2]-f,U=u-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,N=3;continue}N=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,N=3;else m[++N]++;ln.foundPatternCross(m)&&this.handlePossibleCenter(m,b,u,n)===!0&&(f=m[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Ne.orderBestPatterns(C),new Ga(C)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let o=0;o<5;o++){const u=e[o];if(u===0)return!1;t+=u}if(t<7)return!1;const n=t/7,s=n/2;return Math.abs(n-e[0])<s&&Math.abs(n-e[1])<s&&Math.abs(3*n-e[2])<3*s&&Math.abs(n-e[3])<s&&Math.abs(n-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,s){const o=this.getCrossCheckStateCount();let u=0;const f=this.image;for(;e>=u&&t>=u&&f.get(t-u,e-u);)o[2]++,u++;if(e<u||t<u)return!1;for(;e>=u&&t>=u&&!f.get(t-u,e-u)&&o[1]<=n;)o[1]++,u++;if(e<u||t<u||o[1]>n)return!1;for(;e>=u&&t>=u&&f.get(t-u,e-u)&&o[0]<=n;)o[0]++,u++;if(o[0]>n)return!1;const g=f.getHeight(),m=f.getWidth();for(u=1;e+u<g&&t+u<m&&f.get(t+u,e+u);)o[2]++,u++;if(e+u>=g||t+u>=m)return!1;for(;e+u<g&&t+u<m&&!f.get(t+u,e+u)&&o[3]<n;)o[3]++,u++;if(e+u>=g||t+u>=m||o[3]>=n)return!1;for(;e+u<g&&t+u<m&&f.get(t+u,e+u)&&o[4]<n;)o[4]++,u++;if(o[4]>=n)return!1;const C=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(C-s)<2*s&&ln.foundPatternCross(o)}crossCheckVertical(e,t,n,s){const o=this.image,u=o.getHeight(),f=this.getCrossCheckStateCount();let g=e;for(;g>=0&&o.get(t,g);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!o.get(t,g)&&f[1]<=n;)f[1]++,g--;if(g<0||f[1]>n)return NaN;for(;g>=0&&o.get(t,g)&&f[0]<=n;)f[0]++,g--;if(f[0]>n)return NaN;for(g=e+1;g<u&&o.get(t,g);)f[2]++,g++;if(g===u)return NaN;for(;g<u&&!o.get(t,g)&&f[3]<n;)f[3]++,g++;if(g===u||f[3]>=n)return NaN;for(;g<u&&o.get(t,g)&&f[4]<n;)f[4]++,g++;if(f[4]>=n)return NaN;const m=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(m-s)>=2*s?NaN:ln.foundPatternCross(f)?ln.centerFromEnd(f,g):NaN}crossCheckHorizontal(e,t,n,s){const o=this.image,u=o.getWidth(),f=this.getCrossCheckStateCount();let g=e;for(;g>=0&&o.get(g,t);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!o.get(g,t)&&f[1]<=n;)f[1]++,g--;if(g<0||f[1]>n)return NaN;for(;g>=0&&o.get(g,t)&&f[0]<=n;)f[0]++,g--;if(f[0]>n)return NaN;for(g=e+1;g<u&&o.get(g,t);)f[2]++,g++;if(g===u)return NaN;for(;g<u&&!o.get(g,t)&&f[3]<n;)f[3]++,g++;if(g===u||f[3]>=n)return NaN;for(;g<u&&o.get(g,t)&&f[4]<n;)f[4]++,g++;if(f[4]>=n)return NaN;const m=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(m-s)>=s?NaN:ln.foundPatternCross(f)?ln.centerFromEnd(f,g):NaN}handlePossibleCenter(e,t,n,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let u=ln.centerFromEnd(e,n),f=this.crossCheckVertical(t,Math.floor(u),e[2],o);if(!isNaN(f)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(f),e[2],o),!isNaN(u)&&(!s||this.crossCheckDiagonal(Math.floor(f),Math.floor(u),e[2],o)))){const g=o/7;let m=!1;const C=this.possibleCenters;for(let b=0,N=C.length;b<N;b++){const U=C[b];if(U.aboutEquals(g,f,u)){C[b]=U.combineEstimate(f,u,g),m=!0;break}}if(!m){const b=new Ps(u,f,g);C.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const n of this.possibleCenters)if(n.getCount()>=ln.CENTER_QUORUM)if(t==null)t=n;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-n.getX())-Math.abs(t.getY()-n.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=ln.CENTER_QUORUM&&(e++,t+=u.getEstimatedModuleSize());if(e<3)return!1;const s=t/n;let o=0;for(const u of this.possibleCenters)o+=Math.abs(u.getEstimatedModuleSize()-s);return o<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new B;const t=this.possibleCenters;let n;if(e>3){let s=0,o=0;for(const g of this.possibleCenters){const m=g.getEstimatedModuleSize();s+=m,o+=m*m}n=s/e;let u=Math.sqrt(o/e-n*n);t.sort((g,m)=>{const C=Math.abs(m.getEstimatedModuleSize()-n),b=Math.abs(g.getEstimatedModuleSize()-n);return C<b?-1:C>b?1:0});const f=Math.max(.2*n,u);for(let g=0;g<t.length&&t.length>3;g++){const m=t[g];Math.abs(m.getEstimatedModuleSize()-n)>f&&(t.splice(g,1),g--)}}if(t.length>3){let s=0;for(const o of t)s+=o.getEstimatedModuleSize();n=s/t.length,t.sort((o,u)=>{if(u.getCount()===o.getCount()){const f=Math.abs(u.getEstimatedModuleSize()-n),g=Math.abs(o.getEstimatedModuleSize()-n);return f<g?1:f>g?-1:0}else return u.getCount()-o.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}ln.CENTER_QUORUM=2,ln.MIN_SKIP=3,ln.MAX_MODULES=57;class Pi{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Fe.NEED_RESULT_POINT_CALLBACK);const n=new ln(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(n)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(t,n,s);if(o<1)throw new B("No pattern found in proccess finder.");const u=Pi.computeDimension(t,n,s,o),f=je.getProvisionalVersionForDimension(u),g=f.getDimensionForVersion()-7;let m=null;if(f.getAlignmentPatternCenters().length>0){const U=n.getX()-t.getX()+s.getX(),v=n.getY()-t.getY()+s.getY(),L=1-3/g,F=Math.floor(t.getX()+L*(U-t.getX())),Y=Math.floor(t.getY()+L*(v-t.getY()));for(let le=4;le<=16;le<<=1)try{m=this.findAlignmentInRegion(o,F,Y,le);break}catch(fe){if(!(fe instanceof B))throw fe}}const C=Pi.createTransform(t,n,s,m,u),b=Pi.sampleGrid(this.image,C,u);let N;return m===null?N=[s,t,n]:N=[s,t,n,m],new Xn(b,N)}static createTransform(e,t,n,s,o){const u=o-3.5;let f,g,m,C;return s!==null?(f=s.getX(),g=s.getY(),m=u-3,C=m):(f=t.getX()-e.getX()+n.getX(),g=t.getY()-e.getY()+n.getY(),m=u,C=u),Un.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,m,C,3.5,u,e.getX(),e.getY(),t.getX(),t.getY(),f,g,n.getX(),n.getY())}static sampleGrid(e,t,n){return On.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,s){const o=ht.round(Ne.distance(e,t)/s),u=ht.round(Ne.distance(e,n)/s);let f=Math.floor((o+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new B("Dimensions could be not found.")}return f}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?s/7:isNaN(s)?n/7:(n+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,s){let o=this.sizeOfBlackWhiteBlackRun(e,t,n,s),u=1,f=e-(n-e);f<0?(u=e/(e-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(f-e),f=this.image.getWidth()-1);let g=Math.floor(t-(s-t)*u);return u=1,g<0?(u=t/(t-g),g=0):g>=this.image.getHeight()&&(u=(this.image.getHeight()-1-t)/(g-t),g=this.image.getHeight()-1),f=Math.floor(e+(f-e)*u),o+=this.sizeOfBlackWhiteBlackRun(e,t,f,g),o-1}sizeOfBlackWhiteBlackRun(e,t,n,s){const o=Math.abs(s-t)>Math.abs(n-e);if(o){let U=e;e=t,t=U,U=n,n=s,s=U}const u=Math.abs(n-e),f=Math.abs(s-t);let g=-u/2;const m=e<n?1:-1,C=t<s?1:-1;let b=0;const N=n+m;for(let U=e,v=t;U!==N;U+=m){const L=o?v:U,F=o?U:v;if(b===1===this.image.get(L,F)){if(b===2)return ht.distance(U,v,e,t);b++}if(g+=f,g>0){if(v===s)break;v+=C,g-=u}}return b===2?ht.distance(n+m,s,e,t):NaN}findAlignmentInRegion(e,t,n,s){const o=Math.floor(s*e),u=Math.max(0,t-o),f=Math.min(this.image.getWidth()-1,t+o);if(f-u<e*3)throw new B("Alignment top exceeds estimated module size.");const g=Math.max(0,n-o),m=Math.min(this.image.getHeight()-1,n+o);if(m-g<e*3)throw new B("Alignment bottom exceeds estimated module size.");return new hs(this.image,u,g,f-u,m-g,e,this.resultPointCallback).find()}}class Wr{constructor(){this.decoder=new Io}getDecoder(){return this.decoder}decode(e,t){let n,s;if(t!=null&&t.get(Fe.PURE_BARCODE)!==void 0){const g=Wr.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(g,t),s=Wr.NO_POINTS}else{const g=new Pi(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(g.getBits(),t),s=g.getPoints()}n.getOther()instanceof Bs&&n.getOther().applyMirroredCorrection(s);const o=new Ye(n.getText(),n.getRawBytes(),void 0,s,Oe.QR_CODE,void 0),u=n.getByteSegments();u!==null&&o.putMetadata(Ve.BYTE_SEGMENTS,u);const f=n.getECLevel();return f!==null&&o.putMetadata(Ve.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(o.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(Ve.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new B;const s=this.moduleSize(t,e);let o=t[1],u=n[1],f=t[0],g=n[0];if(f>=g||o>=u)throw new B;if(u-o!==g-f&&(g=f+(u-o),g>=e.getWidth()))throw new B;const m=Math.round((g-f+1)/s),C=Math.round((u-o+1)/s);if(m<=0||C<=0)throw new B;if(C!==m)throw new B;const b=Math.floor(s/2);o+=b,f+=b;const N=f+Math.floor((m-1)*s)-g;if(N>0){if(N>b)throw new B;f-=N}const U=o+Math.floor((C-1)*s)-u;if(U>0){if(U>b)throw new B;o-=U}const v=new V(m,C);for(let L=0;L<C;L++){const F=o+Math.floor(L*s);for(let Y=0;Y<m;Y++)e.get(f+Math.floor(Y*s),F)&&v.set(Y,L)}return v}static moduleSize(e,t){const n=t.getHeight(),s=t.getWidth();let o=e[0],u=e[1],f=!0,g=0;for(;o<s&&u<n;){if(f!==t.get(o,u)){if(++g===5)break;f=!f}o++,u++}if(o===s||u===n)throw new B;return(o-e[0])/7}}Wr.NO_POINTS=new Array;class Ke{PDF417Common(){}static getBitCountSum(e){return ht.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ke.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const s of e)t[n++]=s;return t}static getCodeword(e){const t=q.binarySearch(Ke.SYMBOL_TABLE,e&262143);return t<0?-1:(Ke.CODEWORD_TABLE[t]-1)%Ke.NUMBER_OF_CODEWORDS}}Ke.NUMBER_OF_CODEWORDS=929,Ke.MAX_CODEWORDS_IN_BARCODE=Ke.NUMBER_OF_CODEWORDS-1,Ke.MIN_ROWS_IN_BARCODE=3,Ke.MAX_ROWS_IN_BARCODE=90,Ke.MODULES_IN_CODEWORD=17,Ke.MODULES_IN_STOP_PATTERN=18,Ke.BARS_IN_MODULE=8,Ke.EMPTY_INT_ARRAY=new Int32Array([]),Ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ya{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class nt{static detectMultiple(e,t,n){let s=e.getBlackMatrix(),o=nt.detect(n,s);return o.length||(s=s.clone(),s.rotate180(),o=nt.detect(n,s)),new Ya(s,o)}static detect(e,t){const n=new Array;let s=0,o=0,u=!1;for(;s<t.getHeight();){const f=nt.findVertices(t,s,o);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,o=0;for(const g of n)g[1]!=null&&(s=Math.trunc(Math.max(s,g[1].getY()))),g[3]!=null&&(s=Math.max(s,Math.trunc(g[3].getY())));s+=nt.ROW_STEP;continue}if(u=!0,n.push(f),!e)break;f[2]!=null?(o=Math.trunc(f[2].getX()),s=Math.trunc(f[2].getY())):(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY()))}return n}static findVertices(e,t,n){const s=e.getHeight(),o=e.getWidth(),u=new Array(8);return nt.copyToResult(u,nt.findRowsWithPattern(e,s,o,t,n,nt.START_PATTERN),nt.INDEXES_START_PATTERN),u[4]!=null&&(n=Math.trunc(u[4].getX()),t=Math.trunc(u[4].getY())),nt.copyToResult(u,nt.findRowsWithPattern(e,s,o,t,n,nt.STOP_PATTERN),nt.INDEXES_STOP_PATTERN),u}static copyToResult(e,t,n){for(let s=0;s<n.length;s++)e[n[s]]=t[s]}static findRowsWithPattern(e,t,n,s,o,u){const f=new Array(4);let g=!1;const m=new Int32Array(u.length);for(;s<t;s+=nt.ROW_STEP){let b=nt.findGuardPattern(e,o,s,n,!1,u,m);if(b!=null){for(;s>0;){const N=nt.findGuardPattern(e,o,--s,n,!1,u,m);if(N!=null)b=N;else{s++;break}}f[0]=new Ne(b[0],s),f[1]=new Ne(b[1],s),g=!0;break}}let C=s+1;if(g){let b=0,N=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;C<t;C++){const U=nt.findGuardPattern(e,N[0],C,n,!1,u,m);if(U!=null&&Math.abs(N[0]-U[0])<nt.MAX_PATTERN_DRIFT&&Math.abs(N[1]-U[1])<nt.MAX_PATTERN_DRIFT)N=U,b=0;else{if(b>nt.SKIPPED_ROW_COUNT_MAX)break;b++}}C-=b+1,f[2]=new Ne(N[0],C),f[3]=new Ne(N[1],C)}return C-s<nt.BARCODE_MIN_HEIGHT&&q.fill(f,null),f}static findGuardPattern(e,t,n,s,o,u,f){q.fillWithin(f,0,f.length,0);let g=t,m=0;for(;e.get(g,n)&&g>0&&m++<nt.MAX_PIXEL_DRIFT;)g--;let C=g,b=0,N=u.length;for(let U=o;C<s;C++)if(e.get(C,n)!==U)f[b]++;else{if(b===N-1){if(nt.patternMatchVariance(f,u,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return new Int32Array([g,C]);g+=f[0]+f[1],W.arraycopy(f,2,f,0,b-1),f[b-1]=0,f[b]=0,b--}else b++;f[b]=1,U=!U}return b===N-1&&nt.patternMatchVariance(f,u,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE?new Int32Array([g,C-1]):null}static patternMatchVariance(e,t,n){let s=e.length,o=0,u=0;for(let m=0;m<s;m++)o+=e[m],u+=t[m];if(o<u)return 1/0;let f=o/u;n*=f;let g=0;for(let m=0;m<s;m++){let C=e[m],b=t[m]*f,N=C>b?C-b:b-C;if(N>n)return 1/0;g+=N}return g/o}}nt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),nt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),nt.MAX_AVG_VARIANCE=.42,nt.MAX_INDIVIDUAL_VARIANCE=.8,nt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),nt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),nt.MAX_PIXEL_DRIFT=3,nt.MAX_PATTERN_DRIFT=5,nt.SKIPPED_ROW_COUNT_MAX=25,nt.ROW_STEP=5,nt.BARCODE_MIN_HEIGHT=10;class wn{constructor(e,t){if(t.length===0)throw new M;this.field=e;let n=t.length;if(n>1&&t[0]===0){let s=1;for(;s<n&&t[s]===0;)s++;s===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-s),W.arraycopy(t,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let t=this.coefficients[0],n=this.coefficients.length;for(let s=1;s<n;s++)t=this.field.add(this.field.multiply(e,t),this.coefficients[s]);return t}add(e){if(!this.field.equals(e.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let u=t;t=n,n=u}let s=new Int32Array(n.length),o=n.length-t.length;W.arraycopy(n,0,s,0,o);for(let u=o;u<n.length;u++)s[u]=this.field.add(t[u-o],n[u]);return new wn(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new M("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof wn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new wn(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,s=e.coefficients,o=s.length,u=new Int32Array(n+o-1);for(let f=0;f<n;f++){let g=t[f];for(let m=0;m<o;m++)u[f+m]=this.field.add(u[f+m],this.field.multiply(g,s[m]))}return new wn(this.field,u)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new wn(this.field,t)}multiplyScalar(e){if(e===0)return new wn(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let s=0;s<t;s++)n[s]=this.field.multiply(this.coefficients[s],e);return new wn(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new M;if(t===0)return new wn(this.field,new Int32Array([0]));let n=this.coefficients.length,s=new Int32Array(n+e);for(let o=0;o<n;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new wn(this.field,s)}toString(){let e=new D;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Xa{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new M;return this.logTable[e]}inverse(e){if(e===0)throw new fn;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Fs extends Xa{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let s=0;s<e;s++)this.expTable[s]=n,n=n*t%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new wn(this,new Int32Array([0])),this.one=new wn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new M;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new wn(this,n)}}Fs.PDF417_GF=new Fs(Ke.NUMBER_OF_CODEWORDS,3);class bo{constructor(){this.field=Fs.PDF417_GF}decode(e,t,n){let s=new wn(this.field,e),o=new Int32Array(t),u=!1;for(let v=t;v>0;v--){let L=s.evaluateAt(this.field.exp(v));o[t-v]=L,L!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(n!=null)for(const v of n){let L=this.field.exp(e.length-1-v),F=new wn(this.field,new Int32Array([this.field.subtract(0,L),1]));f=f.multiply(F)}let g=new wn(this.field,o),m=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),g,t),C=m[0],b=m[1],N=this.findErrorLocations(C),U=this.findErrorMagnitudes(b,C,N);for(let v=0;v<N.length;v++){let L=e.length-1-this.field.log(N[v]);if(L<0)throw H.getChecksumInstance();e[L]=this.field.subtract(e[L],U[v])}return N.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let N=e;e=t,t=N}let s=e,o=t,u=this.field.getZero(),f=this.field.getOne();for(;o.getDegree()>=Math.round(n/2);){let N=s,U=u;if(s=o,u=f,s.isZero())throw H.getChecksumInstance();o=N;let v=this.field.getZero(),L=s.getCoefficient(s.getDegree()),F=this.field.inverse(L);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let Y=o.getDegree()-s.getDegree(),le=this.field.multiply(o.getCoefficient(o.getDegree()),F);v=v.add(this.field.buildMonomial(Y,le)),o=o.subtract(s.multiplyByMonomial(Y,le))}f=v.multiply(u).subtract(U).negative()}let g=f.getCoefficient(0);if(g===0)throw H.getChecksumInstance();let m=this.field.inverse(g),C=f.multiply(m),b=o.multiply(m);return[C,b]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),s=0;for(let o=1;o<this.field.getSize()&&s<t;o++)e.evaluateAt(o)===0&&(n[s]=this.field.inverse(o),s++);if(s!==t)throw H.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let s=t.getDegree(),o=new Int32Array(s);for(let m=1;m<=s;m++)o[s-m]=this.field.multiply(m,t.getCoefficient(m));let u=new wn(this.field,o),f=n.length,g=new Int32Array(f);for(let m=0;m<f;m++){let C=this.field.inverse(n[m]),b=this.field.subtract(0,e.evaluateAt(C)),N=this.field.inverse(u.evaluateAt(C));g[m]=this.field.multiply(b,N)}return g}}class qr{constructor(e,t,n,s,o){e instanceof qr?this.constructor_2(e):this.constructor_1(e,t,n,s,o)}constructor_1(e,t,n,s,o){const u=t==null||n==null,f=s==null||o==null;if(u&&f)throw new B;u?(t=new Ne(0,s.getY()),n=new Ne(0,o.getY())):f&&(s=new Ne(e.getWidth()-1,t.getY()),o=new Ne(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),s.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new qr(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let s=this.topLeft,o=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(e>0){let g=n?this.topLeft:this.topRight,m=Math.trunc(g.getY()-e);m<0&&(m=0);let C=new Ne(g.getX(),m);n?s=C:u=C}if(t>0){let g=n?this.bottomLeft:this.bottomRight,m=Math.trunc(g.getY()+t);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let C=new Ne(g.getX(),m);n?o=C:f=C}return new qr(this.image,s,o,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Wt{constructor(e,t,n,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Tt{constructor(){this.buffer=""}static form(e,t){let n=-1;function s(u,f,g,m,C,b){if(u==="%%")return"%";if(t[++n]===void 0)return;u=m?parseInt(m.substr(1)):void 0;let N=C?parseInt(C.substr(1)):void 0,U;switch(b){case"s":U=t[n];break;case"c":U=t[n][0];break;case"f":U=parseFloat(t[n]).toFixed(u);break;case"p":U=parseFloat(t[n]).toPrecision(u);break;case"e":U=parseFloat(t[n]).toExponential(u);break;case"x":U=parseInt(t[n]).toString(N||16);break;case"d":U=parseFloat(parseInt(t[n],N||10).toPrecision(u)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(N);let v=parseInt(g),L=g&&g[0]+""=="0"?"0":" ";for(;U.length<v;)U=f!==void 0?U+L:L+U;return U}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...t){this.buffer+=Tt.form(e,t)}toString(){return this.buffer}}class Fi{constructor(e){this.boundingBox=new qr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let n=1;n<Fi.MAX_NEARBY_DISTANCE;n++){let s=this.imageRowToCodewordIndex(e)-n;if(s>=0&&(t=this.codewords[s],t!=null)||(s=this.imageRowToCodewordIndex(e)+n,s<this.codewords.length&&(t=this.codewords[s],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Tt;let t=0;for(const n of this.codewords){if(n==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue())}return e.toString()}}Fi.MAX_NEARBY_DISTANCE=5;class ki{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,s]of this.values.entries()){const o={getKey:()=>n,getValue:()=>s};o.getValue()>e?(e=o.getValue(),t=[],t.push(o.getKey())):o.getValue()===e&&t.push(o.getKey())}return Ke.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class So extends Fi{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),s=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.imageRowToCodewordIndex(Math.trunc(o.getY())),g=-1,m=1,C=0;for(let b=u;b<f;b++){if(t[b]==null)continue;let N=t[b],U=N.getRowNumber()-g;if(U===0)C++;else if(U===1)m=Math.max(m,C),C=1,g=N.getRowNumber();else if(U<0||N.getRowNumber()>=e.getRowCount()||U>b)t[b]=null;else{let v;m>2?v=(m-2)*U:v=U;let L=v>=b;for(let F=1;F<=v&&!L;F++)L=t[b-F]!=null;L?t[b]=null:(g=N.getRowNumber(),C=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(n!=null){let s=n.getRowNumber();if(s>=t.length)continue;t[s]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),s=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.getCodewords(),g=-1;for(let m=o;m<u;m++){if(f[m]==null)continue;let C=f[m];C.setRowNumberAsRowIndicatorColumn();let b=C.getRowNumber()-g;b===0||(b===1?g=C.getRowNumber():C.getRowNumber()>=e.getRowCount()?f[m]=null:g=C.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new ki,n=new ki,s=new ki,o=new ki;for(let f of e){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let g=f.getValue()%30,m=f.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:n.setValue(g*3+1);break;case 1:o.setValue(g/3),s.setValue(g%3);break;case 2:t.setValue(g+1);break}}if(t.getValue().length===0||n.getValue().length===0||s.getValue().length===0||o.getValue().length===0||t.getValue()[0]<1||n.getValue()[0]+s.getValue()[0]<Ke.MIN_ROWS_IN_BARCODE||n.getValue()[0]+s.getValue()[0]>Ke.MAX_ROWS_IN_BARCODE)return null;let u=new Wt(t.getValue()[0],n.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,u),u}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let s=e[n];if(e[n]==null)continue;let o=s.getValue()%30,u=s.getRowNumber();if(u>t.getRowCount()){e[n]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:o*3+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:(Math.trunc(o/3)!==t.getErrorCorrectionLevel()||o%3!==t.getRowCountLowerPart())&&(e[n]=null);break;case 2:o+1!==t.getColumnCount()&&(e[n]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ui{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ke.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let n=this.detectionResultColumns[t].getCodewords();for(let s=0;s<n.length;s++)n[s]!=null&&(n[s].hasValidRowNumber()||this.adjustRowNumbers(t,s,n))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let s=t[n].getRowNumber(),o=0;for(let u=this.barcodeColumnCount+1;u>0&&o<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[n];f!=null&&(o=Ui.adjustRowNumberIfValid(s,o,f),f.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let s=t[n].getRowNumber(),o=0;for(let u=1;u<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[n];f!=null&&(o=Ui.adjustRowNumberIfValid(s,o,f),f.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let s=n[t],o=this.detectionResultColumns[e-1].getCodewords(),u=o;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());let f=new Array(14);f[2]=o[t],f[3]=u[t],t>0&&(f[0]=n[t-1],f[4]=o[t-1],f[5]=u[t-1]),t>1&&(f[8]=n[t-2],f[10]=o[t-2],f[11]=u[t-2]),t<n.length-1&&(f[1]=n[t+1],f[6]=o[t+1],f[7]=u[t+1]),t<n.length-2&&(f[9]=n[t+2],f[12]=o[t+2],f[13]=u[t+2]);for(let g of f)if(Ui.adjustRowNumber(s,g))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Tt;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){t.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[n];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()}}class Hi{constructor(e,t,n,s){this.rowNumber=Hi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Hi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Hi.BARCODE_ROW_UNKNOWN=-1;class Bn{static initialize(){for(let e=0;e<Ke.SYMBOL_TABLE.length;e++){let t=Ke.SYMBOL_TABLE[e],n=t&1;for(let s=0;s<Ke.BARS_IN_MODULE;s++){let o=0;for(;(t&1)===n;)o+=1,t>>=1;n=t&1,Bn.RATIOS_TABLE[e]||(Bn.RATIOS_TABLE[e]=new Array(Ke.BARS_IN_MODULE)),Bn.RATIOS_TABLE[e][Ke.BARS_IN_MODULE-s-1]=Math.fround(o/Ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Bn.getDecodedCodewordValue(Bn.sampleBitCounts(e));return t!==-1?t:Bn.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ht.sum(e),n=new Int32Array(Ke.BARS_IN_MODULE),s=0,o=0;for(let u=0;u<Ke.MODULES_IN_CODEWORD;u++){let f=t/(2*Ke.MODULES_IN_CODEWORD)+u*t/Ke.MODULES_IN_CODEWORD;o+e[s]<=f&&(o+=e[s],s++),n[s]++}return n}static getDecodedCodewordValue(e){let t=Bn.getBitValue(e);return Ke.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let s=0;s<e[n];s++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ht.sum(e),n=new Array(Ke.BARS_IN_MODULE);if(t>1)for(let u=0;u<n.length;u++)n[u]=Math.fround(e[u]/t);let s=tr.MAX_VALUE,o=-1;this.bSymbolTableReady||Bn.initialize();for(let u=0;u<Bn.RATIOS_TABLE.length;u++){let f=0,g=Bn.RATIOS_TABLE[u];for(let m=0;m<Ke.BARS_IN_MODULE;m++){let C=Math.fround(g[m]-n[m]);if(f+=Math.fround(C*C),f>=s)break}f<s&&(s=f,o=Ke.SYMBOL_TABLE[u])}return o}}Bn.bSymbolTableReady=!1,Bn.RATIOS_TABLE=new Array(Ke.SYMBOL_TABLE.length).map(y=>new Array(Ke.BARS_IN_MODULE));class ks{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class vo{static parseLong(e,t=void 0){return parseInt(e,t)}}class dn extends A{}dn.kind="NullPointerException";class Us{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(e==null)throw new dn;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new Z;if(n===0)return;for(let s=0;s<n;s++)this.write(e[t+s])}flush(){}close(){}}class Jr extends A{}class To extends Us{constructor(e=32){if(super(),this.count=0,e<0)throw new M("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let n=this.buf.length<<1;if(n-e<0&&(n=e),n<0){if(e<0)throw new Jr;n=te.MAX_VALUE}this.buf=q.copyOfUint8Array(this.buf,n)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new Z;this.ensureCapacity(this.count+n),W.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ot;(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ot||(Ot={}));function jn(){if(typeof window<"u")return window.BigInt||null;if(typeof Xr<"u")return Xr.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Wi;function Tr(y){if(typeof Wi>"u"&&(Wi=jn()),Wi===null)throw new Error("BigInt is not supported!");return Wi(y)}function Oo(){let y=[];y[0]=Tr(1);let e=Tr(900);y[1]=e;for(let t=2;t<16;t++)y[t]=y[t-1]*e;return y}class re{static decode(e,t){let n=new D(""),s=J.ISO8859_1;n.enableDecoding(s);let o=1,u=e[o++],f=new ks;for(;o<e[0];){switch(u){case re.TEXT_COMPACTION_MODE_LATCH:o=re.textCompaction(e,o,n);break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:o=re.byteCompaction(u,e,s,o,n);break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case re.NUMERIC_COMPACTION_MODE_LATCH:o=re.numericCompaction(e,o,n);break;case re.ECI_CHARSET:J.getCharacterSetECIByValue(e[o++]);break;case re.ECI_GENERAL_PURPOSE:o+=2;break;case re.ECI_USER_DEFINED:o++;break;case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=re.decodeMacroBlock(e,o,f);break;case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:throw new me;default:o--,o=re.textCompaction(e,o,n);break}if(o<e.length)u=e[o++];else throw me.getFormatInstance()}if(n.length()===0)throw me.getFormatInstance();let g=new Ct(null,n.toString(),null,t);return g.setOther(f),g}static decodeMacroBlock(e,t,n){if(t+re.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();let s=new Int32Array(re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<re.NUMBER_OF_SEQUENCE_CODEWORDS;f++,t++)s[f]=e[t];n.setSegmentIndex(te.parseInt(re.decodeBase900toBase10(s,re.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new D;t=re.textCompaction(e,t,o),n.setFileId(o.toString());let u=-1;for(e[t]===re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new D;t=re.textCompaction(e,t+1,f),n.setFileName(f.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new D;t=re.textCompaction(e,t+1,g),n.setSender(g.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new D;t=re.textCompaction(e,t+1,m),n.setAddressee(m.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new D;t=re.numericCompaction(e,t+1,C),n.setSegmentCount(te.parseInt(C.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new D;t=re.numericCompaction(e,t+1,b),n.setTimestamp(vo.parseLong(b.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new D;t=re.numericCompaction(e,t+1,N),n.setChecksum(te.parseInt(N.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new D;t=re.numericCompaction(e,t+1,U),n.setFileSize(vo.parseLong(U.toString()));break;default:throw me.getFormatInstance()}break;case re.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(u!==-1){let f=t-u;n.isLastSegment()&&f--,n.setOptionalData(q.copyOfRange(e,u,u+f))}return t}static textCompaction(e,t,n){let s=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),u=0,f=!1;for(;t<e[0]&&!f;){let g=e[t++];if(g<re.TEXT_COMPACTION_MODE_LATCH)s[u]=g/30,s[u+1]=g%30,u+=2;else switch(g){case re.TEXT_COMPACTION_MODE_LATCH:s[u++]=re.TEXT_COMPACTION_MODE_LATCH;break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:t--,f=!0;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[u]=re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=e[t++],o[u]=g,u++;break}}return re.decodeTextCompaction(s,o,u,n),t}static decodeTextCompaction(e,t,n,s){let o=Ot.ALPHA,u=Ot.ALPHA,f=0;for(;f<n;){let g=e[f],m="";switch(o){case Ot.ALPHA:if(g<26)m=String.fromCharCode(65+g);else switch(g){case 26:m=" ";break;case re.LL:o=Ot.LOWER;break;case re.ML:o=Ot.MIXED;break;case re.PS:u=o,o=Ot.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[f]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.LOWER:if(g<26)m=String.fromCharCode(97+g);else switch(g){case 26:m=" ";break;case re.AS:u=o,o=Ot.ALPHA_SHIFT;break;case re.ML:o=Ot.MIXED;break;case re.PS:u=o,o=Ot.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[f]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.MIXED:if(g<re.PL)m=re.MIXED_CHARS[g];else switch(g){case re.PL:o=Ot.PUNCT;break;case 26:m=" ";break;case re.LL:o=Ot.LOWER;break;case re.AL:o=Ot.ALPHA;break;case re.PS:u=o,o=Ot.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[f]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.PUNCT:if(g<re.PAL)m=re.PUNCT_CHARS[g];else switch(g){case re.PAL:o=Ot.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[f]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.ALPHA_SHIFT:if(o=u,g<26)m=String.fromCharCode(65+g);else switch(g){case 26:m=" ";break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break;case Ot.PUNCT_SHIFT:if(o=u,g<re.PAL)m=re.PUNCT_CHARS[g];else switch(g){case re.PAL:o=Ot.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[f]);break;case re.TEXT_COMPACTION_MODE_LATCH:o=Ot.ALPHA;break}break}m!==""&&s.append(m),f++}}static byteCompaction(e,t,n,s,o){let u=new To,f=0,g=0,m=!1;switch(e){case re.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),b=t[s++];for(;s<t[0]&&!m;)switch(C[f++]=b,g=900*g+b,b=t[s++],b){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:s--,m=!0;break;default:if(f%5===0&&f>0){for(let N=0;N<6;++N)u.write(Number(Tr(g)>>Tr(8*(5-N))));g=0,f=0}break}s===t[0]&&b<re.TEXT_COMPACTION_MODE_LATCH&&(C[f++]=b);for(let N=0;N<f;N++)u.write(C[N]);break;case re.BYTE_COMPACTION_MODE_LATCH_6:for(;s<t[0]&&!m;){let N=t[s++];if(N<re.TEXT_COMPACTION_MODE_LATCH)f++,g=900*g+N;else switch(N){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:s--,m=!0;break}if(f%5===0&&f>0){for(let U=0;U<6;++U)u.write(Number(Tr(g)>>Tr(8*(5-U))));g=0,f=0}}break}return o.append(ae.decode(u.toByteArray(),n)),s}static numericCompaction(e,t,n){let s=0,o=!1,u=new Int32Array(re.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!o;){let f=e[t++];if(t===e[0]&&(o=!0),f<re.TEXT_COMPACTION_MODE_LATCH)u[s]=f,s++;else switch(f){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(s%re.MAX_NUMERIC_CODEWORDS===0||f===re.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(n.append(re.decodeBase900toBase10(u,s)),s=0)}return t}static decodeBase900toBase10(e,t){let n=Tr(0);for(let o=0;o<t;o++)n+=re.EXP900[t-o-1]*Tr(e[o]);let s=n.toString();if(s.charAt(0)!=="1")throw new me;return s.substring(1)}}re.TEXT_COMPACTION_MODE_LATCH=900,re.BYTE_COMPACTION_MODE_LATCH=901,re.NUMERIC_COMPACTION_MODE_LATCH=902,re.BYTE_COMPACTION_MODE_LATCH_6=924,re.ECI_USER_DEFINED=925,re.ECI_GENERAL_PURPOSE=926,re.ECI_CHARSET=927,re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,re.MACRO_PDF417_TERMINATOR=922,re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,re.MAX_NUMERIC_CODEWORDS=15,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,re.PL=25,re.LL=27,re.AS=27,re.ML=28,re.AL=28,re.PS=29,re.PAL=29,re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",re.EXP900=jn()?Oo():[],re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class it{constructor(){}static decode(e,t,n,s,o,u,f){let g=new qr(e,t,n,s,o),m=null,C=null,b;for(let v=!0;;v=!1){if(t!=null&&(m=it.getRowIndicatorColumn(e,g,t,!0,u,f)),s!=null&&(C=it.getRowIndicatorColumn(e,g,s,!1,u,f)),b=it.merge(m,C),b==null)throw B.getNotFoundInstance();let L=b.getBoundingBox();if(v&&L!=null&&(L.getMinY()<g.getMinY()||L.getMaxY()>g.getMaxY()))g=L;else break}b.setBoundingBox(g);let N=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,m),b.setDetectionResultColumn(N,C);let U=m!=null;for(let v=1;v<=N;v++){let L=U?v:N-v;if(b.getDetectionResultColumn(L)!==void 0)continue;let F;L===0||L===N?F=new So(g,L===0):F=new Fi(g),b.setDetectionResultColumn(L,F);let Y=-1,le=Y;for(let fe=g.getMinY();fe<=g.getMaxY();fe++){if(Y=it.getStartColumn(b,L,fe,U),Y<0||Y>g.getMaxX()){if(le===-1)continue;Y=le}let de=it.detectCodeword(e,g.getMinX(),g.getMaxX(),U,Y,fe,u,f);de!=null&&(F.setCodeword(fe,de),le=Y,u=Math.min(u,de.getWidth()),f=Math.max(f,de.getWidth()))}}return it.createDecoderResult(b)}static merge(e,t){if(e==null&&t==null)return null;let n=it.getBarcodeMetadata(e,t);if(n==null)return null;let s=qr.merge(it.adjustBoundingBox(e),it.adjustBoundingBox(t));return new Ui(n,s)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let n=it.getMax(t),s=0;for(let f of t)if(s+=n-f,f>0)break;let o=e.getCodewords();for(let f=0;s>0&&o[f]==null;f++)s--;let u=0;for(let f=t.length-1;f>=0&&(u+=n-t[f],!(t[f]>0));f--);for(let f=o.length-1;u>0&&o[f]==null;f--)u--;return e.getBoundingBox().addMissingRows(s,u,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let s;return t==null||(s=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==s.getColumnCount()&&n.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&n.getRowCount()!==s.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,s,o,u){let f=new So(t,s);for(let g=0;g<2;g++){let m=g===0?1:-1,C=Math.trunc(Math.trunc(n.getX()));for(let b=Math.trunc(Math.trunc(n.getY()));b<=t.getMaxY()&&b>=t.getMinY();b+=m){let N=it.detectCodeword(e,0,e.getWidth(),s,C,b,o,u);N!=null&&(f.setCodeword(b,N),s?C=N.getStartX():C=N.getEndX())}}return f}static adjustCodewordCount(e,t){let n=t[0][1],s=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-it.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>Ke.MAX_CODEWORDS_IN_BARCODE)throw B.getNotFoundInstance();n.setValue(o)}else s[0]!==o&&n.setValue(o)}static createDecoderResult(e){let t=it.createBarcodeMatrix(e);it.adjustCodewordCount(e,t);let n=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],u=new Array;for(let g=0;g<e.getBarcodeRowCount();g++)for(let m=0;m<e.getBarcodeColumnCount();m++){let C=t[g][m+1].getValue(),b=g*e.getBarcodeColumnCount()+m;C.length===0?n.push(b):C.length===1?s[b]=C[0]:(u.push(b),o.push(C))}let f=new Array(o.length);for(let g=0;g<f.length;g++)f[g]=o[g];return it.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Ke.toIntArray(n),Ke.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(e,t,n,s,o){let u=new Int32Array(s.length),f=100;for(;f-- >0;){for(let g=0;g<u.length;g++)t[s[g]]=o[g][u[g]];try{return it.decodeCodewords(t,e,n)}catch(g){if(!(g instanceof H))throw g}if(u.length===0)throw H.getChecksumInstance();for(let g=0;g<u.length;g++)if(u[g]<o[g].length-1){u[g]++;break}else if(u[g]=0,g===u.length-1)throw H.getChecksumInstance()}throw H.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<t.length;s++)for(let o=0;o<t[s].length;o++)t[s][o]=new ki;let n=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=0){if(u>=t.length)continue;t[u][n].setValue(o.getValue())}}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,s){let o=s?1:-1,u=null;if(it.isValidBarcodeColumn(e,t-o)&&(u=e.getDetectionResultColumn(t-o).getCodeword(n)),u!=null)return s?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(t).getCodewordNearby(n),u!=null)return s?u.getStartX():u.getEndX();if(it.isValidBarcodeColumn(e,t-o)&&(u=e.getDetectionResultColumn(t-o).getCodewordNearby(n)),u!=null)return s?u.getEndX():u.getStartX();let f=0;for(;it.isValidBarcodeColumn(e,t-o);){t-=o;for(let g of e.getDetectionResultColumn(t).getCodewords())if(g!=null)return(s?g.getEndX():g.getStartX())+o*f*(g.getEndX()-g.getStartX());f++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,s,o,u,f,g){o=it.adjustCodewordStartColumn(e,t,n,s,o,u);let m=it.getModuleBitCount(e,t,n,s,o,u);if(m==null)return null;let C,b=ht.sum(m);if(s)C=o+b;else{for(let v=0;v<m.length/2;v++){let L=m[v];m[v]=m[m.length-1-v],m[m.length-1-v]=L}C=o,o=C-b}if(!it.checkCodewordSkew(b,f,g))return null;let N=Bn.getDecodedValue(m),U=Ke.getCodeword(N);return U===-1?null:new Hi(o,C,it.getCodewordBucketNumber(N),U)}static getModuleBitCount(e,t,n,s,o,u){let f=o,g=new Int32Array(8),m=0,C=s?1:-1,b=s;for(;(s?f<n:f>=t)&&m<g.length;)e.get(f,u)===b?(g[m]++,f+=C):(m++,b=!b);return m===g.length||f===(s?n:t)&&m===g.length-1?g:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,s,o,u){let f=o,g=s?-1:1;for(let m=0;m<2;m++){for(;(s?f>=t:f<n)&&s===e.get(f,u);){if(Math.abs(o-f)>it.CODEWORD_SKEW_SIZE)return o;f+=g}g=-g,s=!s}return f}static checkCodewordSkew(e,t,n){return t-it.CODEWORD_SKEW_SIZE<=e&&e<=n+it.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(e.length===0)throw me.getFormatInstance();let s=1<<t+1,o=it.correctErrors(e,n,s);it.verifyCodewordCount(e,s);let u=re.decode(e,""+t);return u.setErrorsCorrected(o),u.setErasures(n.length),u}static correctErrors(e,t,n){if(t!=null&&t.length>n/2+it.MAX_ERRORS||n<0||n>it.MAX_EC_CODEWORDS)throw H.getChecksumInstance();return it.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw me.getFormatInstance();let n=e[0];if(n>e.length)throw me.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw me.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,s=t.length-1;for(;!((e&1)!==n&&(n=e&1,s--,s<0));)t[s]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return it.getCodewordBucketNumber(it.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Tt;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let s=0;s<e[n].length;s++){let o=e[n][s];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()}}it.CODEWORD_SKEW_SIZE=2,it.MAX_ERRORS=3,it.MAX_EC_CODEWORDS=512,it.errorCorrection=new bo;class gn{decode(e,t=null){let n=gn.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw B.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return gn.decode(e,t,!0)}catch(n){throw n instanceof me||n instanceof H?B.getNotFoundInstance():n}}static decode(e,t,n){const s=new Array,o=nt.detectMultiple(e,t,n);for(const u of o.getPoints()){const f=it.decode(o.getBits(),u[4],u[5],u[6],u[7],gn.getMinCodewordWidth(u),gn.getMaxCodewordWidth(u)),g=new Ye(f.getText(),f.getRawBytes(),void 0,u,Oe.PDF_417);g.putMetadata(Ve.ERROR_CORRECTION_LEVEL,f.getECLevel());const m=f.getOther();m!=null&&g.putMetadata(Ve.PDF417_EXTRA_METADATA,m),s.push(g)}return s.map(u=>u)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?te.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(gn.getMaxWidth(e[0],e[4]),gn.getMaxWidth(e[6],e[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.max(gn.getMaxWidth(e[1],e[5]),gn.getMaxWidth(e[7],e[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(gn.getMinWidth(e[0],e[4]),gn.getMinWidth(e[6],e[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.min(gn.getMinWidth(e[1],e[5]),gn.getMinWidth(e[7],e[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class bn extends A{}bn.kind="ReaderException";class No{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!h(e)&&e.get(Fe.TRY_HARDER)===!0,n=h(e)?null:e.get(Fe.POSSIBLE_FORMATS),s=new Array;if(!h(n)){const o=n.some(u=>u===Oe.UPC_A||u===Oe.UPC_E||u===Oe.EAN_13||u===Oe.EAN_8||u===Oe.CODABAR||u===Oe.CODE_39||u===Oe.CODE_93||u===Oe.CODE_128||u===Oe.ITF||u===Oe.RSS_14||u===Oe.RSS_EXPANDED);o&&!t&&s.push(new xr(e,this.verbose)),n.includes(Oe.QR_CODE)&&s.push(new Wr),n.includes(Oe.DATA_MATRIX)&&s.push(new rr),n.includes(Oe.AZTEC)&&s.push(new dr),n.includes(Oe.PDF_417)&&s.push(new gn),o&&t&&s.push(new xr(e,this.verbose))}s.length===0&&(t||s.push(new xr(e,this.verbose)),s.push(new Wr),s.push(new rr),s.push(new dr),s.push(new gn),t&&s.push(new xr(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new bn("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(n){if(n instanceof bn)continue}throw new B("No MultiFormat Readers were able to detect the code.")}}class Qn extends lt{constructor(e=null,t=500){const n=new No;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Ka extends lt{constructor(e=500){super(new gn,e)}}class Mo extends lt{constructor(e=500){super(new Wr,e)}}var wr;(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"})(wr||(wr={}));var qt=wr;class ji{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new yt(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const s=this.field;for(let o=t.length;o<=e;o++){const u=n.multiply(new yt(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));t.push(u),n=u}}return t[e]}encode(e,t){if(t===0)throw new M("No error correction bytes");const n=e.length-t;if(n<=0)throw new M("No data bytes provided");const s=this.buildGenerator(t),o=new Int32Array(n);W.arraycopy(e,0,o,0,n);let u=new yt(this.field,o);u=u.multiplyByMonomial(t,1);const g=u.divide(s)[1].getCoefficients(),m=t-g.length;for(let C=0;C<m;C++)e[n+C]=0;W.arraycopy(g,0,e,n+m,g.length)}}class et{constructor(){}static applyMaskPenaltyRule1(e){return et.applyMaskPenaltyRule1Internal(e,!0)+et.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let u=0;u<o-1;u++){const f=n[u];for(let g=0;g<s-1;g++){const m=f[g];m===f[g+1]&&m===n[u+1][g]&&m===n[u+1][g+1]&&t++}}return et.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let u=0;u<o;u++)for(let f=0;f<s;f++){const g=n[u];f+6<s&&g[f]===1&&g[f+1]===0&&g[f+2]===1&&g[f+3]===1&&g[f+4]===1&&g[f+5]===0&&g[f+6]===1&&(et.isWhiteHorizontal(g,f-4,f)||et.isWhiteHorizontal(g,f+7,f+11))&&t++,u+6<o&&n[u][f]===1&&n[u+1][f]===0&&n[u+2][f]===1&&n[u+3][f]===1&&n[u+4][f]===1&&n[u+5][f]===0&&n[u+6][f]===1&&(et.isWhiteVertical(n,f,u-4,u)||et.isWhiteVertical(n,f,u+7,u+11))&&t++}return t*et.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let s=t;s<n;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,t,n,s){n=Math.max(n,0),s=Math.min(s,e.length);for(let o=n;o<s;o++)if(e[o][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let g=0;g<o;g++){const m=n[g];for(let C=0;C<s;C++)m[C]===1&&t++}const u=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-u)*10/u)*et.N4}static getDataMaskBit(e,t,n){let s,o;switch(e){case 0:s=n+t&1;break;case 1:s=n&1;break;case 2:s=t%3;break;case 3:s=(n+t)%3;break;case 4:s=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:o=n*t,s=(o&1)+o%3;break;case 6:o=n*t,s=(o&1)+o%3&1;break;case 7:o=n*t,s=o%3+(n+t&1)&1;break;default:throw new M("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,t){let n=0;const s=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),u=e.getArray();for(let f=0;f<s;f++){let g=0,m=-1;for(let C=0;C<o;C++){const b=t?u[f][C]:u[C][f];b===m?g++:(g>=5&&(n+=et.N1+(g-5)),g=1,m=b)}g>=5&&(n+=et.N1+(g-5))}return n}}et.N1=3,et.N2=3,et.N3=40,et.N4=10;class ir{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let s=0;s!==t;s++)n[s]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)q.fill(t,e)}equals(e){if(!(e instanceof ir))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let n=0,s=this.height;n<s;++n){const o=this.bytes[n],u=t.bytes[n];for(let f=0,g=this.width;f<g;++f)if(o[f]!==u[f])return!1}return!0}toString(){const e=new D;for(let t=0,n=this.height;t<n;++t){const s=this.bytes[t];for(let o=0,u=this.width;o<u;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Or{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new D;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Or.NUM_MASK_PATTERNS}}Or.NUM_MASK_PATTERNS=8;class Pt extends A{}Pt.kind="WriterException";class Ge{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,s,o){Ge.clearMatrix(o),Ge.embedBasicPatterns(n,o),Ge.embedTypeInfo(t,s,o),Ge.maybeEmbedVersionInfo(n,o),Ge.embedDataBits(e,s,o)}static embedBasicPatterns(e,t){Ge.embedPositionDetectionPatternsAndSeparators(t),Ge.embedDarkDotAtLeftBottomCorner(t),Ge.maybeEmbedPositionAdjustmentPatterns(e,t),Ge.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const s=new Ae;Ge.makeTypeInfoBits(e,t,s);for(let o=0,u=s.getSize();o<u;++o){const f=s.get(s.getSize()-1-o),g=Ge.TYPE_INFO_COORDINATES[o],m=g[0],C=g[1];if(n.setBoolean(m,C,f),o<8){const b=n.getWidth()-o-1,N=8;n.setBoolean(b,N,f)}else{const N=n.getHeight()-7+(o-8);n.setBoolean(8,N,f)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new Ae;Ge.makeVersionInfoBits(e,n);let s=6*3-1;for(let o=0;o<6;++o)for(let u=0;u<3;++u){const f=n.get(s);s--,t.setBoolean(o,t.getHeight()-11+u,f),t.setBoolean(t.getHeight()-11+u,o,f)}}static embedDataBits(e,t,n){let s=0,o=-1,u=n.getWidth()-1,f=n.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<n.getHeight();){for(let g=0;g<2;++g){const m=u-g;if(!Ge.isEmpty(n.get(m,f)))continue;let C;s<e.getSize()?(C=e.get(s),++s):C=!1,t!==255&&et.getDataMaskBit(t,m,f)&&(C=!C),n.setBoolean(m,f,C)}f+=o}o=-o,f+=o,u-=2}if(s!==e.getSize())throw new Pt("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-te.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new M("0 polynomial");const n=Ge.findMSBSet(t);for(e<<=n-1;Ge.findMSBSet(e)>=n;)e^=t<<Ge.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!Or.isValidMaskPattern(t))throw new Pt("Invalid mask pattern");const s=e.getBits()<<3|t;n.appendBits(s,5);const o=Ge.calculateBCHCode(s,Ge.TYPE_INFO_POLY);n.appendBits(o,10);const u=new Ae;if(u.appendBits(Ge.TYPE_INFO_MASK_PATTERN,15),n.xor(u),n.getSize()!==15)throw new Pt("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=Ge.calculateBCHCode(e.getVersionNumber(),Ge.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Pt("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;Ge.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),Ge.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Pt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let s=0;s<8;++s){if(!Ge.isEmpty(n.get(e+s,t)))throw new Pt;n.setNumber(e+s,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let s=0;s<7;++s){if(!Ge.isEmpty(n.get(e,t+s)))throw new Pt;n.setNumber(e,t+s,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let s=0;s<5;++s){const o=Ge.POSITION_ADJUSTMENT_PATTERN[s];for(let u=0;u<5;++u)n.setNumber(e+u,t+s,o[u])}}static embedPositionDetectionPattern(e,t,n){for(let s=0;s<7;++s){const o=Ge.POSITION_DETECTION_PATTERN[s];for(let u=0;u<7;++u)n.setNumber(e+u,t+s,o[u])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Ge.POSITION_DETECTION_PATTERN[0].length;Ge.embedPositionDetectionPattern(0,0,e),Ge.embedPositionDetectionPattern(e.getWidth()-t,0,e),Ge.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;Ge.embedHorizontalSeparationPattern(0,n-1,e),Ge.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),Ge.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const s=7;Ge.embedVerticalSeparationPattern(s,0,e),Ge.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),Ge.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,s=Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let o=0,u=s.length;o!==u;o++){const f=s[o];if(f>=0)for(let g=0;g!==u;g++){const m=s[g];m>=0&&Ge.isEmpty(t.get(m,f))&&Ge.embedPositionAdjustmentPattern(m-2,f-2,t)}}}}Ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ge.VERSION_INFO_POLY=7973,Ge.TYPE_INFO_POLY=1335,Ge.TYPE_INFO_MASK_PATTERN=21522;class Za{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class jt{constructor(){}static calculateMaskPenalty(e){return et.applyMaskPenaltyRule1(e)+et.applyMaskPenaltyRule2(e)+et.applyMaskPenaltyRule3(e)+et.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let s=jt.DEFAULT_BYTE_MODE_ENCODING;const o=n!==null&&n.get(qt.CHARACTER_SET)!==void 0;o&&(s=n.get(qt.CHARACTER_SET).toString());const u=this.chooseMode(e,s),f=new Ae;if(u===ze.BYTE&&(o||jt.DEFAULT_BYTE_MODE_ENCODING!==s)){const fe=J.getCharacterSetECIByName(s);fe!==void 0&&this.appendECI(fe,f)}this.appendModeInfo(u,f);const g=new Ae;this.appendBytes(e,u,g,s);let m;if(n!==null&&n.get(qt.QR_VERSION)!==void 0){const fe=Number.parseInt(n.get(qt.QR_VERSION).toString(),10);m=je.getVersionForNumber(fe);const de=this.calculateBitsNeeded(u,f,g,m);if(!this.willFit(de,m,t))throw new Pt("Data too big for requested version")}else m=this.recommendVersion(t,u,f,g);const C=new Ae;C.appendBitArray(f);const b=u===ze.BYTE?g.getSizeInBytes():e.length;this.appendLengthInfo(b,m,u,C),C.appendBitArray(g);const N=m.getECBlocksForLevel(t),U=m.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(U,C);const v=this.interleaveWithECBytes(C,m.getTotalCodewords(),U,N.getNumBlocks()),L=new Or;L.setECLevel(t),L.setMode(u),L.setVersion(m);const F=m.getDimensionForVersion(),Y=new ir(F,F),le=this.chooseMaskPattern(v,t,m,Y);return L.setMaskPattern(le),Ge.buildMatrix(v,t,m,le,Y),L.setMatrix(Y),L}static recommendVersion(e,t,n,s){const o=this.calculateBitsNeeded(t,n,s,je.getVersionForNumber(1)),u=this.chooseVersion(o,e),f=this.calculateBitsNeeded(t,n,s,u);return this.chooseVersion(f,e)}static calculateBitsNeeded(e,t,n,s){return t.getSize()+e.getCharacterCountBits(s)+n.getSize()}static getAlphanumericCode(e){return e<jt.ALPHANUMERIC_TABLE.length?jt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(J.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return ze.KANJI;let n=!1,s=!1;for(let o=0,u=e.length;o<u;++o){const f=e.charAt(o);if(jt.isDigit(f))n=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)s=!0;else return ze.BYTE}return s?ze.ALPHANUMERIC:n?ze.NUMERIC:ze.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=ae.encode(e,J.SJIS)}catch{return!1}const n=t.length;if(n%2!==0)return!1;for(let s=0;s<n;s+=2){const o=t[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,t,n,s){let o=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<Or.NUM_MASK_PATTERNS;f++){Ge.buildMatrix(e,t,n,f,s);let g=this.calculateMaskPenalty(s);g<o&&(o=g,u=f)}return u}static chooseVersion(e,t){for(let n=1;n<=40;n++){const s=je.getVersionForNumber(n);if(jt.willFit(e,s,t))return s}throw new Pt("Data too big")}static willFit(e,t,n){const s=t.getTotalCodewords(),u=t.getECBlocksForLevel(n).getTotalECCodewords(),f=s-u,g=(e+7)/8;return f>=g}static terminateBits(e,t){const n=e*8;if(t.getSize()>n)throw new Pt("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let u=0;u<4&&t.getSize()<n;++u)t.appendBit(!1);const s=t.getSize()&7;if(s>0)for(let u=s;u<8;u++)t.appendBit(!1);const o=e-t.getSizeInBytes();for(let u=0;u<o;++u)t.appendBits(u&1?17:236,8);if(t.getSize()!==n)throw new Pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,s,o,u){if(s>=n)throw new Pt("Block ID too large");const f=e%n,g=n-f,m=Math.floor(e/n),C=m+1,b=Math.floor(t/n),N=b+1,U=m-b,v=C-N;if(U!==v)throw new Pt("EC bytes mismatch");if(n!==g+f)throw new Pt("RS blocks mismatch");if(e!==(b+U)*g+(N+v)*f)throw new Pt("Total bytes mismatch");s<g?(o[0]=b,u[0]=U):(o[0]=N,u[0]=v)}static interleaveWithECBytes(e,t,n,s){if(e.getSizeInBytes()!==n)throw new Pt("Number of bits and data bytes does not match");let o=0,u=0,f=0;const g=new Array;for(let C=0;C<s;++C){const b=new Int32Array(1),N=new Int32Array(1);jt.getNumDataBytesAndNumECBytesForBlockID(t,n,s,C,b,N);const U=b[0],v=new Uint8Array(U);e.toBytes(8*o,v,0,U);const L=jt.generateECBytes(v,N[0]);g.push(new Za(v,L)),u=Math.max(u,U),f=Math.max(f,L.length),o+=b[0]}if(n!==o)throw new Pt("Data bytes does not match offset");const m=new Ae;for(let C=0;C<u;++C)for(const b of g){const N=b.getDataBytes();C<N.length&&m.appendBits(N[C],8)}for(let C=0;C<f;++C)for(const b of g){const N=b.getErrorCorrectionBytes();C<N.length&&m.appendBits(N[C],8)}if(t!==m.getSizeInBytes())throw new Pt("Interleaving error: "+t+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(e,t){const n=e.length,s=new Int32Array(n+t);for(let u=0;u<n;u++)s[u]=e[u]&255;new ji(ft.QR_CODE_FIELD_256).encode(s,t);const o=new Uint8Array(t);for(let u=0;u<t;u++)o[u]=s[n+u];return o}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,s){const o=n.getCharacterCountBits(t);if(e>=1<<o)throw new Pt(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,t,n,s){switch(t){case ze.NUMERIC:jt.appendNumericBytes(e,n);break;case ze.ALPHANUMERIC:jt.appendAlphanumericBytes(e,n);break;case ze.BYTE:jt.append8BitBytes(e,n,s);break;case ze.KANJI:jt.appendKanjiBytes(e,n);break;default:throw new Pt("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=jt.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let s=0;for(;s<n;){const o=jt.getDigit(e.charAt(s));if(s+2<n){const u=jt.getDigit(e.charAt(s+1)),f=jt.getDigit(e.charAt(s+2));t.appendBits(o*100+u*10+f,10),s+=3}else if(s+1<n){const u=jt.getDigit(e.charAt(s+1));t.appendBits(o*10+u,7),s+=2}else t.appendBits(o,4),s++}}static appendAlphanumericBytes(e,t){const n=e.length;let s=0;for(;s<n;){const o=jt.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new Pt;if(s+1<n){const u=jt.getAlphanumericCode(e.charCodeAt(s+1));if(u===-1)throw new Pt;t.appendBits(o*45+u,11),s+=2}else t.appendBits(o,6),s++}}static append8BitBytes(e,t,n){let s;try{s=ae.encode(e,n)}catch(o){throw new Pt(o)}for(let o=0,u=s.length;o!==u;o++){const f=s[o];t.appendBits(f,8)}}static appendKanjiBytes(e,t){let n;try{n=ae.encode(e,J.SJIS)}catch(o){throw new Pt(o)}const s=n.length;for(let o=0;o<s;o+=2){const u=n[o]&255,f=n[o+1]&255,g=u<<8&4294967295|f;let m=-1;if(g>=33088&&g<=40956?m=g-33088:g>=57408&&g<=60351&&(m=g-49472),m===-1)throw new Pt("Invalid byte sequence");const C=(m>>8)*192+(m&255);t.appendBits(C,13)}}static appendECI(e,t){t.appendBits(ze.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}jt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),jt.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class $r{write(e,t,n,s=null){if(e.length===0)throw new M("Found empty contents");if(t<0||n<0)throw new M("Requested dimensions are too small: "+t+"x"+n);let o=Bt.L,u=$r.QUIET_ZONE_SIZE;s!==null&&(s.get(qt.ERROR_CORRECTION)!==void 0&&(o=Bt.fromString(s.get(qt.ERROR_CORRECTION).toString())),s.get(qt.MARGIN)!==void 0&&(u=Number.parseInt(s.get(qt.MARGIN).toString(),10)));const f=jt.encode(e,o,s);return this.renderResult(f,t,n,u)}writeToDom(e,t,n,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const u=this.write(t,n,s,o);e&&e.appendChild(u)}renderResult(e,t,n,s){const o=e.getMatrix();if(o===null)throw new Cn;const u=o.getWidth(),f=o.getHeight(),g=u+s*2,m=f+s*2,C=Math.max(t,g),b=Math.max(n,m),N=Math.min(Math.floor(C/g),Math.floor(b/m)),U=Math.floor((C-u*N)/2),v=Math.floor((b-f*N)/2),L=this.createSVGElement(C,b);for(let F=0,Y=v;F<f;F++,Y+=N)for(let le=0,fe=U;le<u;le++,fe+=N)if(o.get(le,F)===1){const de=this.createSvgRectElement(fe,Y,N,N);L.appendChild(de)}return L}createSVGElement(e,t){const n=document.createElementNS($r.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,s){const o=document.createElementNS($r.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}$r.QUIET_ZONE_SIZE=4,$r.SVG_NS="http://www.w3.org/2000/svg";class ei{encode(e,t,n,s,o){if(e.length===0)throw new M("Found empty contents");if(t!==Oe.QR_CODE)throw new M("Can only encode QR_CODE, but got "+t);if(n<0||s<0)throw new M(`Requested dimensions are too small: ${n}x${s}`);let u=Bt.L,f=ei.QUIET_ZONE_SIZE;o!==null&&(o.get(qt.ERROR_CORRECTION)!==void 0&&(u=Bt.fromString(o.get(qt.ERROR_CORRECTION).toString())),o.get(qt.MARGIN)!==void 0&&(f=Number.parseInt(o.get(qt.MARGIN).toString(),10)));const g=jt.encode(e,u,o);return ei.renderResult(g,n,s,f)}static renderResult(e,t,n,s){const o=e.getMatrix();if(o===null)throw new Cn;const u=o.getWidth(),f=o.getHeight(),g=u+s*2,m=f+s*2,C=Math.max(t,g),b=Math.max(n,m),N=Math.min(Math.floor(C/g),Math.floor(b/m)),U=Math.floor((C-u*N)/2),v=Math.floor((b-f*N)/2),L=new V(C,b);for(let F=0,Y=v;F<f;F++,Y+=N)for(let le=0,fe=U;le<u;le++,fe+=N)o.get(le,F)===1&&L.setRegion(fe,Y,N,N);return L}}ei.QUIET_ZONE_SIZE=4;class ds{encode(e,t,n,s,o){let u;switch(t){case Oe.QR_CODE:u=new ei;break;default:throw new M("No encoder available for format "+t)}return u.encode(e,t,n,s,o)}}class Rn extends Ce{constructor(e,t,n,s,o,u,f,g){if(super(u,f),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=s,this.top=o,s+u>t||o+f>n)throw new M("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(u,f)}getRow(e,t){if(e<0||e>=this.getHeight())throw new M("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const s=(e+this.top)*this.dataWidth+this.left;return W.arraycopy(this.yuvData,s,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,s=new Uint8ClampedArray(n);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return W.arraycopy(this.yuvData,o,s,0,n),s;for(let u=0;u<t;u++){const f=u*e;W.arraycopy(this.yuvData,o,s,f,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,t,n,s){return new Rn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,s,!1)}renderThumbnail(){const e=this.getWidth()/Rn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Rn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let u=0;u<t;u++){const f=u*e;for(let g=0;g<e;g++){const m=s[o+g*Rn.THUMBNAIL_SCALE_FACTOR]&255;n[f+g]=4278190080|m*65793}o+=this.dataWidth*Rn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/Rn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Rn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<t;s++,o+=this.dataWidth){const u=o+e/2;for(let f=o,g=o+e-1;f<u;f++,g--){const m=n[f];n[f]=n[g],n[g]=m}}}invert(){return new ve(this)}}Rn.THUMBNAIL_SCALE_FACTOR=2;class Hs extends Ce{constructor(e,t,n,s,o,u,f){if(super(t,n),this.dataWidth=s,this.dataHeight=o,this.left=u,this.top=f,e.BYTES_PER_ELEMENT===4){const g=t*n,m=new Uint8ClampedArray(g);for(let C=0;C<g;C++){const b=e[C],N=b>>16&255,U=b>>7&510,v=b&255;m[C]=(N+U+v)/4&255}this.luminances=m}else this.luminances=e;if(s===void 0&&(this.dataWidth=t),o===void 0&&(this.dataHeight=n),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new M("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new M("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const s=(e+this.top)*this.dataWidth+this.left;return W.arraycopy(this.luminances,s,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,s=new Uint8ClampedArray(n);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return W.arraycopy(this.luminances,o,s,0,n),s;for(let u=0;u<t;u++){const f=u*e;W.arraycopy(this.luminances,o,s,f,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,t,n,s){return new Hs(this.luminances,n,s,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new ve(this)}}class Ws extends J{static forName(e){return this.getCharacterSetECIByName(e)}}class gs{}gs.ISO_8859_1=J.ISO8859_1;class ps{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class xs{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Ro{constructor(e){this.previous=e}getPrevious(){return this.previous}}class mi extends Ro{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new mi(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new mi(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+te.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Vi extends mi{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):n===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Vi(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function js(y,e,t){return new Vi(y,e,t)}function zi(y,e,t){return new mi(y,e,t)}const Do=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sn=0,wi=1,Sn=2,Vs=3,sr=4,Qa=new mi(null,0,0),zs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function qa(y){for(let e of y)q.fill(e,-1);return y[sn][sr]=0,y[wi][sr]=0,y[wi][sn]=28,y[Vs][sr]=0,y[Sn][sr]=0,y[Sn][sn]=15,y}const Lo=qa(q.createInt32Array(6,6));class Er{constructor(e,t,n,s){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,s=this.token;if(e!==this.mode){let u=zs[this.mode][e];s=zi(s,u&65535,u>>16),n+=u>>16}let o=e===Sn?4:5;return s=zi(s,t,o),new Er(s,e,0,n+o)}shiftAndAppend(e,t){let n=this.token,s=this.mode===Sn?4:5;return n=zi(n,Lo[this.mode][e],s),n=zi(n,t,5),new Er(n,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,s=this.bitCount;if(this.mode===sr||this.mode===Sn){let f=zs[n][sn];t=zi(t,f&65535,f>>16),s+=f>>16,n=sn}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Er(t,n,this.binaryShiftByteCount+1,s+o);return u.binaryShiftByteCount===2047+31&&(u=u.endBinaryShift(e+1)),u}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=js(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Er(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(zs[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=Er.calculateBinaryShiftCost(e)-Er.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())t.unshift(s);let n=new Ae;for(const s of t)s.appendTo(n,e);return n}toString(){return T.format("%s bits=%d bytes=%d",Do[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Er.INITIAL_STATE=new Er(Qa,sn,0,0);function Ei(y){const e=T.getCharCode(" "),t=T.getCharCode("."),n=T.getCharCode(",");y[sn][e]=1;const s=T.getCharCode("Z"),o=T.getCharCode("A");for(let N=o;N<=s;N++)y[sn][N]=N-o+2;y[wi][e]=1;const u=T.getCharCode("z"),f=T.getCharCode("a");for(let N=f;N<=u;N++)y[wi][N]=N-f+2;y[Sn][e]=1;const g=T.getCharCode("9"),m=T.getCharCode("0");for(let N=m;N<=g;N++)y[Sn][N]=N-m+2;y[Sn][n]=12,y[Sn][t]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<C.length;N++)y[Vs][T.getCharCode(C[N])]=N;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<b.length;N++)T.getCharCode(b[N])>0&&(y[sr][T.getCharCode(b[N])]=N);return y}const Gs=Ei(q.createInt32Array(5,256));class Gi{constructor(e){this.text=e}encode(){const e=T.getCharCode(" "),t=T.getCharCode(`
`);let n=xs.singletonList(Er.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let u,f=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case T.getCharCode("\r"):u=f===t?2:0;break;case T.getCharCode("."):u=f===e?3:0;break;case T.getCharCode(","):u=f===e?4:0;break;case T.getCharCode(":"):u=f===e?5:0;break;default:u=0}u>0?(n=Gi.updateStateListForPair(n,o,u),o++):n=this.updateStateListForChar(n,o)}return xs.min(n,(o,u)=>o.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let s of e)this.updateStateForChar(s,t,n);return Gi.simplifyStates(n)}updateStateForChar(e,t,n){let s=this.text[t]&255,o=Gs[e.getMode()][s]>0,u=null;for(let f=0;f<=sr;f++){let g=Gs[f][s];if(g>0){if(u==null&&(u=e.endBinaryShift(t)),!o||f===e.getMode()||f===Sn){const m=u.latchAndAppend(f,g);n.push(m)}if(!o&&Lo[e.getMode()][f]>=0){const m=u.shiftAndAppend(f,g);n.push(m)}}}if(e.getBinaryShiftByteCount()>0||Gs[e.getMode()][s]===0){let f=e.addBinaryShiftChar(t);n.push(f)}}static updateStateListForPair(e,t,n){const s=[];for(let o of e)this.updateStateForPair(o,t,n,s);return this.simplifyStates(s)}static updateStateForPair(e,t,n,s){let o=e.endBinaryShift(t);if(s.push(o.latchAndAppend(sr,n)),e.getMode()!==sr&&s.push(o.shiftAndAppend(sr,n)),n===3||n===4){let u=o.latchAndAppend(Sn,16-n).latchAndAppend(Sn,1);s.push(u)}if(e.getBinaryShiftByteCount()>0){let u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);s.push(u)}}static simplifyStates(e){let t=[];for(const n of e){let s=!0;for(const o of t){if(o.isBetterThanOrEqualTo(n)){s=!1;break}n.isBetterThanOrEqualTo(o)&&(t=t.filter(u=>u!==o))}s&&t.push(n)}return t}}class gt{constructor(){}static encodeBytes(e){return gt.encode(e,gt.DEFAULT_EC_PERCENT,gt.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let s=new Gi(e).encode(),o=te.truncDivision(s.getSize()*t,100)+11,u=s.getSize()+o,f,g,m,C,b;if(n!==gt.DEFAULT_AZTEC_LAYERS){if(f=n<0,g=Math.abs(n),g>(f?gt.MAX_NB_BITS_COMPACT:gt.MAX_NB_BITS))throw new M(T.format("Illegal value %s for layers",n));m=gt.totalBitsInLayer(g,f),C=gt.WORD_SIZE[g];let de=m-m%C;if(b=gt.stuffBits(s,C),b.getSize()+o>de)throw new M("Data to large for user specified layer");if(f&&b.getSize()>C*64)throw new M("Data to large for user specified layer")}else{C=0,b=null;for(let de=0;;de++){if(de>gt.MAX_NB_BITS)throw new M("Data too large for an Aztec code");if(f=de<=3,g=f?de+1:de,m=gt.totalBitsInLayer(g,f),u>m)continue;(b==null||C!==gt.WORD_SIZE[g])&&(C=gt.WORD_SIZE[g],b=gt.stuffBits(s,C));let ke=m-m%C;if(!(f&&b.getSize()>C*64)&&b.getSize()+o<=ke)break}}let N=gt.generateCheckWords(b,m,C),U=b.getSize()/C,v=gt.generateModeMessage(f,g,U),L=(f?11:14)+g*4,F=new Int32Array(L),Y;if(f){Y=L;for(let de=0;de<F.length;de++)F[de]=de}else{Y=L+1+2*te.truncDivision(te.truncDivision(L,2)-1,15);let de=te.truncDivision(L,2),ke=te.truncDivision(Y,2);for(let tt=0;tt<de;tt++){let Pn=tt+te.truncDivision(tt,15);F[de-tt-1]=ke-Pn-1,F[de+tt]=ke+Pn+1}}let le=new V(Y);for(let de=0,ke=0;de<g;de++){let tt=(g-de)*4+(f?9:12);for(let Pn=0;Pn<tt;Pn++){let Jt=Pn*2;for(let En=0;En<2;En++)N.get(ke+Jt+En)&&le.set(F[de*2+En],F[de*2+Pn]),N.get(ke+tt*2+Jt+En)&&le.set(F[de*2+Pn],F[L-1-de*2-En]),N.get(ke+tt*4+Jt+En)&&le.set(F[L-1-de*2-En],F[L-1-de*2-Pn]),N.get(ke+tt*6+Jt+En)&&le.set(F[L-1-de*2-Pn],F[de*2+En])}ke+=tt*8}if(gt.drawModeMessage(le,f,Y,v),f)gt.drawBullsEye(le,te.truncDivision(Y,2),5);else{gt.drawBullsEye(le,te.truncDivision(Y,2),7);for(let de=0,ke=0;de<te.truncDivision(L,2)-1;de+=15,ke+=16)for(let tt=te.truncDivision(Y,2)&1;tt<Y;tt+=2)le.set(te.truncDivision(Y,2)-ke,tt),le.set(te.truncDivision(Y,2)+ke,tt),le.set(tt,te.truncDivision(Y,2)-ke),le.set(tt,te.truncDivision(Y,2)+ke)}let fe=new ps;return fe.setCompact(f),fe.setSize(Y),fe.setLayers(g),fe.setCodeWords(U),fe.setMatrix(le),fe}static drawBullsEye(e,t,n){for(let s=0;s<n;s+=2)for(let o=t-s;o<=t+s;o++)e.set(o,t-s),e.set(o,t+s),e.set(t-s,o),e.set(t+s,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let s=new Ae;return e?(s.appendBits(t-1,2),s.appendBits(n-1,6),s=gt.generateCheckWords(s,28,4)):(s.appendBits(t-1,5),s.appendBits(n-1,11),s=gt.generateCheckWords(s,40,4)),s}static drawModeMessage(e,t,n,s){let o=te.truncDivision(n,2);if(t)for(let u=0;u<7;u++){let f=o-3+u;s.get(u)&&e.set(f,o-5),s.get(u+7)&&e.set(o+5,f),s.get(20-u)&&e.set(f,o+5),s.get(27-u)&&e.set(o-5,f)}else for(let u=0;u<10;u++){let f=o-5+u+te.truncDivision(u,5);s.get(u)&&e.set(f,o-7),s.get(u+10)&&e.set(o+7,f),s.get(29-u)&&e.set(f,o+7),s.get(39-u)&&e.set(o-7,f)}}static generateCheckWords(e,t,n){let s=e.getSize()/n,o=new ji(gt.getGF(n)),u=te.truncDivision(t,n),f=gt.bitsToWords(e,n,u);o.encode(f,u-s);let g=t%n,m=new Ae;m.appendBits(0,g);for(const C of Array.from(f))m.appendBits(C,n);return m}static bitsToWords(e,t,n){let s=new Int32Array(n),o,u;for(o=0,u=e.getSize()/t;o<u;o++){let f=0;for(let g=0;g<t;g++)f|=e.get(o*t+g)?1<<t-g-1:0;s[o]=f}return s}static getGF(e){switch(e){case 4:return ft.AZTEC_PARAM;case 6:return ft.AZTEC_DATA_6;case 8:return ft.AZTEC_DATA_8;case 10:return ft.AZTEC_DATA_10;case 12:return ft.AZTEC_DATA_12;default:throw new M("Unsupported word size "+e)}}static stuffBits(e,t){let n=new Ae,s=e.getSize(),o=(1<<t)-2;for(let u=0;u<s;u+=t){let f=0;for(let g=0;g<t;g++)(u+g>=s||e.get(u+g))&&(f|=1<<t-1-g);(f&o)===o?(n.appendBits(f&o,t),u--):f&o?n.appendBits(f,t):(n.appendBits(f|1,t),u--)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}gt.DEFAULT_EC_PERCENT=33,gt.DEFAULT_AZTEC_LAYERS=0,gt.MAX_NB_BITS=32,gt.MAX_NB_BITS_COMPACT=4,gt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Yi{encode(e,t,n,s){return this.encodeWithHints(e,t,n,s,null)}encodeWithHints(e,t,n,s,o){let u=gs.ISO_8859_1,f=gt.DEFAULT_EC_PERCENT,g=gt.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(qt.CHARACTER_SET)&&(u=Ws.forName(o.get(qt.CHARACTER_SET).toString())),o.has(qt.ERROR_CORRECTION)&&(f=te.parseInt(o.get(qt.ERROR_CORRECTION).toString())),o.has(qt.AZTEC_LAYERS)&&(g=te.parseInt(o.get(qt.AZTEC_LAYERS).toString()))),Yi.encodeLayers(e,t,n,s,u,f,g)}static encodeLayers(e,t,n,s,o,u,f){if(t!==Oe.AZTEC)throw new M("Can only encode AZTEC, but got "+t);let g=gt.encode(T.getBytes(e,o),u,f);return Yi.renderResult(g,n,s)}static renderResult(e,t,n){let s=e.getMatrix();if(s==null)throw new Cn;let o=s.getWidth(),u=s.getHeight(),f=Math.max(t,o),g=Math.max(n,u),m=Math.min(f/o,g/u),C=(f-o*m)/2,b=(g-u*m)/2,N=new V(f,g);for(let U=0,v=b;U<u;U++,v+=m)for(let L=0,F=C;L<o;L++,F+=m)s.get(L,U)&&N.setRegion(F,v,m,m);return N}}a.AbstractExpandedDecoder=yn,a.ArgumentException=I,a.ArithmeticException=fn,a.AztecCode=ps,a.AztecCodeReader=dr,a.AztecCodeWriter=Yi,a.AztecDecoder=Nt,a.AztecDetector=gi,a.AztecDetectorResult=Fr,a.AztecEncoder=gt,a.AztecHighLevelEncoder=Gi,a.AztecPoint=en,a.BarcodeFormat=Oe,a.Binarizer=z,a.BinaryBitmap=j,a.BitArray=Ae,a.BitMatrix=V,a.BitSource=cs,a.BrowserAztecCodeReader=Ur,a.BrowserBarcodeReader=Co,a.BrowserCodeReader=lt,a.BrowserDatamatrixCodeReader=yo,a.BrowserMultiFormatReader=Qn,a.BrowserPDF417Reader=Ka,a.BrowserQRCodeReader=Mo,a.BrowserQRCodeSvgWriter=$r,a.CharacterSetECI=J,a.ChecksumException=H,a.Code128Reader=Se,a.Code39Reader=Gt,a.DataMatrixDecodedBitStreamParser=mr,a.DataMatrixReader=rr,a.DecodeHintType=Fe,a.DecoderResult=Ct,a.DefaultGridSampler=kr,a.DetectorResult=Xn,a.EAN13Reader=gr,a.EncodeHintType=qt,a.Exception=A,a.FormatException=me,a.GenericGF=ft,a.GenericGFPoly=yt,a.GlobalHistogramBinarizer=ee,a.GridSampler=Sr,a.GridSamplerInstance=On,a.HTMLCanvasElementLuminanceSource=he,a.HybridBinarizer=ce,a.ITFReader=It,a.IllegalArgumentException=M,a.IllegalStateException=Cn,a.InvertedLuminanceSource=ve,a.LuminanceSource=Ce,a.MathUtils=ht,a.MultiFormatOneDReader=xr,a.MultiFormatReader=No,a.MultiFormatWriter=ds,a.NotFoundException=B,a.OneDReader=Ut,a.PDF417DecodedBitStreamParser=re,a.PDF417DecoderErrorCorrection=bo,a.PDF417Reader=gn,a.PDF417ResultMetadata=ks,a.PerspectiveTransform=Un,a.PlanarYUVLuminanceSource=Rn,a.QRCodeByteMatrix=ir,a.QRCodeDataMask=Ln,a.QRCodeDecodedBitStreamParser=zt,a.QRCodeDecoderErrorCorrectionLevel=Bt,a.QRCodeDecoderFormatInformation=mn,a.QRCodeEncoder=jt,a.QRCodeEncoderQRCode=Or,a.QRCodeMaskUtil=et,a.QRCodeMatrixUtil=Ge,a.QRCodeMode=ze,a.QRCodeReader=Wr,a.QRCodeVersion=je,a.QRCodeWriter=ei,a.RGBLuminanceSource=Hs,a.RSS14Reader=Mt,a.RSSExpandedReader=we,a.ReaderException=bn,a.ReedSolomonDecoder=Qr,a.ReedSolomonEncoder=ji,a.ReedSolomonException=hn,a.Result=Ye,a.ResultMetadataType=Ve,a.ResultPoint=Ne,a.StringUtils=T,a.UnsupportedOperationException=Te,a.VideoInputDevice=Le,a.WhiteRectangleDetector=nr,a.WriterException=Pt,a.ZXingArrays=q,a.ZXingCharset=Ws,a.ZXingInteger=te,a.ZXingStandardCharsets=gs,a.ZXingStringBuilder=D,a.ZXingStringEncoding=ae,a.ZXingSystem=W,a.createAbstractExpandedDecoder=Bi,Object.defineProperty(a,"__esModule",{value:!0})})})(bc,bc.exports);var Xt=bc.exports;const K_=Dc(Xt),Z_=Em({__proto__:null,default:K_},[Xt]);var Ah=function(){function i(l,a,h){if(this.formatMap=new Map([[Pe.QR_CODE,Xt.BarcodeFormat.QR_CODE],[Pe.AZTEC,Xt.BarcodeFormat.AZTEC],[Pe.CODABAR,Xt.BarcodeFormat.CODABAR],[Pe.CODE_39,Xt.BarcodeFormat.CODE_39],[Pe.CODE_93,Xt.BarcodeFormat.CODE_93],[Pe.CODE_128,Xt.BarcodeFormat.CODE_128],[Pe.DATA_MATRIX,Xt.BarcodeFormat.DATA_MATRIX],[Pe.MAXICODE,Xt.BarcodeFormat.MAXICODE],[Pe.ITF,Xt.BarcodeFormat.ITF],[Pe.EAN_13,Xt.BarcodeFormat.EAN_13],[Pe.EAN_8,Xt.BarcodeFormat.EAN_8],[Pe.PDF_417,Xt.BarcodeFormat.PDF_417],[Pe.RSS_14,Xt.BarcodeFormat.RSS_14],[Pe.RSS_EXPANDED,Xt.BarcodeFormat.RSS_EXPANDED],[Pe.UPC_A,Xt.BarcodeFormat.UPC_A],[Pe.UPC_E,Xt.BarcodeFormat.UPC_E],[Pe.UPC_EAN_EXTENSION,Xt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Z_)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=h;var x=this.createZXingFormats(l),p=new Map;p.set(Xt.DecodeHintType.POSSIBLE_FORMATS,x),p.set(Xt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return i.prototype.decodeAsync=function(l){var a=this;return new Promise(function(h,x){try{h(a.decode(l))}catch(p){x(p)}})},i.prototype.decode=function(l){var a=new Xt.MultiFormatReader(this.verbose,this.hints),h=new Xt.HTMLCanvasElementLuminanceSource(l),x=new Xt.BinaryBitmap(new Xt.HybridBinarizer(h)),p=a.decode(x);return{text:p.text,format:a0.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},i.prototype.createReverseFormatMap=function(){var l=new Map;return this.formatMap.forEach(function(a,h,x){l.set(a,h)}),l},i.prototype.toHtml5QrcodeSupportedFormats=function(l){if(!this.reverseFormatMap.has(l))throw"reverseFormatMap doesn't have ".concat(l);return this.reverseFormatMap.get(l)},i.prototype.createZXingFormats=function(l){for(var a=[],h=0,x=l;h<x.length;h++){var p=x[h];this.formatMap.has(p)?a.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return a},i.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},i}(),Q_=globalThis&&globalThis.__awaiter||function(i,l,a,h){function x(p){return p instanceof a?p:new a(function(w){w(p)})}return new(a||(a=Promise))(function(p,w){function E(I){try{A(h.next(I))}catch(M){w(M)}}function O(I){try{A(h.throw(I))}catch(M){w(M)}}function A(I){I.done?p(I.value):x(I.value).then(E,O)}A((h=h.apply(i,l||[])).next())})},q_=globalThis&&globalThis.__generator||function(i,l){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,x,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(A){return function(I){return O([A,I])}}function O(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(a=0)),a;)try{if(h=1,x&&(p=A[0]&2?x.return:A[0]?x.throw||((p=x.return)&&p.call(x),0):x.next)&&!(p=p.call(x,A[1])).done)return p;switch(x=0,p&&(A=[A[0]&2,p.value]),A[0]){case 0:case 1:p=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,x=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(A[0]===6||A[0]===2)){a=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){a.label=A[1];break}if(A[0]===6&&a.label<p[1]){a.label=p[1],p=A;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(A);break}p[2]&&a.ops.pop(),a.trys.pop();continue}A=l.call(i,a)}catch(I){A=[6,I],x=0}finally{h=p=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Ch=function(){function i(l,a,h){if(this.formatMap=new Map([[Pe.QR_CODE,"qr_code"],[Pe.AZTEC,"aztec"],[Pe.CODABAR,"codabar"],[Pe.CODE_39,"code_39"],[Pe.CODE_93,"code_93"],[Pe.CODE_128,"code_128"],[Pe.DATA_MATRIX,"data_matrix"],[Pe.ITF,"itf"],[Pe.EAN_13,"ean_13"],[Pe.EAN_8,"ean_8"],[Pe.PDF_417,"pdf417"],[Pe.UPC_A,"upc_a"],[Pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!i.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=h;var x=this.createBarcodeDetectorFormats(l);if(this.detector=new BarcodeDetector(x),!this.detector)throw"BarcodeDetector detector not supported"}return i.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var l=new BarcodeDetector({formats:["qr_code"]});return typeof l<"u"},i.prototype.decodeAsync=function(l){return Q_(this,void 0,void 0,function(){var a,h;return q_(this,function(x){switch(x.label){case 0:return[4,this.detector.detect(l)];case 1:if(a=x.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(a),[2,{text:h.rawValue,format:a0.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},i.prototype.selectLargestBarcode=function(l){for(var a=null,h=0,x=0,p=l;x<p.length;x++){var w=p[x],E=w.boundingBox.width*w.boundingBox.height;E>h&&(h=E,a=w)}if(!a)throw"No largest barcode found";return a},i.prototype.createBarcodeDetectorFormats=function(l){for(var a=[],h=0,x=l;h<x.length;h++){var p=x[h];this.formatMap.has(p)?a.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},i.prototype.toHtml5QrcodeSupportedFormats=function(l){if(!this.reverseFormatMap.has(l))throw"reverseFormatMap doesn't have ".concat(l);return this.reverseFormatMap.get(l)},i.prototype.createReverseFormatMap=function(){var l=new Map;return this.formatMap.forEach(function(a,h,x){l.set(a,h)}),l},i.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},i}(),yh=globalThis&&globalThis.__awaiter||function(i,l,a,h){function x(p){return p instanceof a?p:new a(function(w){w(p)})}return new(a||(a=Promise))(function(p,w){function E(I){try{A(h.next(I))}catch(M){w(M)}}function O(I){try{A(h.throw(I))}catch(M){w(M)}}function A(I){I.done?p(I.value):x(I.value).then(E,O)}A((h=h.apply(i,l||[])).next())})},Ih=globalThis&&globalThis.__generator||function(i,l){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,x,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(A){return function(I){return O([A,I])}}function O(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(a=0)),a;)try{if(h=1,x&&(p=A[0]&2?x.return:A[0]?x.throw||((p=x.return)&&p.call(x),0):x.next)&&!(p=p.call(x,A[1])).done)return p;switch(x=0,p&&(A=[A[0]&2,p.value]),A[0]){case 0:case 1:p=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,x=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(A[0]===6||A[0]===2)){a=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){a.label=A[1];break}if(A[0]===6&&a.label<p[1]){a.label=p[1],p=A;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(A);break}p[2]&&a.ops.pop(),a.trys.pop();continue}A=l.call(i,a)}catch(I){A=[6,I],x=0}finally{h=p=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},J_=function(){function i(l,a,h,x){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,a&&Ch.isSupported()?(this.primaryDecoder=new Ch(l,h,x),this.secondaryDecoder=new Ah(l,h,x)):this.primaryDecoder=new Ah(l,h,x)}return i.prototype.decodeAsync=function(l){return yh(this,void 0,void 0,function(){var a;return Ih(this,function(h){switch(h.label){case 0:a=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(l)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},i.prototype.decodeRobustlyAsync=function(l){return yh(this,void 0,void 0,function(){var a,h;return Ih(this,function(x){switch(x.label){case 0:a=performance.now(),x.label=1;case 1:return x.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(l)];case 2:return[2,x.sent()];case 3:if(h=x.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(l)];throw h;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},i.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},i.prototype.possiblyLogPerformance=function(l){if(this.verbose){var a=performance.now()-l;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},i.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var l=0,a=0,h=this.executionResults;a<h.length;a++){var x=h[a];l+=x}var p=l/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},i}(),tu=globalThis&&globalThis.__extends||function(){var i=function(l,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,x){h.__proto__=x}||function(h,x){for(var p in x)Object.prototype.hasOwnProperty.call(x,p)&&(h[p]=x[p])},i(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(l,a);function h(){this.constructor=l}l.prototype=a===null?Object.create(a):(h.prototype=a.prototype,new h)}}(),Oa=globalThis&&globalThis.__awaiter||function(i,l,a,h){function x(p){return p instanceof a?p:new a(function(w){w(p)})}return new(a||(a=Promise))(function(p,w){function E(I){try{A(h.next(I))}catch(M){w(M)}}function O(I){try{A(h.throw(I))}catch(M){w(M)}}function A(I){I.done?p(I.value):x(I.value).then(E,O)}A((h=h.apply(i,l||[])).next())})},Na=globalThis&&globalThis.__generator||function(i,l){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,x,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(A){return function(I){return O([A,I])}}function O(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(a=0)),a;)try{if(h=1,x&&(p=A[0]&2?x.return:A[0]?x.throw||((p=x.return)&&p.call(x),0):x.next)&&!(p=p.call(x,A[1])).done)return p;switch(x=0,p&&(A=[A[0]&2,p.value]),A[0]){case 0:case 1:p=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,x=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(A[0]===6||A[0]===2)){a=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){a.label=A[1];break}if(A[0]===6&&a.label<p[1]){a.label=p[1],p=A;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(A);break}p[2]&&a.ops.pop(),a.trys.pop();continue}A=l.call(i,a)}catch(I){A=[6,I],x=0}finally{h=p=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},f0=function(){function i(l,a){this.name=l,this.track=a}return i.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},i.prototype.apply=function(l){var a={};a[this.name]=l;var h={advanced:[a]};return this.track.applyConstraints(h)},i.prototype.value=function(){var l=this.track.getSettings();if(this.name in l){var a=l[this.name];return a}return null},i}(),$_=function(i){tu(l,i);function l(a,h){return i.call(this,a,h)||this}return l.prototype.min=function(){return this.getCapabilities().min},l.prototype.max=function(){return this.getCapabilities().max},l.prototype.step=function(){return this.getCapabilities().step},l.prototype.apply=function(a){var h={};h[this.name]=a;var x={advanced:[h]};return this.track.applyConstraints(x)},l.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),h=a[this.name];return{min:h.min,max:h.max,step:h.step}},l.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},l}(f0),eA=function(i){tu(l,i);function l(a){return i.call(this,"zoom",a)||this}return l}($_),tA=function(i){tu(l,i);function l(a){return i.call(this,"torch",a)||this}return l}(f0),nA=function(){function i(l){this.track=l}return i.prototype.zoomFeature=function(){return new eA(this.track)},i.prototype.torchFeature=function(){return new tA(this.track)},i}(),rA=function(){function i(l,a,h){this.isClosed=!1,this.parentElement=l,this.mediaStream=a,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),l.append(this.surface)}return i.prototype.createVideoElement=function(l){var a=document.createElement("video");return a.style.width="".concat(l,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},i.prototype.setupSurface=function(){var l=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var h=l.surface.clientWidth,x=l.surface.clientHeight;l.callbacks.onRenderSurfaceReady(h,x),l.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},i.create=function(l,a,h,x){return Oa(this,void 0,void 0,function(){var p,w;return Na(this,function(E){switch(E.label){case 0:return p=new i(l,a,x),h.aspectRatio?(w={aspectRatio:h.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(w)]):[3,2];case 1:E.sent(),E.label=2;case 2:return p.setupSurface(),[2,p]}})})},i.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},i.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},i.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},i.prototype.resume=function(l){this.failIfClosed();var a=this,h=function(){setTimeout(l,200),a.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},i.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},i.prototype.getSurface=function(){return this.failIfClosed(),this.surface},i.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},i.prototype.applyVideoConstraints=function(l){return Oa(this,void 0,void 0,function(){return Na(this,function(a){if("aspectRatio"in l)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(l)]})})},i.prototype.close=function(){if(this.isClosed)return Promise.resolve();var l=this;return new Promise(function(a,h){var x=l.mediaStream.getVideoTracks(),p=x.length,w=0;l.mediaStream.getVideoTracks().forEach(function(E){l.mediaStream.removeTrack(E),E.stop(),++w,w>=p&&(l.isClosed=!0,l.parentElement.removeChild(l.surface),a())})})},i.prototype.getCapabilities=function(){return new nA(this.getFirstTrackOrFail())},i}(),iA=function(){function i(l){this.mediaStream=l}return i.prototype.render=function(l,a,h){return Oa(this,void 0,void 0,function(){return Na(this,function(x){return[2,rA.create(l,this.mediaStream,a,h)]})})},i.create=function(l){return Oa(this,void 0,void 0,function(){var a,h;return Na(this,function(x){switch(x.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:l},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return h=x.sent(),[2,new i(h)]}})})},i}(),bh=globalThis&&globalThis.__awaiter||function(i,l,a,h){function x(p){return p instanceof a?p:new a(function(w){w(p)})}return new(a||(a=Promise))(function(p,w){function E(I){try{A(h.next(I))}catch(M){w(M)}}function O(I){try{A(h.throw(I))}catch(M){w(M)}}function A(I){I.done?p(I.value):x(I.value).then(E,O)}A((h=h.apply(i,l||[])).next())})},Sh=globalThis&&globalThis.__generator||function(i,l){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,x,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(A){return function(I){return O([A,I])}}function O(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(a=0)),a;)try{if(h=1,x&&(p=A[0]&2?x.return:A[0]?x.throw||((p=x.return)&&p.call(x),0):x.next)&&!(p=p.call(x,A[1])).done)return p;switch(x=0,p&&(A=[A[0]&2,p.value]),A[0]){case 0:case 1:p=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,x=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(A[0]===6||A[0]===2)){a=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){a.label=A[1];break}if(A[0]===6&&a.label<p[1]){a.label=p[1],p=A;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(A);break}p[2]&&a.ops.pop(),a.trys.pop();continue}A=l.call(i,a)}catch(I){A=[6,I],x=0}finally{h=p=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},sA=function(){function i(){}return i.failIfNotSupported=function(){return bh(this,void 0,void 0,function(){return Sh(this,function(l){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new i]})})},i.prototype.create=function(l){return bh(this,void 0,void 0,function(){return Sh(this,function(a){return[2,iA.create(l)]})})},i}(),oA=globalThis&&globalThis.__awaiter||function(i,l,a,h){function x(p){return p instanceof a?p:new a(function(w){w(p)})}return new(a||(a=Promise))(function(p,w){function E(I){try{A(h.next(I))}catch(M){w(M)}}function O(I){try{A(h.throw(I))}catch(M){w(M)}}function A(I){I.done?p(I.value):x(I.value).then(E,O)}A((h=h.apply(i,l||[])).next())})},aA=globalThis&&globalThis.__generator||function(i,l){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,x,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(A){return function(I){return O([A,I])}}function O(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(a=0)),a;)try{if(h=1,x&&(p=A[0]&2?x.return:A[0]?x.throw||((p=x.return)&&p.call(x),0):x.next)&&!(p=p.call(x,A[1])).done)return p;switch(x=0,p&&(A=[A[0]&2,p.value]),A[0]){case 0:case 1:p=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,x=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(A[0]===6||A[0]===2)){a=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){a.label=A[1];break}if(A[0]===6&&a.label<p[1]){a.label=p[1],p=A;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(A);break}p[2]&&a.ops.pop(),a.trys.pop();continue}A=l.call(i,a)}catch(I){A=[6,I],x=0}finally{h=p=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},lA=function(){function i(){}return i.retrieve=function(){if(navigator.mediaDevices)return i.getCamerasFromMediaDevices();var l=MediaStreamTrack;return MediaStreamTrack&&l.getSources?i.getCamerasFromMediaStreamTrack():i.rejectWithError()},i.rejectWithError=function(){var l=bs.unableToQuerySupportedDevices();return i.isHttpsOrLocalhost()||(l=bs.insecureContextCameraQueryError()),Promise.reject(l)},i.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var l=location.host.split(":")[0];return l==="127.0.0.1"||l==="localhost"},i.getCamerasFromMediaDevices=function(){return oA(this,void 0,void 0,function(){var l,a,h,x,p,w,E;return aA(this,function(O){switch(O.label){case 0:return l=function(A){for(var I=A.getVideoTracks(),M=0,j=I;M<j.length;M++){var H=j[M];H.enabled=!1,H.stop(),A.removeTrack(H)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=O.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=O.sent(),x=[],p=0,w=h;p<w.length;p++)E=w[p],E.kind==="videoinput"&&x.push({id:E.deviceId,label:E.label});return l(a),[2,x]}})})},i.getCamerasFromMediaStreamTrack=function(){return new Promise(function(l,a){var h=function(p){for(var w=[],E=0,O=p;E<O.length;E++){var A=O[E];A.kind==="video"&&w.push({id:A.id,label:A.label})}l(w)},x=MediaStreamTrack;x.getSources(h)})},i}(),an;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.NOT_STARTED=1]="NOT_STARTED",i[i.SCANNING=2]="SCANNING",i[i.PAUSED=3]="PAUSED"})(an||(an={}));var cA=function(){function i(){this.state=an.NOT_STARTED,this.onGoingTransactionNewState=an.UNKNOWN}return i.prototype.directTransition=function(l){this.failIfTransitionOngoing(),this.validateTransition(l),this.state=l},i.prototype.startTransition=function(l){return this.failIfTransitionOngoing(),this.validateTransition(l),this.onGoingTransactionNewState=l,this},i.prototype.execute=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var l=this.onGoingTransactionNewState;this.onGoingTransactionNewState=an.UNKNOWN,this.directTransition(l)},i.prototype.cancel=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=an.UNKNOWN},i.prototype.getState=function(){return this.state},i.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==an.UNKNOWN)throw"Cannot transition to a new state, already under transition"},i.prototype.validateTransition=function(l){switch(this.state){case an.UNKNOWN:throw"Transition from unknown is not allowed";case an.NOT_STARTED:this.failIfNewStateIs(l,[an.PAUSED]);break;case an.SCANNING:break;case an.PAUSED:break}},i.prototype.failIfNewStateIs=function(l,a){for(var h=0,x=a;h<x.length;h++){var p=x[h];if(l===p)throw"Cannot transition from ".concat(this.state," to ").concat(l)}},i}(),uA=function(){function i(l){this.stateManager=l}return i.prototype.startTransition=function(l){return this.stateManager.startTransition(l)},i.prototype.directTransition=function(l){this.stateManager.directTransition(l)},i.prototype.getState=function(){return this.stateManager.getState()},i.prototype.canScanFile=function(){return this.stateManager.getState()===an.NOT_STARTED},i.prototype.isScanning=function(){return this.stateManager.getState()!==an.NOT_STARTED},i.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===an.SCANNING},i.prototype.isPaused=function(){return this.stateManager.getState()===an.PAUSED},i}(),fA=function(){function i(){}return i.create=function(){return new uA(new cA)},i}(),hA=globalThis&&globalThis.__extends||function(){var i=function(l,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,x){h.__proto__=x}||function(h,x){for(var p in x)Object.prototype.hasOwnProperty.call(x,p)&&(h[p]=x[p])},i(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(l,a);function h(){this.constructor=l}l.prototype=a===null?Object.create(a):(h.prototype=a.prototype,new h)}}(),ur=function(i){hA(l,i);function l(){return i!==null&&i.apply(this,arguments)||this}return l.DEFAULT_WIDTH=300,l.DEFAULT_WIDTH_OFFSET=2,l.FILE_SCAN_MIN_HEIGHT=300,l.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,l.MIN_QR_BOX_SIZE=50,l.SHADED_LEFT=1,l.SHADED_RIGHT=2,l.SHADED_TOP=3,l.SHADED_BOTTOM=4,l.SHADED_REGION_ELEMENT_ID="qr-shaded-region",l.VERBOSE=!1,l.BORDER_SHADER_DEFAULT_COLOR="#ffffff",l.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",l}(Lr),dA=function(){function i(l,a){this.logger=a,this.fps=ur.SCAN_DEFAULT_FPS,l?(l.fps&&(this.fps=l.fps),this.disableFlip=l.disableFlip===!0,this.qrbox=l.qrbox,this.aspectRatio=l.aspectRatio,this.videoConstraints=l.videoConstraints):this.disableFlip=ur.DEFAULT_DISABLE_FLIP}return i.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?u0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},i.prototype.isShadedBoxEnabled=function(){return!Gr(this.qrbox)},i.create=function(l,a){return new i(l,a)},i}(),Sc=function(){function i(l,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(l))throw"HTML Element with id=".concat(l," not found");this.elementId=l,this.verbose=!1;var h;typeof a=="boolean"?this.verbose=a===!0:a&&(h=a,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new c0(this.verbose),this.qrcode=new J_(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=fA.create()}return i.prototype.start=function(l,a,h,x){var p=this;if(!l)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var w;x?w=x:w=this.verbose?this.logger.log:function(){};var E=dA.create(a,this.logger);this.clearElement();var O=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?O=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var A=O,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:ur.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var M=this,j=this.stateManagerProxy.startTransition(an.SCANNING);return new Promise(function(H,z){var W=A?E.videoConstraints:M.createVideoConstraints(l);if(!W){j.cancel(),z("videoConstraints should be defined");return}var Z={};(!A||E.aspectRatio)&&(Z.aspectRatio=E.aspectRatio);var ie={onRenderSurfaceReady:function(q,te){M.setupUi(q,te,E),M.isScanning=!0,M.foreverScan(E,h,w)}};sA.failIfNotSupported().then(function(q){q.create(W).then(function(te){return te.render(p.element,Z,ie).then(function(Ae){M.renderedCamera=Ae,j.execute(),H(null)}).catch(function(Ae){j.cancel(),z(Ae)})}).catch(function(te){j.cancel(),z(bs.errorGettingUserMedia(te))})}).catch(function(q){j.cancel(),z(bs.cameraStreamingNotSupported())})})},i.prototype.pause=function(l){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(an.PAUSED),this.showPausedState(),(Gr(l)||l!==!0)&&(l=!1),l&&this.renderedCamera&&this.renderedCamera.pause()},i.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var l=this,a=function(){l.stateManagerProxy.directTransition(an.SCANNING),l.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},i.prototype.getState=function(){return this.stateManagerProxy.getState()},i.prototype.stop=function(){var l=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(an.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(l.element){var p=document.getElementById(ur.SHADED_REGION_ELEMENT_ID);p&&l.element.removeChild(p)}},x=this;return this.renderedCamera.close().then(function(){return x.renderedCamera=null,x.element&&(x.element.removeChild(x.canvasElement),x.canvasElement=null),h(),x.qrRegion&&(x.qrRegion=null),x.context&&(x.context=null),a.execute(),x.hidePausedState(),x.isScanning=!1,Promise.resolve()})},i.prototype.scanFile=function(l,a){return this.scanFileV2(l,a).then(function(h){return h.decodedText})},i.prototype.scanFileV2=function(l,a){var h=this;if(!l||!(l instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Gr(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(x,p){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(l);var w=new Image;w.onload=function(){var E=w.width,O=w.height,A=document.getElementById(h.elementId),I=A.clientWidth?A.clientWidth:ur.DEFAULT_WIDTH,M=Math.max(A.clientHeight?A.clientHeight:O,ur.FILE_SCAN_MIN_HEIGHT),j=h.computeCanvasDrawConfig(E,O,I,M);if(a){var H=h.createCanvasElement(I,M,"qr-canvas-visible");H.style.display="inline-block",A.appendChild(H);var z=H.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=I,z.canvas.height=M,z.drawImage(w,0,0,E,O,j.x,j.y,j.width,j.height)}var W=ur.FILE_SCAN_HIDDEN_CANVAS_PADDING,Z=Math.max(w.width,j.width),ie=Math.max(w.height,j.height),q=Z+2*W,te=ie+2*W,Ae=h.createCanvasElement(q,te);A.appendChild(Ae);var Xe=Ae.getContext("2d");if(!Xe)throw"Unable to get 2d context from canvas";Xe.canvas.width=q,Xe.canvas.height=te,Xe.drawImage(w,0,0,E,O,W,W,Z,ie);try{h.qrcode.decodeRobustlyAsync(Ae).then(function(Fe){x(Eh.createFromQrcodeResult(Fe))}).catch(p)}catch(Fe){p("QR code parse error, error = ".concat(Fe))}},w.onerror=p,w.onabort=p,w.onstalled=p,w.onsuspend=p,w.src=URL.createObjectURL(l)})},i.prototype.clear=function(){this.clearElement()},i.getCameras=function(){return lA.retrieve()},i.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},i.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},i.prototype.applyVideoConstraints=function(l){if(l){if(!u0.isMediaStreamConstraintsValid(l,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(l)},i.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},i.prototype.getSupportedFormats=function(l){var a=[Pe.QR_CODE,Pe.AZTEC,Pe.CODABAR,Pe.CODE_39,Pe.CODE_93,Pe.CODE_128,Pe.DATA_MATRIX,Pe.MAXICODE,Pe.ITF,Pe.EAN_13,Pe.EAN_8,Pe.PDF_417,Pe.RSS_14,Pe.RSS_EXPANDED,Pe.UPC_A,Pe.UPC_E,Pe.UPC_EAN_EXTENSION];if(!l||typeof l=="boolean"||!l.formatsToSupport)return a;if(!Array.isArray(l.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(l.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],x=0,p=l.formatsToSupport;x<p.length;x++){var w=p[x];Y_(w)?h.push(w):this.logger.warn("Invalid format: ".concat(w," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},i.prototype.getUseBarCodeDetectorIfSupported=function(l){if(Gr(l))return!0;if(!Gr(l.useBarCodeDetectorIfSupported))return l.useBarCodeDetectorIfSupported!==!1;if(Gr(l.experimentalFeatures))return!0;var a=l.experimentalFeatures;return Gr(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},i.prototype.validateQrboxSize=function(l,a,h){var x=this,p=h.qrbox;this.validateQrboxConfig(p);var w=this.toQrdimensions(l,a,p),E=function(A){if(A<ur.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ur.MIN_QR_BOX_SIZE,"px.")},O=function(A){return A>l&&(x.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),A=l),A};E(w.width),E(w.height),w.width=O(w.width)},i.prototype.validateQrboxConfig=function(l){if(typeof l!="number"&&typeof l!="function"&&(l.width===void 0||l.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},i.prototype.toQrdimensions=function(l,a,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(l,a)}catch(x){throw new Error("qrbox config was passed as a function but it failed with unknown error"+x)}return h},i.prototype.setupUi=function(l,a,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(l,a,h);var x=Gr(h.qrbox)?{width:l,height:a}:h.qrbox;this.validateQrboxConfig(x);var p=this.toQrdimensions(l,a,x);p.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var w=h.isShadedBoxEnabled()&&p.height<=a,E={x:0,y:0,width:l,height:a},O=w?this.getShadedRegionBounds(l,a,p):E,A=this.createCanvasElement(O.width,O.height),I={willReadFrequently:!0},M=A.getContext("2d",I);M.canvas.width=O.width,M.canvas.height=O.height,this.element.append(A),w&&this.possiblyInsertShadingElement(this.element,l,a,p),this.createScannerPausedUiElement(this.element),this.qrRegion=O,this.context=M,this.canvasElement=A},i.prototype.createScannerPausedUiElement=function(l){var a=document.createElement("div");a.innerText=bs.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",l.appendChild(a),this.scannerPausedUiElement=a},i.prototype.scanContext=function(l,a){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(x){return l(x.text,Eh.createFromQrcodeResult(x)),h.possiblyUpdateShaders(!0),!0}).catch(function(x){h.possiblyUpdateShaders(!1);var p=bs.codeParseError(x);return a(p,l0.createFrom(p)),!1})},i.prototype.foreverScan=function(l,a,h){var x=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),w=p.videoWidth/p.clientWidth,E=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var O=this.qrRegion.width*w,A=this.qrRegion.height*E,I=this.qrRegion.x*w,M=this.qrRegion.y*E;this.context.drawImage(p,I,M,O,A,0,0,this.qrRegion.width,this.qrRegion.height);var j=function(){x.foreverScanTimeout=setTimeout(function(){x.foreverScan(l,a,h)},x.getTimeoutFps(l.fps))};this.scanContext(a,h).then(function(H){!H&&l.disableFlip!==!0?(x.context.translate(x.context.canvas.width,0),x.context.scale(-1,1),x.scanContext(a,h).finally(function(){j()})):j()}).catch(function(H){x.logger.logError("Error happend while scanning context",H),j()})}},i.prototype.createVideoConstraints=function(l){if(typeof l=="string")return{deviceId:{exact:l}};if(typeof l=="object"){var a="facingMode",h="deviceId",x={user:!0,environment:!0},p="exact",w=function(z){if(z in x)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(z,"'")},E=Object.keys(l);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var O=Object.keys(l)[0];if(O!==a&&O!==h)throw"Only '".concat(a,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(O===a){var A=l.facingMode;if(typeof A=="string"){if(w(A))return{facingMode:A}}else if(typeof A=="object")if(p in A){if(w(A["".concat(p)]))return{facingMode:{exact:A["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var I=typeof A;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var M=l.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(p in M)return{deviceId:{exact:M["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var j=typeof M;throw"Invalid type of 'deviceId' = ".concat(j)}}}var H=typeof l;throw"Invalid type of 'cameraIdOrConfig' = ".concat(H)},i.prototype.computeCanvasDrawConfig=function(l,a,h,x){if(l<=h&&a<=x){var p=(h-l)/2,w=(x-a)/2;return{x:p,y:w,width:l,height:a}}else{var E=l,O=a;return l>h&&(a=h/l*a,l=h),a>x&&(l=x/a*l,a=x),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(O)+" to ".concat(l,"X").concat(a,".")),this.computeCanvasDrawConfig(l,a,h,x)}},i.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var l=document.getElementById(this.elementId);l&&(l.innerHTML="")},i.prototype.possiblyUpdateShaders=function(l){this.qrMatch!==l&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=l?ur.BORDER_SHADER_MATCH_COLOR:ur.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=l)},i.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},i.prototype.createCanvasElement=function(l,a,h){var x=l,p=a,w=document.createElement("canvas");return w.style.width="".concat(x,"px"),w.style.height="".concat(p,"px"),w.style.display="none",w.id=Gr(h)?"qr-canvas":h,w},i.prototype.getShadedRegionBounds=function(l,a,h){if(h.width>l||h.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(l-h.width)/2,y:(a-h.height)/2,width:h.width,height:h.height}},i.prototype.possiblyInsertShadingElement=function(l,a,h,x){if(!(a-x.width<1||h-x.height<1)){var p=document.createElement("div");p.style.position="absolute";var w=(a-x.width)/2,E=(h-x.height)/2;if(p.style.borderLeft="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(ur.SHADED_REGION_ELEMENT_ID),a-x.width<11||h-x.height<11)this.hasBorderShaders=!1;else{var O=5,A=40;this.insertShaderBorders(p,A,O,-O,null,0,!0),this.insertShaderBorders(p,A,O,-O,null,0,!1),this.insertShaderBorders(p,A,O,null,-O,0,!0),this.insertShaderBorders(p,A,O,null,-O,0,!1),this.insertShaderBorders(p,O,A+O,-O,null,-O,!0),this.insertShaderBorders(p,O,A+O,null,-O,-O,!0),this.insertShaderBorders(p,O,A+O,-O,null,-O,!1),this.insertShaderBorders(p,O,A+O,null,-O,-O,!1),this.hasBorderShaders=!0}l.append(p)}},i.prototype.insertShaderBorders=function(l,a,h,x,p,w,E){var O=document.createElement("div");O.style.position="absolute",O.style.backgroundColor=ur.BORDER_SHADER_DEFAULT_COLOR,O.style.width="".concat(a,"px"),O.style.height="".concat(h,"px"),x!==null&&(O.style.top="".concat(x,"px")),p!==null&&(O.style.bottom="".concat(p,"px")),E?O.style.left="".concat(w,"px"):O.style.right="".concat(w,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(O),l.appendChild(O)},i.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},i.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},i.prototype.getTimeoutFps=function(l){return 1e3/l},i}(),nu="data:image/svg+xml;base64,",gA=nu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",pA=nu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",vh=nu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",xA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Th=function(){function i(){}return i.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},i}(),mA=function(){function i(){this.data=Th.createDefault();var l=localStorage.getItem(i.LOCAL_STORAGE_KEY);l?this.data=JSON.parse(l):this.reset()}return i.prototype.hasCameraPermissions=function(){return this.data.hasPermission},i.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},i.prototype.setHasPermission=function(l){this.data.hasPermission=l,this.flush()},i.prototype.setLastUsedCameraId=function(l){this.data.lastUsedCameraId=l,this.flush()},i.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},i.prototype.reset=function(){this.data=Th.createDefault(),this.flush()},i.prototype.flush=function(){localStorage.setItem(i.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},i.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",i}(),wA=function(){function i(){this.infoDiv=document.createElement("div")}return i.prototype.renderInto=function(l){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=_h.poweredBy();var a=document.createElement("a");a.innerText="ScanApp",a.href="https://scanapp.org",a.target="new",a.style.color="white",this.infoDiv.appendChild(a);var h=document.createElement("br"),x=document.createElement("br");this.infoDiv.appendChild(h),this.infoDiv.appendChild(x);var p=document.createElement("a");p.innerText=_h.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),l.appendChild(this.infoDiv)},i.prototype.show=function(){this.infoDiv.style.display="block"},i.prototype.hide=function(){this.infoDiv.style.display="none"},i}(),EA=function(){function i(l,a){this.isShowingInfoIcon=!0,this.onTapIn=l,this.onTapOut=a,this.infoIcon=document.createElement("img")}return i.prototype.renderInto=function(l){var a=this;this.infoIcon.alt="Info icon",this.infoIcon.src=vh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(h){return a.onHoverIn()},this.infoIcon.onmouseout=function(h){return a.onHoverOut()},this.infoIcon.onclick=function(h){return a.onClick()},l.appendChild(this.infoIcon)},i.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},i.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},i.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=xA,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=vh,this.infoIcon.style.opacity="0.6")},i}(),_A=function(){function i(){var l=this;this.infoDiv=new wA,this.infoIcon=new EA(function(){l.infoDiv.show()},function(){l.infoDiv.hide()})}return i.prototype.renderInto=function(l){this.infoDiv.renderInto(l),this.infoIcon.renderInto(l)},i}(),AA=globalThis&&globalThis.__awaiter||function(i,l,a,h){function x(p){return p instanceof a?p:new a(function(w){w(p)})}return new(a||(a=Promise))(function(p,w){function E(I){try{A(h.next(I))}catch(M){w(M)}}function O(I){try{A(h.throw(I))}catch(M){w(M)}}function A(I){I.done?p(I.value):x(I.value).then(E,O)}A((h=h.apply(i,l||[])).next())})},CA=globalThis&&globalThis.__generator||function(i,l){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,x,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(A){return function(I){return O([A,I])}}function O(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(a=0)),a;)try{if(h=1,x&&(p=A[0]&2?x.return:A[0]?x.throw||((p=x.return)&&p.call(x),0):x.next)&&!(p=p.call(x,A[1])).done)return p;switch(x=0,p&&(A=[A[0]&2,p.value]),A[0]){case 0:case 1:p=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,x=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(A[0]===6||A[0]===2)){a=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){a.label=A[1];break}if(A[0]===6&&a.label<p[1]){a.label=p[1],p=A;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(A);break}p[2]&&a.ops.pop(),a.trys.pop();continue}A=l.call(i,a)}catch(I){A=[6,I],x=0}finally{h=p=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Oh=function(){function i(){}return i.hasPermissions=function(){return AA(this,void 0,void 0,function(){var l,a,h,x;return CA(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(l=p.sent(),a=0,h=l;a<h.length;a++)if(x=h[a],x.kind==="videoinput"&&x.label)return[2,!0];return[2,!1]}})})},i}(),Ti=function(){function i(l){this.supportedScanTypes=this.validateAndReturnScanTypes(l)}return i.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},i.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},i.prototype.isCameraScanRequired=function(){for(var l=0,a=this.supportedScanTypes;l<a.length;l++){var h=a[l];if(i.isCameraScanType(h))return!0}return!1},i.isCameraScanType=function(l){return l===Ri.SCAN_TYPE_CAMERA},i.isFileScanType=function(l){return l===Ri.SCAN_TYPE_FILE},i.prototype.validateAndReturnScanTypes=function(l){if(!l||l.length===0)return Lr.DEFAULT_SUPPORTED_SCAN_TYPE;var a=Lr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(l.length>a)throw"Max ".concat(a," values expected for ")+"supportedScanTypes";for(var h=0,x=l;h<x.length;h++){var p=x[h];if(!Lr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return l},i}(),hr=function(){function i(){}return i.ALL_ELEMENT_CLASS="html5-qrcode-element",i.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",i.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",i.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",i.TORCH_BUTTON_ID="html5-qrcode-button-torch",i.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",i.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",i.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",i.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",i.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",i.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",i}(),ui=function(){function i(){}return i.createElement=function(l,a){var h=document.createElement(l);return h.id=a,h.classList.add(hr.ALL_ELEMENT_CLASS),l==="button"&&h.setAttribute("type","button"),h},i}(),h0=globalThis&&globalThis.__awaiter||function(i,l,a,h){function x(p){return p instanceof a?p:new a(function(w){w(p)})}return new(a||(a=Promise))(function(p,w){function E(I){try{A(h.next(I))}catch(M){w(M)}}function O(I){try{A(h.throw(I))}catch(M){w(M)}}function A(I){I.done?p(I.value):x(I.value).then(E,O)}A((h=h.apply(i,l||[])).next())})},d0=globalThis&&globalThis.__generator||function(i,l){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,x,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(A){return function(I){return O([A,I])}}function O(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(a=0)),a;)try{if(h=1,x&&(p=A[0]&2?x.return:A[0]?x.throw||((p=x.return)&&p.call(x),0):x.next)&&!(p=p.call(x,A[1])).done)return p;switch(x=0,p&&(A=[A[0]&2,p.value]),A[0]){case 0:case 1:p=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,x=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(A[0]===6||A[0]===2)){a=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){a.label=A[1];break}if(A[0]===6&&a.label<p[1]){a.label=p[1],p=A;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(A);break}p[2]&&a.ops.pop(),a.trys.pop();continue}A=l.call(i,a)}catch(I){A=[6,I],x=0}finally{h=p=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Nh=function(){function i(l,a,h){this.isTorchOn=!1,this.torchCapability=l,this.buttonController=a,this.onTorchActionFailureCallback=h}return i.prototype.isTorchEnabled=function(){return this.isTorchOn},i.prototype.flipState=function(){return h0(this,void 0,void 0,function(){var l,a;return d0(this,function(h){switch(h.label){case 0:this.buttonController.disable(),l=!this.isTorchOn,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.torchCapability.apply(l)];case 2:return h.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),l),[3,4];case 3:return a=h.sent(),this.propagateFailure(l,a),this.buttonController.enable(),[3,4];case 4:return[2]}})})},i.prototype.updateUiBasedOnLatestSettings=function(l,a){l===a?(this.buttonController.setText(a?kt.torchOffButton():kt.torchOnButton()),this.isTorchOn=a):this.propagateFailure(a),this.buttonController.enable()},i.prototype.propagateFailure=function(l,a){var h=l?kt.torchOnFailedMessage():kt.torchOffFailedMessage();a&&(h+="; Error = "+a),this.onTorchActionFailureCallback(h)},i.prototype.reset=function(){this.isTorchOn=!1},i}(),yA=function(){function i(l,a){this.onTorchActionFailureCallback=a,this.torchButton=ui.createElement("button",hr.TORCH_BUTTON_ID),this.torchController=new Nh(l,this,a)}return i.prototype.render=function(l,a){var h=this;this.torchButton.innerText=kt.torchOnButton(),this.torchButton.style.display=a.display,this.torchButton.style.marginLeft=a.marginLeft;var x=this;this.torchButton.addEventListener("click",function(p){return h0(h,void 0,void 0,function(){return d0(this,function(w){switch(w.label){case 0:return[4,x.torchController.flipState()];case 1:return w.sent(),x.torchController.isTorchEnabled()?(x.torchButton.classList.remove(hr.TORCH_BUTTON_CLASS_TORCH_OFF),x.torchButton.classList.add(hr.TORCH_BUTTON_CLASS_TORCH_ON)):(x.torchButton.classList.remove(hr.TORCH_BUTTON_CLASS_TORCH_ON),x.torchButton.classList.add(hr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),l.appendChild(this.torchButton)},i.prototype.updateTorchCapability=function(l){this.torchController=new Nh(l,this,this.onTorchActionFailureCallback)},i.prototype.getTorchButton=function(){return this.torchButton},i.prototype.hide=function(){this.torchButton.style.display="none"},i.prototype.show=function(){this.torchButton.style.display="inline-block"},i.prototype.disable=function(){this.torchButton.disabled=!0},i.prototype.enable=function(){this.torchButton.disabled=!1},i.prototype.setText=function(l){this.torchButton.innerText=l},i.prototype.reset=function(){this.torchButton.innerText=kt.torchOnButton(),this.torchController.reset()},i.create=function(l,a,h,x){var p=new i(a,x);return p.render(l,h),p},i}(),IA=function(){function i(l,a,h){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=a?"block":"none",l.appendChild(this.fileBasedScanRegion);var x=document.createElement("label");x.setAttribute("for",this.getFileScanInputId()),x.style.display="inline-block",this.fileBasedScanRegion.appendChild(x),this.fileSelectionButton=ui.createElement("button",hr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){x.click()}),x.append(this.fileSelectionButton),this.fileScanInput=ui.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",x.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var O=E.target;if(!(O.files&&O.files.length===0)){var A=O.files,I=A[0],M=I.name;p.setImageNameToButton(M),h(I)}}});var w=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(w),this.fileBasedScanRegion.addEventListener("dragenter",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var O=E.dataTransfer;if(O){var A=O.files;if(!A||A.length===0)return;for(var I=!1,M=0;M<A.length;++M){var j=A.item(M);if(j){var H=/image.*/;if(j.type.match(H)){I=!0;var z=j.name;p.setImageNameToButton(z),h(j),w.innerText=kt.dragAndDropMessage();break}}}I||(w.innerText=kt.dragAndDropMessageOnlyImages())}})}return i.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},i.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},i.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},i.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},i.prototype.createFileBasedScanRegion=function(){var l=document.createElement("div");return l.style.textAlign="center",l.style.margin="auto",l.style.width="80%",l.style.maxWidth="600px",l.style.border=this.fileBasedScanRegionDefaultBorder(),l.style.padding="10px",l.style.marginBottom="10px",l},i.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},i.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},i.prototype.createDragAndDropMessage=function(){var l=document.createElement("div");return l.innerText=kt.dragAndDropMessage(),l.style.fontWeight="400",l},i.prototype.setImageNameToButton=function(l){var a=20;if(l.length>a){var h=l.substring(0,8),x=l.length,p=l.substring(x-8,x);l="".concat(h,"....").concat(p)}var w=kt.fileSelectionChooseAnother()+" - "+l;this.fileSelectionButton.innerText=w},i.prototype.setInitialValueToButton=function(){var l=kt.fileSelectionChooseImage()+" - "+kt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=l},i.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},i.create=function(l,a,h){var x=new i(l,a,h);return x},i}(),bA=function(){function i(l){this.selectElement=ui.createElement("select",hr.CAMERA_SELECTION_SELECT_ID),this.cameras=l,this.options=[]}return i.prototype.render=function(l){var a=document.createElement("span");a.style.marginRight="10px";var h=this.cameras.length;if(h===0)throw new Error("No cameras found");if(h===1)a.style.display="none";else{var x=kt.selectCamera();a.innerText="".concat(x," (").concat(this.cameras.length,")  ")}for(var p=1,w=0,E=this.cameras;w<E.length;w++){var O=E[w],A=O.id,I=O.label==null?A:O.label;(!I||I==="")&&(I=[kt.anonymousCameraPrefix(),p++].join(" "));var M=document.createElement("option");M.value=A,M.innerText=I,this.options.push(M),this.selectElement.appendChild(M)}a.appendChild(this.selectElement),l.appendChild(a)},i.prototype.disable=function(){this.selectElement.disabled=!0},i.prototype.isDisabled=function(){return this.selectElement.disabled===!0},i.prototype.enable=function(){this.selectElement.disabled=!1},i.prototype.getValue=function(){return this.selectElement.value},i.prototype.hasValue=function(l){for(var a=0,h=this.options;a<h.length;a++){var x=h[a];if(x.value===l)return!0}return!1},i.prototype.setValue=function(l){if(!this.hasValue(l))throw new Error("".concat(l," is not present in the camera list."));this.selectElement.value=l},i.prototype.hasSingleItem=function(){return this.cameras.length===1},i.prototype.numCameras=function(){return this.cameras.length},i.create=function(l,a){var h=new i(a);return h.render(l),h},i}(),SA=function(){function i(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ui.createElement("input",hr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return i.prototype.render=function(l,a){this.zoomElementContainer.style.display=a?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",l.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var h=kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(h),this.rangeText.style.marginRight="10px";var x=this;this.rangeInput.addEventListener("input",function(){return x.onValueChange()}),this.rangeInput.addEventListener("change",function(){return x.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},i.prototype.onValueChange=function(){var l=kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(l),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},i.prototype.setValues=function(l,a,h,x){this.rangeInput.min=l.toString(),this.rangeInput.max=a.toString(),this.rangeInput.step=x.toString(),this.rangeInput.value=h.toString(),this.onValueChange()},i.prototype.show=function(){this.zoomElementContainer.style.display="block"},i.prototype.hide=function(){this.zoomElementContainer.style.display="none"},i.prototype.setOnCameraZoomValueChangeCallback=function(l){this.onChangeCallback=l},i.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},i.create=function(l,a){var h=new i;return h.render(l,a),h},i}(),fr;(function(i){i[i.STATUS_DEFAULT=0]="STATUS_DEFAULT",i[i.STATUS_SUCCESS=1]="STATUS_SUCCESS",i[i.STATUS_WARNING=2]="STATUS_WARNING",i[i.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(fr||(fr={}));function vA(i){return{fps:i.fps,qrbox:i.qrbox,aspectRatio:i.aspectRatio,disableFlip:i.disableFlip,videoConstraints:i.videoConstraints}}function TA(i,l){return{formatsToSupport:i.formatsToSupport,useBarCodeDetectorIfSupported:i.useBarCodeDetectorIfSupported,experimentalFeatures:i.experimentalFeatures,verbose:l}}var OA=function(){function i(l,a,h){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=l,this.config=this.createConfig(a),this.verbose=h===!0,!document.getElementById(l))throw"HTML Element with id=".concat(l," not found");this.scanTypeSelector=new Ti(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new c0(this.verbose),this.persistedDataManager=new mA,a.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return i.prototype.render=function(l,a){var h=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,w){if(l)l(p,w);else{if(h.lastMatchFound===p)return;h.lastMatchFound=p,h.setHeaderMessage(kt.lastMatch(p),fr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,w){a&&a(p,w)};var x=document.getElementById(this.elementId);if(!x)throw"HTML Element with id=".concat(this.elementId," not found");x.innerHTML="",this.createBasicLayout(x),this.html5Qrcode=new Sc(this.getScanRegionId(),TA(this.config,this.verbose))},i.prototype.pause=function(l){(Gr(l)||l!==!0)&&(l=!1),this.getHtml5QrcodeOrFail().pause(l)},i.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},i.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},i.prototype.clear=function(){var l=this,a=function(){var h=document.getElementById(l.elementId);h&&(h.innerHTML="",l.resetBasicLayout(h))};return this.html5Qrcode?new Promise(function(h,x){if(!l.html5Qrcode){h();return}l.html5Qrcode.isScanning?l.html5Qrcode.stop().then(function(p){if(!l.html5Qrcode){h();return}l.html5Qrcode.clear(),a(),h()}).catch(function(p){l.verbose&&l.logger.logError("Unable to stop qrcode scanner",p),x(p)}):(l.html5Qrcode.clear(),a(),h())}):Promise.resolve()},i.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},i.prototype.applyVideoConstraints=function(l){return this.getHtml5QrcodeOrFail().applyVideoConstraints(l)},i.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},i.prototype.createConfig=function(l){return l?(l.fps||(l.fps=Lr.SCAN_DEFAULT_FPS),l.rememberLastUsedCamera!==!Lr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(l.rememberLastUsedCamera=Lr.DEFAULT_REMEMBER_LAST_CAMERA_USED),l.supportedScanTypes||(l.supportedScanTypes=Lr.DEFAULT_SUPPORTED_SCAN_TYPE),l):{fps:Lr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Lr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Lr.DEFAULT_SUPPORTED_SCAN_TYPE}},i.prototype.createBasicLayout=function(l){l.style.position="relative",l.style.padding="0px",l.style.border="1px solid silver",this.createHeader(l);var a=document.createElement("div"),h=this.getScanRegionId();a.id=h,a.style.width="100%",a.style.minHeight="100px",a.style.textAlign="center",l.appendChild(a),Ti.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var x=document.createElement("div"),p=this.getDashboardId();x.id=p,x.style.width="100%",l.appendChild(x),this.setupInitialDashboard(x)},i.prototype.resetBasicLayout=function(l){l.style.border="none"},i.prototype.setupInitialDashboard=function(l){this.createSection(l),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},i.prototype.createHeader=function(l){var a=document.createElement("div");a.style.textAlign="left",a.style.margin="0px",l.appendChild(a);var h=new _A;h.renderInto(a);var x=document.createElement("div");x.id=this.getHeaderMessageContainerId(),x.style.display="none",x.style.textAlign="center",x.style.fontSize="14px",x.style.padding="2px 10px",x.style.margin="4px",x.style.borderTop="1px solid #f6f6f6",a.appendChild(x)},i.prototype.createSection=function(l){var a=document.createElement("div");a.id=this.getDashboardSectionId(),a.style.width="100%",a.style.padding="10px 0px 10px 0px",a.style.textAlign="left",l.appendChild(a)},i.prototype.createCameraListUi=function(l,a,h){var x=this;x.showHideScanTypeSwapLink(!1),x.setHeaderMessage(kt.cameraPermissionRequesting());var p=function(){h||x.createPermissionButton(l,a)};Sc.getCameras().then(function(w){x.persistedDataManager.setHasPermission(!0),x.showHideScanTypeSwapLink(!0),x.resetHeaderMessage(),w&&w.length>0?(l.removeChild(a),x.renderCameraSelection(w)):(x.setHeaderMessage(kt.noCameraFound(),fr.STATUS_WARNING),p())}).catch(function(w){x.persistedDataManager.setHasPermission(!1),h?h.disabled=!1:p(),x.setHeaderMessage(w,fr.STATUS_WARNING),x.showHideScanTypeSwapLink(!0)})},i.prototype.createPermissionButton=function(l,a){var h=this,x=ui.createElement("button",this.getCameraPermissionButtonId());x.innerText=kt.cameraPermissionTitle(),x.addEventListener("click",function(){x.disabled=!0,h.createCameraListUi(l,a,x)}),a.appendChild(x)},i.prototype.createPermissionsUi=function(l,a){var h=this;if(Ti.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Oh.hasPermissions().then(function(x){x?h.createCameraListUi(l,a):(h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(l,a))}).catch(function(x){h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(l,a)});return}this.createPermissionButton(l,a)},i.prototype.createSectionControlPanel=function(){var l=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");l.appendChild(a);var h=document.createElement("div");h.id=this.getDashboardSectionCameraScanRegionId(),h.style.display=Ti.isCameraScanType(this.currentScanType)?"block":"none",a.appendChild(h);var x=document.createElement("div");x.style.textAlign="center",h.appendChild(x),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(h,x),this.renderFileScanUi(a)},i.prototype.renderFileScanUi=function(l){var a=Ti.isFileScanType(this.currentScanType),h=this,x=function(p){if(!h.html5Qrcode)throw"html5Qrcode not defined";Ti.isFileScanType(h.currentScanType)&&(h.setHeaderMessage(kt.loadingImage()),h.html5Qrcode.scanFileV2(p,!0).then(function(w){h.resetHeaderMessage(),h.qrCodeSuccessCallback(w.decodedText,w)}).catch(function(w){h.setHeaderMessage(w,fr.STATUS_WARNING),h.qrCodeErrorCallback(w,l0.createFrom(w))}))};this.fileSelectionUi=IA.create(l,a,x)},i.prototype.renderCameraSelection=function(l){var a=this,h=this,x=document.getElementById(this.getDashboardSectionCameraScanRegionId());x.style.textAlign="center";var p=SA.create(x,!1),w=function(W){var Z=W.zoomFeature();if(Z.isSupported()){p.setOnCameraZoomValueChangeCallback(function(q){Z.apply(q)});var ie=1;a.config.defaultZoomValueIfSupported&&(ie=a.config.defaultZoomValueIfSupported),ie=X_(ie,Z.min(),Z.max()),p.setValues(Z.min(),Z.max(),ie,Z.step()),p.show()}},E=bA.create(x,l),O=document.createElement("span"),A=ui.createElement("button",hr.CAMERA_START_BUTTON_ID);A.innerText=kt.scanButtonStartScanningText(),O.appendChild(A);var I=ui.createElement("button",hr.CAMERA_STOP_BUTTON_ID);I.innerText=kt.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,O.appendChild(I);var M,j=function(W){if(!W.torchFeature().isSupported()){M&&M.hide();return}M?M.updateTorchCapability(W.torchFeature()):M=yA.create(O,W.torchFeature(),{display:"none",marginLeft:"5px"},function(Z){h.setHeaderMessage(Z,fr.STATUS_WARNING)}),M.show()};x.appendChild(O);var H=function(W){W||(A.style.display="none"),A.innerText=kt.scanButtonStartScanningText(),A.style.opacity="1",A.disabled=!1,W&&(A.style.display="inline-block")};if(A.addEventListener("click",function(W){A.innerText=kt.scanButtonScanningStarting(),E.disable(),A.disabled=!0,A.style.opacity="0.5",a.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!1),h.resetHeaderMessage();var Z=E.getValue();h.persistedDataManager.setLastUsedCameraId(Z),h.html5Qrcode.start(Z,vA(h.config),h.qrCodeSuccessCallback,h.qrCodeErrorCallback).then(function(ie){I.disabled=!1,I.style.display="inline-block",H(!1);var q=h.html5Qrcode.getRunningTrackCameraCapabilities();a.config.showTorchButtonIfSupported===!0&&j(q),a.config.showZoomSliderIfSupported===!0&&w(q)}).catch(function(ie){h.showHideScanTypeSwapLink(!0),E.enable(),H(!0),h.setHeaderMessage(ie,fr.STATUS_WARNING)})}),E.hasSingleItem()&&A.click(),I.addEventListener("click",function(W){if(!h.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,h.html5Qrcode.stop().then(function(Z){a.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!0),E.enable(),A.disabled=!1,I.style.display="none",A.style.display="inline-block",M&&(M.reset(),M.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),h.insertCameraScanImageToScanRegion()}).catch(function(Z){I.disabled=!1,h.setHeaderMessage(Z,fr.STATUS_WARNING)})}),h.persistedDataManager.getLastUsedCameraId()){var z=h.persistedDataManager.getLastUsedCameraId();E.hasValue(z)?(E.setValue(z),A.click()):h.persistedDataManager.resetLastUsedCameraId()}},i.prototype.createSectionSwap=function(){var l=this,a=kt.textIfCameraScanSelected(),h=kt.textIfFileScanSelected(),x=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var w=ui.createElement("span",this.getDashboardSectionSwapLinkId());w.style.textDecoration="underline",w.style.cursor="pointer",w.innerText=Ti.isCameraScanType(this.currentScanType)?a:h,w.addEventListener("click",function(){if(!l.sectionSwapAllowed){l.verbose&&l.logger.logError("Section swap called when not allowed");return}l.resetHeaderMessage(),l.fileSelectionUi.resetValue(),l.sectionSwapAllowed=!1,Ti.isCameraScanType(l.currentScanType)?(l.clearScanRegion(),l.getCameraScanRegion().style.display="none",l.fileSelectionUi.show(),w.innerText=h,l.currentScanType=Ri.SCAN_TYPE_FILE,l.insertFileScanImageToScanRegion()):(l.clearScanRegion(),l.getCameraScanRegion().style.display="block",l.fileSelectionUi.hide(),w.innerText=a,l.currentScanType=Ri.SCAN_TYPE_CAMERA,l.insertCameraScanImageToScanRegion(),l.startCameraScanIfPermissionExistsOnSwap()),l.sectionSwapAllowed=!0}),p.appendChild(w),x.appendChild(p)},i.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var l=this,a=this;if(this.persistedDataManager.hasCameraPermissions()){Oh.hasPermissions().then(function(h){if(h){var x=document.getElementById(a.getCameraPermissionButtonId());if(!x)throw l.logger.logError("Permission button not found, fail;"),"Permission button not found";x.click()}else a.persistedDataManager.setHasPermission(!1)}).catch(function(h){a.persistedDataManager.setHasPermission(!1)});return}},i.prototype.resetHeaderMessage=function(){var l=document.getElementById(this.getHeaderMessageContainerId());l.style.display="none"},i.prototype.setHeaderMessage=function(l,a){a||(a=fr.STATUS_DEFAULT);var h=this.getHeaderMessageDiv();switch(h.innerText=l,h.style.display="block",a){case fr.STATUS_SUCCESS:h.style.background="rgba(106, 175, 80, 0.26)",h.style.color="#477735";break;case fr.STATUS_WARNING:h.style.background="rgba(203, 36, 49, 0.14)",h.style.color="#cb2431";break;case fr.STATUS_DEFAULT:default:h.style.background="rgba(0, 0, 0, 0)",h.style.color="rgb(17, 17, 17)";break}},i.prototype.showHideScanTypeSwapLink=function(l){this.scanTypeSelector.hasMoreThanOneScanType()&&(l!==!0&&(l=!1),this.sectionSwapAllowed=l,this.getDashboardSectionSwapLink().style.display=l?"inline-block":"none")},i.prototype.insertCameraScanImageToScanRegion=function(){var l=this,a=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){a.innerHTML="<br>",a.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(h){a.innerHTML="<br>",a.appendChild(l.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=gA,this.cameraScanImage.alt=kt.cameraScanAltText()},i.prototype.insertFileScanImageToScanRegion=function(){var l=this,a=document.getElementById(this.getScanRegionId());if(this.fileScanImage){a.innerHTML="<br>",a.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(h){a.innerHTML="<br>",a.appendChild(l.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=pA,this.fileScanImage.alt=kt.fileScanAltText()},i.prototype.clearScanRegion=function(){var l=document.getElementById(this.getScanRegionId());l.innerHTML=""},i.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},i.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},i.prototype.getDashboardSectionSwapLinkId=function(){return hr.SCAN_TYPE_CHANGE_ANCHOR_ID},i.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},i.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},i.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},i.prototype.getCameraPermissionButtonId=function(){return hr.CAMERA_PERMISSION_BUTTON_ID},i.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},i.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},i.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},i}();const g0=new URLSearchParams(window.location.search);let NA=g0.get("orderKey"),MA=g0.get("orderDirection");window.MyApp={sortData:i=>{i===NA?MyApp.filterFn({orderKey:i,orderDirection:MA==="asc"?"desc":"asc"}):MyApp.filterFn({orderKey:i,orderDirection:"asc"})},filterFn:i=>{const a={...i,page:1};let h=new URL(window.location.href),x=new URLSearchParams(h.search);for(const p in a)x.set(p,a[p]);window.location.href=`${window.location.href.split("?")[0]}?${x.toString()}`}};window.Alpine=s0;s0.start();window.Choices=G_;window.Html5QrcodeScanner=OA;window.Html5Qrcode=Sc;
